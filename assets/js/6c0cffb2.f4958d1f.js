"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[7545],{15680:(e,n,r)=>{r.d(n,{xA:()=>c,yg:()=>d});var a=r(96540);function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function i(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?i(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function p(e,n){if(null==e)return{};var r,a,t=function(e,n){if(null==e)return{};var r,a,t={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],n.indexOf(r)>=0||(t[r]=e[r]);return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var s=a.createContext({}),l=function(e){var n=a.useContext(s),r=n;return e&&(r="function"==typeof e?e(n):o(o({},n),e)),r},c=function(e){var n=l(e.components);return a.createElement(s.Provider,{value:n},e.children)},y="mdxType",g={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var r=e.components,t=e.mdxType,i=e.originalType,s=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),y=l(r),u=t,d=y["".concat(s,".").concat(u)]||y[u]||g[u]||i;return r?a.createElement(d,o(o({ref:n},c),{},{components:r})):a.createElement(d,o({ref:n},c))}));function d(e,n){var r=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var i=r.length,o=new Array(i);o[0]=u;var p={};for(var s in n)hasOwnProperty.call(n,s)&&(p[s]=n[s]);p.originalType=e,p[y]="string"==typeof e?e:t,o[1]=p;for(var l=2;l<i;l++)o[l]=r[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}u.displayName="MDXCreateElement"},22075:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>g,frontMatter:()=>i,metadata:()=>p,toc:()=>l});var a=r(58168),t=(r(96540),r(15680));const i={title:"Azure Synapse Analytics",id:"azure-synapse-fabric-guide",description:"Configuring Synapse Fabric",sidebar_position:6,tags:["deployment","configuration","open-source-spark","livy"]},o=void 0,p={unversionedId:"Spark/fabrics/azure-synapse-fabric-guide",id:"Spark/fabrics/azure-synapse-fabric-guide",title:"Azure Synapse Analytics",description:"Configuring Synapse Fabric",source:"@site/docs/Spark/fabrics/synapsefabric.md",sourceDirName:"Spark/fabrics",slug:"/Spark/fabrics/azure-synapse-fabric-guide",permalink:"/Spark/fabrics/azure-synapse-fabric-guide",draft:!1,tags:[{label:"deployment",permalink:"/tags/deployment"},{label:"configuration",permalink:"/tags/configuration"},{label:"open-source-spark",permalink:"/tags/open-source-spark"},{label:"livy",permalink:"/tags/livy"}],version:"current",sidebarPosition:6,frontMatter:{title:"Azure Synapse Analytics",id:"azure-synapse-fabric-guide",description:"Configuring Synapse Fabric",sidebar_position:6,tags:["deployment","configuration","open-source-spark","livy"]},sidebar:"defaultSidebar",previous:{title:"Amazon EMR Serverless",permalink:"/Spark/fabrics/EMR-serverless-fabric-configuration"},next:{title:"Google Cloud Dataproc",permalink:"/Spark/fabrics/gcp-dataproc-fabric-guide"}},s={},l=[{value:"An existing Azure Synapse Analytics environment",id:"an-existing-azure-synapse-analytics-environment",level:2},{value:"Configure connectivity between Synapse and Prophecy",id:"configure-connectivity-between-synapse-and-prophecy",level:3}],c={toc:l},y="wrapper";function g(e){let{components:n,...i}=e;return(0,t.yg)(y,(0,a.A)({},c,i,{components:n,mdxType:"MDXLayout"}),(0,t.yg)("p",null,"In the context of Spark execution engines, users have the flexibility to opt for Azure Synapse Analytics while utilizing Prophecy. This comprehensive documentation aims to provide users with a clear understanding of the configuration process for Azure Synapse Analytics. Additionally, it offers step-by-step guidance on creating a Fabric that enables seamless connectivity to the Azure Synapse Workspace via Livy."),(0,t.yg)("p",null,"Feel free to explore the following sections to gain insights into the integration of Azure Synapse Analytics with Prophecy."),(0,t.yg)("h2",{id:"an-existing-azure-synapse-analytics-environment"},"An existing Azure Synapse Analytics environment"),(0,t.yg)("p",null,"A properly configured Azure Synapse Analytics environment is required before configuring a Synapse Fabric on Prophecy. Prophecy configurations include the following:"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"A Synapse workspace with proper security configured. If you don't have an existing workspace, you may deploy one from the ",(0,t.yg)("a",{parentName:"p",href:"https://azuremarketplace.microsoft.com/en-us/marketplace/apps/microsoft.synapse?tab=overview"},"Azure Marketplace"),"."),(0,t.yg)("img",{src:r(37820).A,alt:"Synapse security",width:"75%"})),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Deploy a Synapse Spark Pool if one doesn't already exist."),(0,t.yg)("img",{src:r(88285).A,alt:"Synapse pool",width:"75%"})),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Make sure the Application is registered."),(0,t.yg)("img",{src:r(82453).A,alt:"Synapse security",width:"75%"})),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Create a secret for your Application."),(0,t.yg)("img",{src:r(87558).A,alt:"Synapse security",width:"75%"})),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Make a note of your secret. We need this information for your Fabric."),(0,t.yg)("img",{src:r(20038).A,alt:"Synapse security",width:"75%"})),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Configure Application, Workspace, Storage roles to ensure proper access."))),(0,t.yg)("p",null,"Find more information on assigning roles from ",(0,t.yg)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/azure/synapse-analytics/security/how-to-set-up-access-control"},"Azure's documentation"),"."),(0,t.yg)("h3",{id:"configure-connectivity-between-synapse-and-prophecy"},"Configure connectivity between Synapse and Prophecy"),(0,t.yg)("p",null,"Note that the Prophecy public IP is ",(0,t.yg)("inlineCode",{parentName:"p"},"3.133.35.237"),"."),(0,t.yg)("p",null,"Navigate to Prophecy's UI and click on ",(0,t.yg)("strong",{parentName:"p"},"Create Fabric"),". The Fabric will establish a connection with your Synapse environment and utilize it as the execution engine for your Pipelines."),(0,t.yg)("br",null)," ",(0,t.yg)("br",null),(0,t.yg)("p",null,"Choose ",(0,t.yg)("strong",{parentName:"p"},"Synapse")," as your ",(0,t.yg)("strong",{parentName:"p"},"Provider"),"."),(0,t.yg)("br",null)," ",(0,t.yg)("br",null),(0,t.yg)("img",{src:r(67908).A,alt:"Synapse connect",width:"75%"}),(0,t.yg)("br",null)," ",(0,t.yg)("br",null),(0,t.yg)("p",null,"Copy and paste your ",(0,t.yg)("strong",{parentName:"p"},"Application Client ID"),", ",(0,t.yg)("strong",{parentName:"p"},"Secret Value"),", and ",(0,t.yg)("strong",{parentName:"p"},"Tenant ID")," from the App Registration page."),(0,t.yg)("br",null)," ",(0,t.yg)("br",null),(0,t.yg)("img",{src:r(97839).A,alt:"Synapse connect",width:"75%"}),(0,t.yg)("br",null)," ",(0,t.yg)("br",null),(0,t.yg)("p",null,"Copy and paste your Synapse ",(0,t.yg)("strong",{parentName:"p"},"Resource Group Name")," and ",(0,t.yg)("strong",{parentName:"p"},"Subscription ID")," from your Synapse workspace."),(0,t.yg)("br",null)," ",(0,t.yg)("br",null),(0,t.yg)("img",{src:r(34893).A,alt:"Synapse connect",width:"75%"}),(0,t.yg)("br",null)," ",(0,t.yg)("br",null),(0,t.yg)("p",null,"Click on ",(0,t.yg)("strong",{parentName:"p"},"Fetch environments"),"."),(0,t.yg)("br",null)," ",(0,t.yg)("br",null),(0,t.yg)("p",null,"Select your Spark pool from the ",(0,t.yg)("em",{parentName:"p"},"Spark environment")," dropdown. All other fields should be automatically populated after selecting your Spark Pool."),(0,t.yg)("br",null)," ",(0,t.yg)("br",null),(0,t.yg)("img",{src:r(67885).A,alt:"Synapse connect",width:"75%"}),(0,t.yg)("br",null)," ",(0,t.yg)("br",null),(0,t.yg)("p",null,"Click on ",(0,t.yg)("strong",{parentName:"p"},"Add Job Size")," and configure the Job size that you would like to use for processing."),(0,t.yg)("br",null)," ",(0,t.yg)("br",null),(0,t.yg)("img",{src:r(98856).A,alt:"Synapse connect",width:"55%"}),(0,t.yg)("br",null)," ",(0,t.yg)("br",null),(0,t.yg)("p",null,"Now we configure the dependencies."),(0,t.yg)("p",null,"Under ",(0,t.yg)("strong",{parentName:"p"},"Scala")," enter the following ",(0,t.yg)("strong",{parentName:"p"},"Path"),":"),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"https://prophecypublicazure.blob.core.windows.net/prophecy-public-libs/prophecy-scala-libs/")),(0,t.yg)("p",null,"Under ",(0,t.yg)("strong",{parentName:"p"},"Python")," enter the following ",(0,t.yg)("strong",{parentName:"p"},"Path"),":"),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"https://prophecypublicazure.blob.core.windows.net/prophecy-public-libs/prophecy-python-libs/")),(0,t.yg)("br",null)," ",(0,t.yg)("br",null),(0,t.yg)("p",null,"Click on ",(0,t.yg)("strong",{parentName:"p"},"Complete"),"."),(0,t.yg)("br",null)," ",(0,t.yg)("br",null),(0,t.yg)("p",null,"Your Fabric for Azure Synapase Fabric is configured! Try creating a cluster using the Fabric that you've just created and attach to it."),(0,t.yg)("p",null,"Run a simple Pipeline and make sure that the interim returns data properly."))}g.isMDXComponent=!0},82453:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/add_app-937bdc1428ee0a97e3acea501772e31a.png"},98856:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/addjsize-ec782a5eff9f50e2262c40a1a6119949.png"},97839:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/appconfig-789fe02f6fa14e7f82f5efc59de14f1a.png"},67908:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/provider1-0e071e211d1877540e95952cb5b2bb69.png"},87558:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/secret-8c889e31442b5be84a4c5fad20548931.png"},20038:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/secret2-1656c462b0ffbe7727121c767b70b650.png"},67885:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/selectsparkpool-0ef94c63f173e425a9264e33bbb130a5.png"},88285:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/sparkpool-f11414709c16f4a952aca06d4b200923.png"},34893:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/workspaceconfig-60630470c8dad38b02232738cd1c73e4.png"},37820:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/workspaceiam-60537a0ed72b6c75d6cc8621e28aab15.png"}}]);