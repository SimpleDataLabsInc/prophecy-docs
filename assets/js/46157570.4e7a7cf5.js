"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[20418],{28453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>d});var t=n(96540);const a={},i=t.createContext(a);function l(e){const s=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),t.createElement(i.Provider,{value:s},e.children)}},69642:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>d,metadata:()=>t,toc:()=>r});const t=JSON.parse('{"id":"analysts/development/gems/prepare/data-masking","title":"DataMasking","description":"Obfuscate data in one or more columns","source":"@site/docs/analysts/development/gems/prepare/masking.md","sourceDirName":"analysts/development/gems/prepare","slug":"/analysts/data-masking","permalink":"/analysts/data-masking","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"gems","permalink":"/tags/gems"},{"inline":true,"label":"analyst","permalink":"/tags/analyst"},{"inline":true,"label":"prepare","permalink":"/tags/prepare"}],"version":"current","frontMatter":{"title":"DataMasking","id":"data-masking","slug":"/analysts/data-masking","description":"Obfuscate data in one or more columns","tags":["gems","analyst","prepare"]},"sidebar":"mySidebar","previous":{"title":"DataCleansing","permalink":"/analysts/data-cleansing"},"next":{"title":"Deduplicate","permalink":"/analysts/deduplicate"}}');var a=n(74848),i=n(28453),l=n(77956);const d={title:"DataMasking",id:"data-masking",slug:"/analysts/data-masking",description:"Obfuscate data in one or more columns",tags:["gems","analyst","prepare"]},o=void 0,c={},r=[{value:"Input and Output",id:"input-and-output",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Masked column options",id:"masked-column-options",level:3},{value:"Substitute the new columns in place",id:"substitute-the-new-columns-in-place",level:4},{value:"Add new columns with a prefix/suffix attached",id:"add-new-columns-with-a-prefixsuffix-attached",level:4},{value:"Apply a single hash to all the selected columns at once",id:"apply-a-single-hash-to-all-the-selected-columns-at-once",level:4},{value:"Masking methods",id:"masking-methods",level:3},{value:"<code>mask</code>",id:"mask",level:4},{value:"<code>hash</code>",id:"hash",level:4},{value:"<code>crc32</code>",id:"crc32",level:4},{value:"<code>sha</code>",id:"sha",level:4},{value:"<code>sha2</code>",id:"sha2",level:4},{value:"<code>md5</code>",id:"md5",level:4},{value:"Example",id:"example",level:2}];function h(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{execution_engine:"SQL Warehouse",sql_package_name:"ProphecyDatabricksSqlBasics",sql_package_version:"0.0.12+"}),"\n",(0,a.jsx)(s.p,{children:"The DataMasking gem allows you to obfuscate sensitive string data in one or more columns. This can be useful for protecting personally identifiable information (PII) or other confidential values. This page describes the available masking methods in the gem and other configuration options."}),"\n",(0,a.jsx)(s.h2,{id:"input-and-output",children:"Input and Output"}),"\n",(0,a.jsx)(s.p,{children:"The DataMasking gem accepts the following input and output."}),"\n",(0,a.jsxs)(s.table,{children:[(0,a.jsx)(s.thead,{children:(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.th,{children:"Port"}),(0,a.jsx)(s.th,{children:"Description"})]})}),(0,a.jsxs)(s.tbody,{children:[(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.strong,{children:"in0"})}),(0,a.jsx)(s.td,{children:"Input dataset containing columns with data you want to mask."})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.strong,{children:"out"})}),(0,a.jsxs)(s.td,{children:["Output dataset with the masked data. The output schema depends on the ",(0,a.jsx)(s.a,{href:"#masked-column-options",children:"masked column option"})," you choose."]})]})]})]}),"\n",(0,a.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsx)(s.p,{children:"Configure the DataMasking gem using the following parameters."}),"\n",(0,a.jsxs)(s.table,{children:[(0,a.jsx)(s.thead,{children:(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.th,{children:"Parameter"}),(0,a.jsx)(s.th,{children:"Description"})]})}),(0,a.jsxs)(s.tbody,{children:[(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Select columns to apply masking on"}),(0,a.jsxs)(s.td,{children:["One or more string-type columns from the input dataset to transform. Only ",(0,a.jsx)(s.code,{children:"string"})," columns are supported."]})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Masking method"}),(0,a.jsxs)(s.td,{children:["The method used to obfuscate the data. Jump to ",(0,a.jsx)(s.a,{href:"#masking-methods",children:"Masking methods"})," to learn more."]})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Masked column options"}),(0,a.jsxs)(s.td,{children:["Choose how to output the masked data. Jump to ",(0,a.jsx)(s.a,{href:"#masked-column-options",children:"Masked column options"})," to learn more."]})]})]})]}),"\n",(0,a.jsx)(s.h3,{id:"masked-column-options",children:"Masked column options"}),"\n",(0,a.jsx)(s.h4,{id:"substitute-the-new-columns-in-place",children:"Substitute the new columns in place"}),"\n",(0,a.jsx)(s.p,{children:"The new values will appear in the original column."}),"\n",(0,a.jsx)(s.h4,{id:"add-new-columns-with-a-prefixsuffix-attached",children:"Add new columns with a prefix/suffix attached"}),"\n",(0,a.jsx)(s.p,{children:"The new values will appear in a new column that will have the original name with a prefix or suffix that you specify."}),"\n",(0,a.jsx)(s.h4,{id:"apply-a-single-hash-to-all-the-selected-columns-at-once",children:"Apply a single hash to all the selected columns at once"}),"\n",(0,a.jsxs)(s.p,{children:["There will only be one new output column, regardless of the number of columns to apply masking on. This only applies to the ",(0,a.jsx)(s.code,{children:"hash"})," masking method."]}),"\n",(0,a.jsx)(s.h3,{id:"masking-methods",children:"Masking methods"}),"\n",(0,a.jsx)(s.p,{children:"Choose one of the following techniques to obfuscate string data. Some methods support additional configuration options."}),"\n",(0,a.jsx)(s.h4,{id:"mask",children:(0,a.jsx)(s.code,{children:"mask"})}),"\n",(0,a.jsx)(s.p,{children:"Replaces characters in each string with substitute characters based on character type. Applies individually to each selected column. This method lets you optionally define the following additional parameters:"}),"\n",(0,a.jsxs)(s.table,{children:[(0,a.jsx)(s.thead,{children:(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.th,{children:"Name"}),(0,a.jsx)(s.th,{children:"Description"})]})}),(0,a.jsxs)(s.tbody,{children:[(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Upper char substitute key"}),(0,a.jsxs)(s.td,{children:["Character to replace uppercase letters. Default is ",(0,a.jsx)(s.code,{children:"'X'"}),". Use ",(0,a.jsx)(s.code,{children:"NULL"})," to keep the original."]})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Lower char substitute key"}),(0,a.jsxs)(s.td,{children:["Character to replace lowercase letters. Default is ",(0,a.jsx)(s.code,{children:"'x'"}),". Use ",(0,a.jsx)(s.code,{children:"NULL"})," to keep the original."]})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Digit char substitute key"}),(0,a.jsxs)(s.td,{children:["Character to replace digits. Default is ",(0,a.jsx)(s.code,{children:"'n'"}),". Use ",(0,a.jsx)(s.code,{children:"NULL"})," to keep the original."]})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Other char substitute key"}),(0,a.jsxs)(s.td,{children:["Character to replace all other characters. The default is ",(0,a.jsx)(s.code,{children:"NULL"}),", which leaves the original characters unmasked."]})]})]})]}),"\n",(0,a.jsx)(s.h4,{id:"hash",children:(0,a.jsx)(s.code,{children:"hash"})}),"\n",(0,a.jsx)(s.p,{children:"Applies a hash function to column values. This method will apply the hash in one of two ways:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"The hash function is applied to each input column individually, and a new output column will be created for each input column."}),"\n",(0,a.jsx)(s.li,{children:"The hash function is applied to all selected columns combined into a single hash value in a single new output column."}),"\n"]}),"\n",(0,a.jsx)(s.h4,{id:"crc32",children:(0,a.jsx)(s.code,{children:"crc32"})}),"\n",(0,a.jsx)(s.p,{children:"Applies the CRC32 hash function to each selected column. This method has no additional parameters."}),"\n",(0,a.jsx)(s.h4,{id:"sha",children:(0,a.jsx)(s.code,{children:"sha"})}),"\n",(0,a.jsx)(s.p,{children:"Applies the SHA-1 hash function to each selected column. This method has no additional parameters."}),"\n",(0,a.jsx)(s.h4,{id:"sha2",children:(0,a.jsx)(s.code,{children:"sha2"})}),"\n",(0,a.jsx)(s.p,{children:"Applies the SHA-2 hashing algorithm to each selected column. This method lets you select the bit length for masking:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Bit length can be ",(0,a.jsx)(s.code,{children:"224"}),", ",(0,a.jsx)(s.code,{children:"256"}),", ",(0,a.jsx)(s.code,{children:"384"}),", or ",(0,a.jsx)(s.code,{children:"512"}),"."]}),"\n"]}),"\n",(0,a.jsx)(s.h4,{id:"md5",children:(0,a.jsx)(s.code,{children:"md5"})}),"\n",(0,a.jsx)(s.p,{children:"Applies the MD5 hash function to each selected column. This method has no additional parameters."}),"\n",(0,a.jsx)(s.h2,{id:"example",children:"Example"}),"\n",(0,a.jsxs)(s.p,{children:["Assume you have a table that you would like to mask using the ",(0,a.jsx)(s.code,{children:"mask"})," method. Using the default mask parameters, the string ",(0,a.jsx)(s.code,{children:"John.Doe123!"})," will be converted to ",(0,a.jsx)(s.code,{children:"Xxxx.Xxxnnn!"}),"."]})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},77956:(e,s,n)=>{n.d(s,{A:()=>a});n(96540);var t=n(74848);function a(e){return(0,t.jsxs)("div",{children:[e.execution_engine&&(0,t.jsx)("a",{href:"https://docs.prophecy.io/administration/fabrics/prophecy-fabrics/",children:(0,t.jsx)("span",{className:"badge badge-runtime",children:e.execution_engine})}),e.sql_package_name&&e.sql_package_version&&(0,t.jsx)("a",{href:"https://docs.prophecy.io/engineers/package-hub/",children:(0,t.jsxs)("span",{className:"badge badge-dependency",children:[e.sql_package_name," ",e.sql_package_version]})}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{})]})}}}]);