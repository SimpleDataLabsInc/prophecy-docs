"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[51937],{28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>d});var i=t(96540);const r={},s=i.createContext(r);function l(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:n},e.children)}},84197:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>d,default:()=>o,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"analysts/scheduling/triggers","title":"Schedule trigger types","description":"Learn about different trigger types for schedules","source":"@site/docs/analysts/scheduling/triggers.md","sourceDirName":"analysts/scheduling","slug":"/analysts/triggers","permalink":"/analysts/triggers","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"schedule","permalink":"/tags/schedule"},{"inline":true,"label":"trigger","permalink":"/tags/trigger"}],"version":"current","frontMatter":{"title":"Schedule trigger types","id":"triggers","slug":"/analysts/triggers","description":"Learn about different trigger types for schedules","tags":["schedule","trigger"]},"sidebar":"mySidebar","previous":{"title":"Set up schedule","permalink":"/analysts/schedule-setup"},"next":{"title":"Pipeline gem","permalink":"/analysts/pipeline-trigger-gem"}}');var r=t(74848),s=t(28453);const l={title:"Schedule trigger types",id:"triggers",slug:"/analysts/triggers",description:"Learn about different trigger types for schedules",tags:["schedule","trigger"]},d=void 0,h={},c=[{value:"Time-based trigger",id:"time-based-trigger",level:2},{value:"Frequency",id:"frequency",level:3},{value:"Minute",id:"minute",level:4},{value:"Hourly",id:"hourly",level:4},{value:"Daily",id:"daily",level:4},{value:"Weekly",id:"weekly",level:4},{value:"Monthly",id:"monthly",level:4},{value:"Yearly",id:"yearly",level:4},{value:"File arrival or change trigger",id:"file-arrival-or-change-trigger",level:2},{value:"Trigger configuration",id:"trigger-configuration",level:3},{value:"Add multiple trigger configurations",id:"add-multiple-trigger-configurations",level:4},{value:"Advanced settings",id:"advanced-settings",level:3},{value:"Poke Interval",id:"poke-interval",level:4},{value:"Sensor Timeout",id:"sensor-timeout",level:4},{value:"Exponential Backoff Retry",id:"exponential-backoff-retry",level:4},{value:"Poll Mode",id:"poll-mode",level:4}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Prophecy's built-in scheduler allows you to orchestrate your pipelines with user-defined automation logic. Schedules support two trigger types:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#time-based-trigger",children:"Time-based"}),": The scheduled pipeline runs at defined intervals."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#file-arrival-or-change-trigger",children:"File arrival or change"}),": The scheduled pipeline runs only if a file arrives or changes."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"time-based-trigger",children:"Time-based trigger"}),"\n",(0,r.jsx)(n.h3,{id:"frequency",children:"Frequency"}),"\n",(0,r.jsx)(n.p,{children:"Time-based trigger configurations vary according to the frequency of the trigger. The following sections describe the parameters needed for each frequency."}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"When using time-based triggers, the default timezone is the timezone from where you access Prophecy."})}),"\n",(0,r.jsx)(n.h4,{id:"minute",children:"Minute"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Repeat every"}),(0,r.jsxs)(n.td,{children:["The interval in minutes between pipeline runs.",(0,r.jsx)("br",{}),"Example: Repeat every 10 minutes."]}),(0,r.jsx)(n.td,{children:"1 minute"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"hourly",children:"Hourly"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Repeat every ... from"}),(0,r.jsxs)(n.td,{children:["The interval in hours between pipeline runs, starting at a specific time.",(0,r.jsx)("br",{}),"Example: Repeat every 2 hours from 12:00 AM."]}),(0,r.jsxs)(n.td,{children:["Every 1 hour",(0,r.jsx)("br",{}),"starting at 12:00 AM"]})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"daily",children:"Daily"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Repeat at"}),(0,r.jsxs)(n.td,{children:["The time of day when the schedule will run.",(0,r.jsx)("br",{}),"Example: Repeat at 9:00 AM"]}),(0,r.jsx)(n.td,{children:"2:00 AM"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"weekly",children:"Weekly"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Repeat on"}),(0,r.jsxs)(n.td,{children:["The day(s) of the week that the pipeline will run.",(0,r.jsx)("br",{}),"Example: Repeat on Monday, Wednesday, Friday"]}),(0,r.jsx)(n.td,{children:"Sunday"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Repeat at"}),(0,r.jsxs)(n.td,{children:["The time of the day that the pipeline will run.",(0,r.jsx)("br",{}),"Example: Repeat at 9:00 AM"]}),(0,r.jsx)(n.td,{children:"12:00 AM"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"monthly",children:"Monthly"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Repeat on"}),(0,r.jsxs)(n.td,{children:["The day of the month that the pipeline will run.",(0,r.jsx)("br",{}),"Example: Repeat on the first of the month."]}),(0,r.jsx)(n.td,{children:"1"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Repeat at"}),(0,r.jsxs)(n.td,{children:["The time of the day that the pipeline will run.",(0,r.jsx)("br",{}),"Example: Repeat at 9:00 AM"]}),(0,r.jsx)(n.td,{children:"12:00 AM"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"yearly",children:"Yearly"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Repeat every"}),(0,r.jsxs)(n.td,{children:["The day and month that the pipeline will run each year.",(0,r.jsx)("br",{}),"Example: Repeat every March 15."]}),(0,r.jsx)(n.td,{children:"None"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Repeat on the"}),(0,r.jsxs)(n.td,{children:["The specific occurrence of a day in a given month.",(0,r.jsx)("br",{}),"Example: Repeat on the third Monday of June."]}),(0,r.jsx)(n.td,{children:"None"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Repeat at"}),(0,r.jsxs)(n.td,{children:["The time of the day that the pipeline will run.",(0,r.jsx)("br",{}),"Example: Repeat at 9:00 AM"]}),(0,r.jsx)(n.td,{children:"12:00 AM"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"file-arrival-or-change-trigger",children:"File arrival or change trigger"}),"\n",(0,r.jsx)(n.p,{children:"Use this trigger type to run a scheduled pipeline only when a new file is added or an existing file changes in a specified directory."}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Prophecy supports file change detection (data change sensors) for ",(0,r.jsx)(n.a,{href:"/administration/fabrics/prophecy-fabrics/connections/s3",children:"S3"})," and ",(0,r.jsx)(n.a,{href:"/administration/fabrics/prophecy-fabrics/connections/sftp",children:"SFTP"})," connections only."]})}),"\n",(0,r.jsx)(n.h3,{id:"trigger-configuration",children:"Trigger configuration"}),"\n",(0,r.jsx)(n.p,{children:"Each trigger configuration defines where and how Prophecy detects file changes. Provide the following:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Configuration name"}),(0,r.jsx)(n.td,{children:"A label to help you identify this trigger configuration."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Connection"}),(0,r.jsxs)(n.td,{children:["The ",(0,r.jsx)(n.strong,{children:"S3"})," or ",(0,r.jsx)(n.strong,{children:"SFTP"})," connection where the system should watch for file changes."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"File path"}),(0,r.jsxs)(n.td,{children:["The full path to the directory being monitored. The pipeline runs when a file is added or modified in this location. You can use either a fixed directory path, such as ",(0,r.jsx)(n.code,{children:"/user/documents/"}),", or a regular expression to match specific file patterns. ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),"Example: ",(0,r.jsx)(n.code,{children:"/user/*/*.{csv,jar}"})," finds all subdirectories under",(0,r.jsx)(n.code,{children:" /user"})," and watches files ending in ",(0,r.jsx)(n.code,{children:".csv"})," or ",(0,r.jsx)(n.code,{children:".jar"}),"."]})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"add-multiple-trigger-configurations",children:"Add multiple trigger configurations"}),"\n",(0,r.jsx)(n.p,{children:"You can define multiple trigger configurations to monitor more than one location for file updates. Use AND or OR logic to control when the pipeline runs."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"AND"}),": All conditions must be met before the pipeline runs."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OR"}),": Any one condition must be met to trigger the pipeline."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"For example, you may want to add the following trigger configurations:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Configuration name"}),(0,r.jsx)(n.th,{children:"Connection"}),(0,r.jsx)(n.th,{children:"File path"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Transactions"}),(0,r.jsx)(n.td,{children:"S3"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/finance/transactions/*.csv"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Exchange Rates"}),(0,r.jsx)(n.td,{children:"SFTP"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/finance/fx_rates/"})})]})]})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["With AND logic, the pipeline runs when a change is detected for ",(0,r.jsx)(n.strong,{children:"both"})," Transactions and Exchange Rates."]}),"\n",(0,r.jsxs)(n.li,{children:["With OR logic, the pipeline runs when a change is detected in ",(0,r.jsx)(n.strong,{children:"either"})," Transactions or Exchange Rates."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"advanced-settings",children:"Advanced settings"}),"\n",(0,r.jsx)(n.p,{children:"These advanced settings determine how the poll-based data sensors work. For additional details, jump to the following sections."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Poke Interval (seconds)"}),(0,r.jsx)(n.td,{children:"How often to check the condition. Defaults to 60 seconds."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Sensor Timeout (seconds)"}),(0,r.jsx)(n.td,{children:"Maximum duration for the sensor to keep checking. If not set, the sensor runs indefinitely."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Exponential Backoff Retry"}),(0,r.jsx)(n.td,{children:"Enables increasing delay between polling attempts to reduce system load."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Poll Mode"}),(0,r.jsxs)(n.td,{children:["Determines whether to use ",(0,r.jsx)(n.strong,{children:"Poke"})," or ",(0,r.jsx)(n.strong,{children:"Reschedule"})," mode."]})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"poke-interval",children:"Poke Interval"}),"\n",(0,r.jsx)(n.p,{children:"The Poke Interval specifies how frequently the sensor checks for file updates, such as new files appearing or existing files changing. The default interval is 60 seconds."}),"\n",(0,r.jsx)(n.h4,{id:"sensor-timeout",children:"Sensor Timeout"}),"\n",(0,r.jsx)(n.p,{children:"The Sensor Timeout value determines the maximum amount of time the sensor continues to check for file updates. By default, the sensor runs indefinitely. Set a timeout only if there's a point at which you know the check is no longer useful or relevant."}),"\n",(0,r.jsx)(n.h4,{id:"exponential-backoff-retry",children:"Exponential Backoff Retry"}),"\n",(0,r.jsx)(n.p,{children:"Sometimes, the sensor does not detect any file updates when it checks the directory. When Exponential Backoff Retry is enabled, the wait time between checks increases every time the sensor must retry the operation after failure (no file updated)."}),"\n",(0,r.jsx)(n.p,{children:"When active, the delay between each polling attempt increases exponentially\u2014e.g., 60 seconds, 2 minutes, 4 minutes, 8 minutes\u2014while adding randomness (jitter) to avoid system-wide contention. This option is enabled by default to reduce system load."}),"\n",(0,r.jsx)(n.h4,{id:"poll-mode",children:"Poll Mode"}),"\n",(0,r.jsx)(n.p,{children:"Choose between the following modes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Poke"}),": Keeps resources active between checks. Best for short intervals when quick response times are needed."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Reschedule"}),": Frees resources and reschedules itself after each interval. Recommended for long intervals to reduce resource usage."]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);