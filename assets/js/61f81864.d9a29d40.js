"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[465],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>k});var r=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,o=function(e,t){if(null==e)return{};var a,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=r.createContext({}),c=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},d="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,o=e.mdxType,n=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(a),u=o,k=d["".concat(l,".").concat(u)]||d[u]||f[u]||n;return a?r.createElement(k,i(i({ref:t},p),{},{components:a})):r.createElement(k,i({ref:t},p))}));function k(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=a.length,i=new Array(n);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:o,i[1]=s;for(var c=2;c<n;c++)i[c]=a[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},10290:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>f,frontMatter:()=>n,metadata:()=>s,toc:()=>c});var r=a(87462),o=(a(67294),a(3905));const n={title:"Snowflake SQL",id:"snowflake",sidebar_position:1,description:"Run Models on a Snowflake Warehouse",tags:["snowflake","sql","connect","warehouse","fabric"]},i=void 0,s={unversionedId:"low-code-sql/fabrics/snowflake",id:"low-code-sql/fabrics/snowflake",title:"Snowflake SQL",description:"Run Models on a Snowflake Warehouse",source:"@site/docs/low-code-sql/fabrics/snowflake.md",sourceDirName:"low-code-sql/fabrics",slug:"/low-code-sql/fabrics/snowflake",permalink:"/low-code-sql/fabrics/snowflake",draft:!1,tags:[{label:"snowflake",permalink:"/tags/snowflake"},{label:"sql",permalink:"/tags/sql"},{label:"connect",permalink:"/tags/connect"},{label:"warehouse",permalink:"/tags/warehouse"},{label:"fabric",permalink:"/tags/fabric"}],version:"current",sidebarPosition:1,frontMatter:{title:"Snowflake SQL",id:"snowflake",sidebar_position:1,description:"Run Models on a Snowflake Warehouse",tags:["snowflake","sql","connect","warehouse","fabric"]},sidebar:"defaultSidebar",previous:{title:"Fabrics",permalink:"/low-code-sql/fabrics/"},next:{title:"Databricks SQL",permalink:"/low-code-sql/fabrics/databricks"}},l={},c=[{value:"Create a Fabric",id:"create-a-fabric",level:2},{value:"Basic Info",id:"basic-info",level:3},{value:"Provider",id:"provider",level:3},{value:"Connections",id:"connections",level:3},{value:"Secrets",id:"secrets",level:3},{value:"Scheduling",id:"scheduling",level:2}],p={toc:c},d="wrapper";function f(e){let{components:t,...n}=e;return(0,o.kt)(d,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Snowflake has become a leading SQL Warehouse provider on the cloud. Follow the steps below to create a Fabric in Prophecy so that you can execute data transformations on your Snowflake Warehouse."),(0,o.kt)("h2",{id:"create-a-fabric"},"Create a Fabric"),(0,o.kt)("p",null,"Create an entity by clicking the ",(0,o.kt)("strong",{parentName:"p"},"plus")," icon. Click to ",(0,o.kt)("strong",{parentName:"p"},"Create a Fabric"),".\nThere are four steps to creating a Fabric:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"/low-code-sql/fabrics/snowflake#basic-info"},"Basic info")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"/low-code-sql/fabrics/snowflake#provider"},"Providers")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"/low-code-sql/fabrics/snowflake#connections"},"Connections")," (coming soon)"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"/low-code-sql/fabrics/snowflake#secrets"},"Secrets")," (coming soon)")),(0,o.kt)("h3",{id:"basic-info"},"Basic Info"),(0,o.kt)("p",null,"First we\u2019ll give our Fabric some ",(0,o.kt)("strong",{parentName:"p"},"Basic information"),"\n",(0,o.kt)("img",{alt:"SFBasicInfo",src:a(95691).Z,width:"2880",height:"1084"})),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Basic Info"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"1 Title")," - Specify a title, like devSnowflake, for your Fabric. \u201cdev\u201d or \u201cprod\u201d are helpful descriptors for this environment setup. Also specify a description (optional).")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"2 Team")," - Select a team to own this Fabric. Click the dropdown to list the teams your user is a member. If you don\u2019t see the desired team, ask a Prophecy Administrator to add you to a team.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"3 Continue")," to the Provider step.")))),(0,o.kt)("h3",{id:"provider"},"Provider"),(0,o.kt)("p",null,"Add the ",(0,o.kt)("strong",{parentName:"p"},"Provider")," details. The SQL provider is both the storage warehouse and the execution environment where your SQL code will run.\n",(0,o.kt)("img",{alt:"SFProvider",src:a(41888).Z,width:"2880",height:"1726"})),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Provider details"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"1 Provider Type")," - Select SQL as the Provider type. (Alternatively, create a Spark type Fabric using instructions ",(0,o.kt)("a",{parentName:"td",href:"/low-code-spark/fabrics/"},"here")," or an Airflow type Fabric following these ",(0,o.kt)("a",{parentName:"td",href:"/low-code-jobs/airflow/setup/"},"instructions"),".)")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"2 Provider")," - Click the dropdown menu for the list of supported Provider types. Select Snowflake.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"3 URL")," - Add the Snowflake Account URL, which looks like this: https://<your_domain_here>.snowflakecomputing.com")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"4 Username")," - Add the username that Prophecy will use to connect to the Snowflake Warehouse.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"5 Password")," - Add the password that Prophecy will use to connect to the Snowflake Warehouse. These username/password credentials are encrypted for secure storage. Also, each Prophecy user will provide their own username/password credential upon login. Be sure these credentials are scoped appropriately; Prophecy respects the authorization granted to this Snowflake user.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"6 Role")," - Add the Snowflake role that Prophecy will use to read data and execute queries on the Snowflake Warehouse. The role matches the username/password provided above and should be scoped according to the permission set desired for Prophecy.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"7 Warehouse")," - Specify the Snowflake warehouse for this execution environment.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"8 Database")," - Specify the Snowflake database for this execution environment.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"9 Continue")," to the Connections step, which is a feature coming soon for Snowflake Fabrics. Then Click Complete.")))),(0,o.kt)("h3",{id:"connections"},"Connections"),(0,o.kt)("p",null,"(Coming soon for Snowflake Fabrics.)"),(0,o.kt)("h3",{id:"secrets"},"Secrets"),(0,o.kt)("p",null,"(",(0,o.kt)("a",{parentName:"p",href:"https://docs.prophecy.io/low-code-spark/secret-management/"},"Secrets")," are currently implemented for Spark fabrics and are coming soon for SQL Fabrics.)"),(0,o.kt)("p",null,"Now the Snowflake Fabric is complete! Once you\u2019ve created a Fabric, it will appear on the Metadata page. Team Admins can manage their Team\u2019s Fabrics by clicking into the Fabric from this Metadata page. Prophecy SQL Projects can connect to your new Snowflake SQL Fabric, read tables, and execute models.\n",(0,o.kt)("img",{alt:"FabricMetadata",src:a(9531).Z,width:"2880",height:"652"})),(0,o.kt)("h2",{id:"scheduling"},"Scheduling"),(0,o.kt)("p",null,"SQL models can be scheduled using Airflow to run on Snowflake. Create an ",(0,o.kt)("a",{parentName:"p",href:"https://docs.prophecy.io/low-code-jobs/airflow/setup/"},"Airflow Fabric"),", and setup a ",(0,o.kt)("a",{parentName:"p",href:"https://docs.prophecy.io/low-code-jobs/airflow/setup/MWAA_fabric#setting-up-connections"},"Snowflake Connection")," that references the Snowflake Fabric created above. Prophecy supports Snowflake Connections from these three Airflow flavors: ",(0,o.kt)("a",{parentName:"p",href:"https://docs.prophecy.io/low-code-jobs/airflow/setup/composer_fabric"},"Composer"),", ",(0,o.kt)("a",{parentName:"p",href:"https://docs.prophecy.io/low-code-jobs/airflow/setup/MWAA_fabric#setting-up-connections"},"MWAA"),", and ",(0,o.kt)("a",{parentName:"p",href:"https://docs.prophecy.io/low-code-jobs/airflow/setup/prophecy-managed/connections/prophecy_managed_airflow_fabric_snowflake_connections"},"Prophecy Managed Airflow"),"."))}f.isMDXComponent=!0},9531:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/FabricMetadata-5fc2660e7f91eee87b014b8b4d8a116c.png"},95691:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/SnowflakeFabric1-4ba5eda706a8bbdf30cf9b16544d5551.png"},41888:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/SnowflakeFabric2-03e0ff1ceeb8e311c5bd282eb6dc613a.png"}}]);