"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[21893],{15680:(e,t,n)=>{n.d(t,{xA:()=>c,yg:()=>m});var r=n(96540);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),g=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=g(e.components);return r.createElement(s.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=g(n),d=a,m=p["".concat(s,".").concat(d)]||p[d]||u[d]||o;return n?r.createElement(m,i(i({ref:t},c),{},{components:n})):r.createElement(m,i({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:a,i[1]=l;for(var g=2;g<o;g++)i[g]=n[g];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},27601:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>g});var r=n(58168),a=(n(96540),n(15680));const o={title:"Resource monitoring",id:"resource-monitoring",description:"Find an overview of resource monitoring, alert configuration, and scaling recommendations",sidebar_position:5,tags:["scaling","resources","monitoring"]},i=void 0,l={unversionedId:"administration/self-hosted/resource-monitoring",id:"administration/self-hosted/resource-monitoring",title:"Resource monitoring",description:"Find an overview of resource monitoring, alert configuration, and scaling recommendations",source:"@site/docs/administration/self-hosted/resource-monitoring.md",sourceDirName:"administration/self-hosted",slug:"/administration/self-hosted/resource-monitoring",permalink:"/administration/self-hosted/resource-monitoring",draft:!1,tags:[{label:"scaling",permalink:"/tags/scaling"},{label:"resources",permalink:"/tags/resources"},{label:"monitoring",permalink:"/tags/monitoring"}],version:"current",sidebarPosition:5,frontMatter:{title:"Resource monitoring",id:"resource-monitoring",description:"Find an overview of resource monitoring, alert configuration, and scaling recommendations",sidebar_position:5,tags:["scaling","resources","monitoring"]},sidebar:"adminSidebar",previous:{title:"Custom artifact repository",permalink:"/administration/self-hosted/configure-sparkedge"},next:{title:"Download logs",permalink:"/administration/self-hosted/download-logs"}},s={},g=[{value:"Monitoring",id:"monitoring",level:2},{value:"Alerts",id:"alerts",level:2},{value:"Scaling",id:"scaling",level:2}],c={toc:g},p="wrapper";function u(e){let{components:t,...o}=e;return(0,a.yg)(p,(0,r.A)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("p",null,"This page provides an overview of resource monitoring, alert configuration, and scaling recommendations for effectively managing Prophecy deployments."),(0,a.yg)("h2",{id:"monitoring"},"Monitoring"),(0,a.yg)("p",null,"To better understand how Prophecy is using resources, you can find an overview in ",(0,a.yg)("strong",{parentName:"p"},"Settings > Admin > Monitoring"),". The different components correspond to the microservices that run on the Kubernetes cluster."),(0,a.yg)("p",null,(0,a.yg)("img",{alt:"Monitoring settings",src:n(8320).A,width:"2620",height:"1511"})),(0,a.yg)("p",null,"When usage levels reach yellow or red zones, you can choose whether to allocate additional resources. In most cases, temporary spikes in CPU and memory usage type do not necessitate action."),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Resource"),(0,a.yg)("th",{parentName:"tr",align:null},"Usage"),(0,a.yg)("th",{parentName:"tr",align:null},"Suggested action"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"CPU"),(0,a.yg)("td",{parentName:"tr",align:null},"Red zone persists for more than 1 hour"),(0,a.yg)("td",{parentName:"tr",align:null},"CPU allocated to the service is under-provisioned. Increase by 10%.")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Memory"),(0,a.yg)("td",{parentName:"tr",align:null},"Red zone persists for more than 1 hour"),(0,a.yg)("td",{parentName:"tr",align:null},"Memory allocated to the service is under-provisioned. Increase by 10%.")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Storage GBytes"),(0,a.yg)("td",{parentName:"tr",align:null},"Yellow zone is reached"),(0,a.yg)("td",{parentName:"tr",align:null},"Increase the storage capacity of the PVC in your Kubernetes deployment that corresponds to the service.")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Storage File Count"),(0,a.yg)("td",{parentName:"tr",align:null},"Yellow zone is reached"),(0,a.yg)("td",{parentName:"tr",align:null},"Increase the storage capacity of the PVC in your Kubernetes deployment that corresponds to the service.")))),(0,a.yg)("br",null),(0,a.yg)("admonition",{title:"Getting help",type:"note"},(0,a.yg)("p",{parentName:"admonition"},"If you need help increasing resources for a service in your Kubernetes deployment, reach out to ",(0,a.yg)("a",{parentName:"p",href:"/getting-help/"},"Prophecy support"),".")),(0,a.yg)("h2",{id:"alerts"},"Alerts"),(0,a.yg)("p",null,"To set up automated alerts about your resource usage, visit the page on ",(0,a.yg)("a",{parentName:"p",href:"/administration/self-hosted/configurations/configure-alerts"},"Alerts Configuration"),"."),(0,a.yg)("h2",{id:"scaling"},"Scaling"),(0,a.yg)("p",null,"Scaling is taken care of by the ",(0,a.yg)("strong",{parentName:"p"},"Autoscaler")," component in our platform. Therefore, if something happens like the number of\nusers increases by 10 times, the Prophecy deployment can be scaled appropriately."),(0,a.yg)("p",null,"The following are estimated recommended cluster sizes depending on the number of concurrent users:"),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Number of users"),(0,a.yg)("th",{parentName:"tr",align:null},"25"),(0,a.yg)("th",{parentName:"tr",align:null},"50"),(0,a.yg)("th",{parentName:"tr",align:null},"100"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"CPUs"),(0,a.yg)("td",{parentName:"tr",align:null},"56 vCPUs"),(0,a.yg)("td",{parentName:"tr",align:null},"96 vCPUs"),(0,a.yg)("td",{parentName:"tr",align:null},"180 vCPUs")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Memory"),(0,a.yg)("td",{parentName:"tr",align:null},"128 GB"),(0,a.yg)("td",{parentName:"tr",align:null},"256 GB"),(0,a.yg)("td",{parentName:"tr",align:null},"440 GB")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Disk space (with backups)"),(0,a.yg)("td",{parentName:"tr",align:null},"360 GB"),(0,a.yg)("td",{parentName:"tr",align:null},"720 GB"),(0,a.yg)("td",{parentName:"tr",align:null},"1440 GB")))),(0,a.yg)("admonition",{type:"info"},(0,a.yg)("p",{parentName:"admonition"},"The recommended resource may vary based on the intensity of the usage of each developer. The numbers\npresented above are based on the average recorded usage of Prophecy customers.")))}u.isMDXComponent=!0},8320:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/monitoring-297ae03824ef043e55ff5d71e4b84663.png"}}]);