---
title: "Diagnostics"
id: fabric-diagnostics
description: Fabric diagnostics
sidebar_position: 6
tags:
  - diagnostics
  - fabric
  - emr
  - synase
  - dataproc
---

Troubleshooting Prophecy Fabrics is much easier with built-in diagnostics. The descriptions are designed to help users to independently identify and resolve issues. When creating or connecting to a Fabric, Prophecy automatically tests for connectivity. This feature helps users to determine whether the issue lies within Prophecy itself or in other components of the data ecosystem.

## Diagnostics error codes

| Error Code | Symptom                                                                                                 | Provider                    | Cause                                                                        | Resolution                                                                                                                                                       | Documentation                                                                                                               |
| ---------- | ------------------------------------------------------------------------------------------------------- | --------------------------- | ---------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------- |
| `10000`    | `Is missing from the classpath`                                                                         | Databricks                  | Prophecy Library(Scala) is incorrect. You're probably using thin jar.        | Please use assembly `jar(${scalaFatJarName})` in the library section of the Fabric settings                                                                      | [Link](https://docs.prophecy.io/low-code-spark/fabrics/create-a-Fabric#databricks)                                          |
| `10001`    | `DRIVER_LIBRARY_INSTALLATION_FAILURE`                                                                   | Databricks                  | Prophecy Library(Scala/python) is incorrect. Databricks could not install it | Please provide the valid library path in the Fabric                                                                                                              | [Link](https://docs.prophecy.io/low-code-spark/fabrics/create-a-Fabric#databricks)                                          |
| `10002`    | `object prophecy is not a member of package`                                                            | Livy                        | Prophecy Library(Scala) is incorrect                                         | Please ensure that the library path exists and you’re using the assembly `jar(${scalaFatJarName})`                                                               | [Link](https://docs.prophecy.io/low-code-spark/fabrics/create-a-Fabric#databricks)                                          |
| `10003`    | `cannot be added to user sessions` and `prophecy_libs`                                                  | Livy                        | Prophecy Library(python) is incorrect                                        | Please ensure that the library path exists and you’re using correct `file(${pythonPLibName})`                                                                    | [Link](https://docs.prophecy.io/low-code-spark/fabrics/EMR-fabric-configuration#create-a-fabric-to-connect-prophecy-to-emr) |
| `10004`    | `for method` and `too many arguments`                                                                   | Livy                        | Prophecy Library(Scala) is incompatible                                      | Please use the correct `version(${Globals.prophecyLibsVersion})` in the library section of Fabric settings                                                       | [Link](https://docs.prophecy.io/low-code-spark/fabrics/EMR-fabric-configuration#create-a-fabric-to-connect-prophecy-to-emr) |
| `10005`    | `No module named` and `prophecy`                                                                        | Livy                        | Prophecy Library(python) is incorrect                                        | Please provide the valid library path in the Fabric                                                                                                              | [Link](https://docs.prophecy.io/low-code-spark/fabrics/EMR-fabric-configuration#create-a-fabric-to-connect-prophecy-to-emr) |
| `10006`    | `illegal start of simple expression`                                                                    | Livy                        | Python version in livy/hadoop is incorrect                                   | Please make sure you have python3 there                                                                                                                          | [Link](https://docs.prophecy.io/low-code-spark/fabrics/EMR-fabric-configuration#create-a-fabric-to-connect-prophecy-to-emr) |
| `10007`    | `IncompatibleClassChangeError`                                                                          | Livy                        | Prophecy Library(Scala) is incompatible with your Spark version              | Please use the correct assembly `jar(${scalaFatJarName})` in the library section of the Fabric settings.                                                         | [Link](https://docs.prophecy.io/low-code-spark/fabrics/EMR-fabric-configuration#create-a-fabric-to-connect-prophecy-to-emr) |
| `10008`    | `"FileNotFoundException` and `prophecy_libs"`                                                           | Livy                        | Prophecy Library(python) path does not exist                                 | Please ensure that the file exists as per the path in the library section of the Fabric settings                                                                 | [Link](https://docs.prophecy.io/low-code-spark/fabrics/EMR-fabric-configuration#create-a-fabric-to-connect-prophecy-to-emr) |
| `10009`    | `503 Service Temporarily Unavailable` and `LivyRestClient`                                              | Livy                        | Livy service is down                                                         | Please make sure the livy service is up before executing this command                                                                                            | [Link](https://livy.apache.org/docs/latest/rest-api.html)                                                                   |
| `10010`    | `SQLNonTransientConnectionException, rds.amazonaws.com` or `Unable to instantiate, HiveMetaStoreClient` | Unity Catalog               | Databricks cluster can't access RDS service                                  | Please ensure that the cluster can access to the same region's RDS endpoint as documented in https://docs.databricks.com/en/resources/supported-regions.html#rds | [Link](https://docs.databricks.com/en/resources/supported-regions.html#rds)                                                 |
| `10011`    | `UnauthorizedCommandException` and `This execution contained at leas` and `disallowed language`         | Unity Catalog               | Shared cluster in unity catalog does not allow Scala commands                | Please use this cluster with python pipeline                                                                                                                     | [Link](http://localhost:3000/concepts/project/#1-create-new-project)                                                        |
| `10012`    | `UnauthorizedCommandException` and `This execution contained at leas` and `disallowed language`         | Databricks                  | This cluster does not allow `${pipeline's language}` command                 | Please check with the Databricks workspace administrator to provide the execution access to `${pipeline's language}` language                                    | [Link](https://docs.databricks.com/en/administration-guide/users-groups/index.html)                                         |
| `10013`    | `javax.net.ssl.SSLHandshakeException` and `PKIX path building failed`                                   | Livy / EMR / Lake Formation | Certificates provided in EMR cluster's security configuration are wrong      | Please ensure that EMR cluster's security configuration is using correct certificates                                                                            | [Link](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-security.html)                                            |
