"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[43067],{28453:(e,s,t)=>{t.d(s,{R:()=>i,x:()=>l});var r=t(96540);const n={},d=r.createContext(n);function i(e){const s=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),r.createElement(d.Provider,{value:s},e.children)}},61677:(e,s,t)=>{t.d(s,{A:()=>r});const r=t.p+"assets/images/type-and-format-eaf38b8366ed98821902c60a9340e372.png"},68133:(e,s,t)=>{t.d(s,{A:()=>r});const r=t.p+"assets/images/advance-settings-28a870269f8ad4c6b7f3315cb1e726f0.png"},82824:(e,s,t)=>{t.d(s,{A:()=>n});t(96540);var r=t(74848);function n(e){return(0,r.jsxs)("div",{children:[e.execution_engine&&(0,r.jsx)("a",{href:"https://docs.prophecy.io/administration/fabrics/prophecy-fabrics/",children:(0,r.jsx)("span",{className:"badge",children:e.execution_engine})}),e.sql_package_name&&e.sql_package_version&&(0,r.jsx)("a",{href:"https://docs.prophecy.io/engineers/package-hub/",children:(0,r.jsxs)("span",{className:"badge-dependency",children:[(0,r.jsx)("span",{className:"left",children:e.sql_package_name}),(0,r.jsx)("span",{className:"right",children:e.sql_package_version})]})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]})}},91408:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>x,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"analysts/development/models/gems/sources-target/sources-and-targets","title":"Sources and targets","description":"Use models to read and write data","source":"@site/docs/analysts/development/models/gems/sources-target/sources-target.md","sourceDirName":"analysts/development/models/gems/sources-target","slug":"/analysts/model-sources-and-targets","permalink":"/analysts/model-sources-and-targets","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"SQL","permalink":"/tags/sql"},{"inline":true,"label":"sources","permalink":"/tags/sources"},{"inline":true,"label":"seeds","permalink":"/tags/seeds"}],"version":"current","frontMatter":{"title":"Sources and targets","id":"sources-and-targets","slug":"/analysts/model-sources-and-targets","description":"Use models to read and write data","tags":["SQL","sources","seeds"]},"sidebar":"mySidebar","previous":{"title":"SQL Gems","permalink":"/engineers/data-modeling-gems"},"next":{"title":"Location","permalink":"/engineers/location-target-model"}}');var n=t(74848),d=t(28453),i=t(82824);const l={title:"Sources and targets",id:"sources-and-targets",slug:"/analysts/model-sources-and-targets",description:"Use models to read and write data",tags:["SQL","sources","seeds"]},a=void 0,c={},o=[{value:"Sources",id:"sources",level:2},{value:"Targets",id:"targets",level:2},{value:"Target model tabs",id:"target-model-tabs",level:3},{value:"dbt advanced settings",id:"dbt-advanced-settings",level:3},{value:"dbt properties mapping",id:"dbt-properties-mapping",level:3}];function h(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.A,{execution_engine:"SQL Warehouse",sql_package_name:"",sql_package_version:""}),"\n",(0,n.jsx)(s.p,{children:"Model sources and targets vary slightly from those of the pipeline. The primary difference is that all model sources and targets must point to tables in the SQL warehouse."}),"\n",(0,n.jsx)(s.h2,{id:"sources",children:"Sources"}),"\n",(0,n.jsx)(s.p,{children:"When you create a new model, you need to define an input data source. The data source can be:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Another model. You can drag a model from the Project tab of the left sidebar onto your canvas to use it as a source."}),"\n",(0,n.jsxs)(s.li,{children:["A ",(0,n.jsx)(s.a,{href:"/analysts/table",children:"Table gem"}),". You can either use pre-configured tables from the Project tab of the left sidebar, or you can browse SQL warehouse tables in the Environment tab of the left sidebar."]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"targets",children:"Targets"}),"\n",(0,n.jsx)(s.p,{children:"Target models let you define how you want to materialize your data using write formats."}),"\n",(0,n.jsx)(s.h3,{id:"target-model-tabs",children:"Target model tabs"}),"\n",(0,n.jsx)(s.p,{children:"When you open a Target model configuration, you'll see the following tabs:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.a,{href:"/engineers/type-and-format-target-model",children:"Type & Format"})}),": Update the format of the model between different types of materializations"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.a,{href:"/engineers/location-target-model",children:"Location"})}),": Update the location by overwriting the Database, Schema, or Alias"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.a,{href:"/engineers/schema-target-model",children:"Schema"})}),": Make schema changes"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.a,{href:"/engineers/sql-query-target-model",children:"SQL Query"})}),": View and enable your custom SQL query"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.a,{href:"/engineers/write-options-target-model",children:"Write Options"})}),": Use Write Modes such as Overwrite, Append, and Merge"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"Target Model tabs",src:t(61677).A+"",width:"2620",height:"1507"})}),"\n",(0,n.jsx)(s.h3,{id:"dbt-advanced-settings",children:"dbt advanced settings"}),"\n",(0,n.jsxs)(s.p,{children:["You can find advanced settings are available for defining model write formats and other DBT options. These include all dbt native settings, traditionally accessible from the ",(0,n.jsx)(s.code,{children:".yaml"})," file."]}),"\n",(0,n.jsxs)(s.p,{children:["To open dbt advanced settings, click ",(0,n.jsx)(s.strong,{children:"..."})," > ",(0,n.jsx)(s.strong,{children:"Advanced Settings"}),". The object properties describe everything from physical locations, materialization logic, business metadata, and access control definitions."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"Advance Settings",src:t(68133).A+"",width:"1400",height:"825"})}),"\n",(0,n.jsx)(s.h3,{id:"dbt-properties-mapping",children:"dbt properties mapping"}),"\n",(0,n.jsx)(s.p,{children:"The following table maps all of the dbt properties for Databricks and Snowflake to the tabs of Prophecy\u2019s Target model:"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"dbt property name"}),(0,n.jsx)(s.th,{children:"Provider"}),(0,n.jsx)(s.th,{children:"Target model tab"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"file_format"}),(0,n.jsx)(s.td,{children:"Databricks"}),(0,n.jsx)(s.td,{children:"Type & Format"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"alias"}),(0,n.jsx)(s.td,{children:"All"}),(0,n.jsx)(s.td,{children:"Location"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"database"}),(0,n.jsx)(s.td,{children:"All"}),(0,n.jsx)(s.td,{children:"Location"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"location_root"}),(0,n.jsx)(s.td,{children:"Databricks"}),(0,n.jsx)(s.td,{children:"Location"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"contract"}),(0,n.jsx)(s.td,{children:"All"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"enabled"}),(0,n.jsx)(s.td,{children:"All"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"schema"}),(0,n.jsx)(s.td,{children:"All"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"tags"}),(0,n.jsx)(s.td,{children:"All"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"cluster_by"}),(0,n.jsx)(s.td,{children:"Snowflake"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"partition_by"}),(0,n.jsx)(s.td,{children:"Snowflake"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"clustered_by"}),(0,n.jsx)(s.td,{children:"Databricks"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"buckets"}),(0,n.jsx)(s.td,{children:"Databricks"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"transient"}),(0,n.jsx)(s.td,{children:"Snowflake"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"query_tag"}),(0,n.jsx)(s.td,{children:"Snowflake"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"automatic_clustering"}),(0,n.jsx)(s.td,{children:"Snowflake"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"snowflake_warehouse"}),(0,n.jsx)(s.td,{children:"Snowflake"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"copy_grants"}),(0,n.jsx)(s.td,{children:"Snowflake"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"secure"}),(0,n.jsx)(s.td,{children:"Snowflake"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"target_lag"}),(0,n.jsx)(s.td,{children:"Snowflake"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"docs"}),(0,n.jsx)(s.td,{children:"All"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"group"}),(0,n.jsx)(s.td,{children:"All"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"meta"}),(0,n.jsx)(s.td,{children:"All"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"persist_docs"}),(0,n.jsx)(s.td,{children:"All"}),(0,n.jsx)(s.td,{children:"Schema"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"full_refresh"}),(0,n.jsx)(s.td,{children:"All"}),(0,n.jsx)(s.td,{children:"Write Options"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"incremental_predicates"}),(0,n.jsx)(s.td,{children:"All"}),(0,n.jsx)(s.td,{children:"Write Options"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"incremental_strategy"}),(0,n.jsx)(s.td,{children:"All"}),(0,n.jsx)(s.td,{children:"Write Options"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"materialized"}),(0,n.jsx)(s.td,{children:"All"}),(0,n.jsx)(s.td,{children:"Write Options"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"on_schema_change"}),(0,n.jsx)(s.td,{children:"All"}),(0,n.jsx)(s.td,{children:"Write Options"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"merge_exclude_columns"}),(0,n.jsx)(s.td,{children:"Snowflake, Spark"}),(0,n.jsx)(s.td,{children:"Write Options"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"merge_update_columns"}),(0,n.jsx)(s.td,{children:"Snowflake, Spark"}),(0,n.jsx)(s.td,{children:"Write Options"})]})]})]})]})}function x(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}}}]);