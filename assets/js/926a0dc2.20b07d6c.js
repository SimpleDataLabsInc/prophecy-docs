"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[75714],{6297:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/prophecy-app-template-8fe47e924e0d67b62498662a24d3c201.png"},9720:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/prophecy-app-run-a046ce4edeec62639eab7c2341fd77b7.png"},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var t=i(96540);const s={},a=t.createContext(s);function r(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(a.Provider,{value:n},e.children)}},36216:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/pipeline-parameter-b37046bf616d362fa282c4878d44f6a0.png"},47e3:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/app-pipeline-cc0ad02c4c76c10e88cb356ddb6f254a.png"},49339:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/visual-expression-parameter-865db82d043fadebdc6c3c2d8688fd43.png"},52835:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"analysts/business-apps/app-creation","title":"Create apps","description":"Build applications make pipelines accessible","source":"@site/docs/analysts/business-apps/app-creation.md","sourceDirName":"analysts/business-apps","slug":"/analysts/create-business-applications","permalink":"/analysts/create-business-applications","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Create apps","id":"app-creation","slug":"/analysts/create-business-applications","description":"Build applications make pipelines accessible","tags":[]},"sidebar":"mySidebar","previous":{"title":"Run apps","permalink":"/analysts/run-apps"},"next":{"title":"App components","permalink":"/analysts/business-application-components"}}');var s=i(74848),a=i(28453);const r={title:"Create apps",id:"app-creation",slug:"/analysts/create-business-applications",description:"Build applications make pipelines accessible",tags:[]},l=void 0,o={},p=[{value:"Objectives",id:"objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Create the pipeline",id:"create-the-pipeline",level:2},{value:"Create a pipeline parameter",id:"create-a-pipeline-parameter",level:3},{value:"Add source data",id:"add-source-data",level:3},{value:"Add a filter",id:"add-a-filter",level:3},{value:"Add a target table",id:"add-a-target-table",level:3},{value:"Create a new Prophecy App",id:"create-a-new-prophecy-app",level:2},{value:"Add a Text component",id:"add-a-text-component",level:3},{value:"Add a File Upload component",id:"add-a-file-upload-component",level:3},{value:"Add a Number Input component",id:"add-a-number-input-component",level:3},{value:"Add a Data Preview component",id:"add-a-data-preview-component",level:3},{value:"Run the app",id:"run-the-app",level:2},{value:"What&#39;s next",id:"whats-next",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Prophecy Apps enable teams to create interactive and reusable workflows that simplify data processing. These applications allow users to parameterize pipelines, interact with data, and schedule pipeline runs without modifying the underlying pipeline logic."}),"\n",(0,s.jsxs)(n.p,{children:["When creating a Prophecy App, structure it using ",(0,s.jsx)(n.a,{href:"/analysts/pipeline-parameters",children:"pipeline parameters"}),". Pipeline parameters allow applications to dynamically adjust values during execution. By adding ",(0,s.jsx)(n.a,{href:"/analysts/business-application-components",children:"interactive components"})," to your apps, users can define parameter values while keeping the rest of the pipeline unchanged."]}),"\n",(0,s.jsx)(n.h2,{id:"objectives",children:"Objectives"}),"\n",(0,s.jsx)(n.p,{children:"In this tutorial, you'll learn how to create a Prophecy App where users can:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Upload their own data as a pipeline source."}),"\n",(0,s.jsx)(n.li,{children:"Filter the data based on custom input."}),"\n",(0,s.jsx)(n.li,{children:"Preview and download the output data."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Run Prophecy App results",src:i(9720).A+"",width:"2870",height:"1610"})}),"\n",(0,s.jsx)(n.p,{children:"To do so, you will create a pipeline that:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ingests bakehouse review data from the SQL warehouse."}),"\n",(0,s.jsx)(n.li,{children:"Filters the data by franchise location."}),"\n",(0,s.jsx)(n.li,{children:"Saves the filtered data to a table."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"App pipeline",src:i(47e3).A+"",width:"2870",height:"1610"})}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(n.p,{children:"To complete this tutorial, you will need:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Prophecy 4.0 or later."}),"\n",(0,s.jsx)(n.li,{children:"A SQL project."}),"\n",(0,s.jsx)(n.li,{children:"A Prophecy fabric with a Databricks connection."}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"This tutorial uses sample data provided by Databricks."})}),"\n",(0,s.jsx)(n.h2,{id:"create-the-pipeline",children:"Create the pipeline"}),"\n",(0,s.jsx)(n.p,{children:"To build a business app, you first need to build the pipeline that will power it. This pipeline will include parameters that users can modify through the app interface. In the following sections, you will build a simple pipeline and leverage pipeline parameters that will drive the app functionality."}),"\n",(0,s.jsx)(n.h3,{id:"create-a-pipeline-parameter",children:"Create a pipeline parameter"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/analysts/pipeline-parameters",children:"Pipeline parameters"})," enable dynamic behavior in pipelines by allowing values to be set at runtime. In this case, these values can be driven by inputs from external sources, including user input through a Prophecy App."]}),"\n",(0,s.jsx)(n.p,{children:"In this section, you\u2019ll define a pipeline parameter specifically for use in a Prophecy App. The parameter will capture the franchise ID that the user selects, allowing the pipeline to filter reviews based on the franchise they want to see."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Open the pipeline that will be used for the app."}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Config"})," in the project header."]}),"\n",(0,s.jsxs)(n.li,{children:["Select ",(0,s.jsx)(n.strong,{children:"+ Add Parameter"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Name the parameter ",(0,s.jsx)(n.code,{children:"franchise_id"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Set the parameter type to ",(0,s.jsx)(n.code,{children:"int"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Select expression > Value"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Enter ",(0,s.jsx)(n.code,{children:"3000007"})," as the default value to be used during ",(0,s.jsx)(n.a,{href:"/analysts/pipeline-execution",children:"interactive pipeline runs"}),". (This is an arbitrary franchise ID.)"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Save"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Create pipeline parameter dialog",src:i(36216).A+"",width:"2870",height:"1610"})}),"\n",(0,s.jsx)(n.p,{children:"You can choose a new default value when you build the Prophecy App. This overrides the default value assigned in the pipeline parameter settings."}),"\n",(0,s.jsx)(n.h3,{id:"add-source-data",children:"Add source data"}),"\n",(0,s.jsx)(n.p,{children:"Add a Source gem to your pipeline. The Prophecy App will use this source by default unless the user overrides it with their own data in the app."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Open the Environment browser in the left sidebar."}),"\n",(0,s.jsx)(n.li,{children:"Expand the Databricks connection to view your catalogs."}),"\n",(0,s.jsxs)(n.li,{children:["Open the ",(0,s.jsx)(n.strong,{children:"samples > bakehouse"})," directory."]}),"\n",(0,s.jsxs)(n.li,{children:["Add the ",(0,s.jsx)(n.code,{children:"media_customer_reviews"})," table to your canvas."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"add-a-filter",children:"Add a filter"}),"\n",(0,s.jsx)(n.p,{children:"Next, add a Filter gem to the pipeline. To make the filter condition dynamic, you'll use the pipeline parameter in the gem."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Add a ",(0,s.jsx)(n.strong,{children:"Filter"})," gem to the canvas."]}),"\n",(0,s.jsx)(n.li,{children:"Connect the output of the Source gem to the input of the Filter gem."}),"\n",(0,s.jsx)(n.li,{children:"Open the Filter gem configuration."}),"\n",(0,s.jsxs)(n.li,{children:["For the filter condition, build the visual expression to filter the dataset using values from the ",(0,s.jsx)(n.code,{children:"franchiseID"})," column."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["Find your configured pipeline parameters by clicking on the ",(0,s.jsx)(n.strong,{children:"Configuration Variable"})," in the visual expression builder."]})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Configure visual expression to use parameter",src:i(49339).A+"",width:"2870",height:"1610"})}),"\n",(0,s.jsxs)(n.p,{children:["If you switch to the code view, you can use the following expression as the filter condition ",(0,s.jsx)(n.code,{children:"franchiseID = {{ var('franchise_id') }}"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"add-a-target-table",children:"Add a target table"}),"\n",(0,s.jsx)(n.p,{children:"To add a Data Preview component to your Prophecy App, you need to have a target table in the pipeline. Let's create a table to store the filtered results that users will generate in the app."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Open the Source/Target gem category."}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Table"})," to add a new table to the canvas."]}),"\n",(0,s.jsx)(n.li,{children:"Connect the output of the Filter gem to the input of the Table gem."}),"\n",(0,s.jsx)(n.li,{children:"Open the Table gem configuration."}),"\n",(0,s.jsxs)(n.li,{children:["Under ",(0,s.jsx)(n.strong,{children:"Select Type and Format"}),", select ",(0,s.jsx)(n.strong,{children:"Table"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.strong,{children:"Location"})," tab, assign a location where Prophecy will write the table."]}),"\n",(0,s.jsx)(n.li,{children:"Review the remaining tabs and keep the default settings."}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Save"})," the gem."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"create-a-new-prophecy-app",children:"Create a new Prophecy App"}),"\n",(0,s.jsx)(n.p,{children:"After you build the pipeline, create a business app to run it. Apps are created directly within projects as project components."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["In the project browser, hover over ",(0,s.jsx)(n.strong,{children:"Apps"})," and click the ",(0,s.jsx)(n.strong,{children:"+"})," icon."]}),"\n",(0,s.jsxs)(n.li,{children:["Name the app ",(0,s.jsx)(n.code,{children:"Reviews"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Add the description ",(0,s.jsx)(n.code,{children:"Filter bakehouse reviews by franchise"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Select the pipeline you just created for the app to run on."}),"\n",(0,s.jsxs)(n.li,{children:["Define where the app code will be stored. The default ",(0,s.jsx)(n.code,{children:"apps"})," directory is sufficient."]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Create App"})," to open the App Builder."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"add-a-text-component",children:"Add a Text component"}),"\n",(0,s.jsx)(n.p,{children:"First, add the Text component that serves as the page title and helps users understand the purpose of the app."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Open the ",(0,s.jsx)(n.strong,{children:"Content"})," dropdown and select ",(0,s.jsx)(n.strong,{children:"Text"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.strong,{children:"Inspect"})," tab of the right sidebar, enter ",(0,s.jsx)(n.code,{children:"Filter Bakehouse Reviews"})," as the component text."]}),"\n",(0,s.jsxs)(n.li,{children:["Choose ",(0,s.jsx)(n.strong,{children:"Heading 1"})," as the text format."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"add-a-file-upload-component",children:"Add a File Upload component"}),"\n",(0,s.jsx)(n.p,{children:"Then, add a File Upload component where users can upload their data. This provides flexibility by allowing users to work with their datasets rather than being limited to the default source."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Open the ",(0,s.jsx)(n.strong,{children:"Data Integration"})," dropdown and select ",(0,s.jsx)(n.strong,{children:"File Upload"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.strong,{children:"Inspect"})," tab, for the ",(0,s.jsx)(n.strong,{children:"Source component"}),", choose the Source gem that the uploaded data will override."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"If no file is uploaded, the pipeline uses the default source data configured in the Source gem."})}),"\n",(0,s.jsx)(n.h3,{id:"add-a-number-input-component",children:"Add a Number Input component"}),"\n",(0,s.jsx)(n.p,{children:"Next, add a Number Input component to let the user input how to filter the data. This component will control the value of the pipeline parameter you created earlier."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Open the ",(0,s.jsx)(n.strong,{children:"Interactive"})," dropdown and select ",(0,s.jsx)(n.strong,{children:"Number Input"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.strong,{children:"Inspect"})," tab, for the ",(0,s.jsx)(n.strong,{children:"Configuration field"}),", select ",(0,s.jsx)(n.code,{children:"franchise_id"}),". This is the pipeline parameter."]}),"\n",(0,s.jsxs)(n.li,{children:["For the ",(0,s.jsx)(n.strong,{children:"Label"}),", enter ",(0,s.jsx)(n.code,{children:"Franchise ID number"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"add-a-data-preview-component",children:"Add a Data Preview component"}),"\n",(0,s.jsx)(n.p,{children:"Finally, add a Data Preview component to display a sample of the result of the pipeline execution. This allows users who run the Prophecy App to view and download the output data."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Open the ",(0,s.jsx)(n.strong,{children:"Data Integration"})," dropdown and select ",(0,s.jsx)(n.strong,{children:"Data Preview"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.strong,{children:"Inspect"})," tab, select the pipeline's output table."]}),"\n",(0,s.jsxs)(n.li,{children:["For the ",(0,s.jsx)(n.strong,{children:"Label"}),", enter ",(0,s.jsx)(n.code,{children:"Franchise reviews"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The following image shows the complete Prophecy App template in the App Builder."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Prophecy App template",src:i(6297).A+"",width:"2870",height:"1610"})}),"\n",(0,s.jsx)(n.h2,{id:"run-the-app",children:"Run the app"}),"\n",(0,s.jsx)(n.p,{children:"After building the app, execute it to validate its functionality. This process allows you to verify that all app components function according to specifications."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Navigate to the App Browser using the left navigation menu."}),"\n",(0,s.jsx)(n.li,{children:"Review the apps associated with projects owned by your teams."}),"\n",(0,s.jsxs)(n.li,{children:["Select your ",(0,s.jsx)(n.strong,{children:"Review"})," app."]}),"\n",(0,s.jsx)(n.li,{children:"Create a new app configuration. This configuration represents an instance of the app with a set of custom parameter values."}),"\n",(0,s.jsx)(n.li,{children:"Test the app by uploading various datasets and running the app to observe results."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Run Prophecy App results",src:i(9720).A+"",width:"2870",height:"1610"})}),"\n",(0,s.jsxs)(n.p,{children:["To explore advanced configuration options and scheduling capabilities, refer to the documentation on ",(0,s.jsx)(n.a,{href:"/analysts/run-apps",children:"running apps"}),"."]}),"\n",(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsx)(n.p,{children:"When you run a Prophecy App, the entire underlying pipeline is executed\u2014not just the components visible in the app. This means any additional transformations, tables, or other components included in the pipeline will also run, even if they\u2019re not exposed in the app interface. Be mindful of how you design the pipeline to ensure app users only trigger the intended logic."})}),"\n",(0,s.jsx)(n.h2,{id:"whats-next",children:"What's next"}),"\n",(0,s.jsxs)(n.p,{children:["To address your specific business requirements, leverage more complex ",(0,s.jsx)(n.a,{href:"/analysts/business-application-components",children:"components"})," to construct robust Prophecy Apps."]})]})}function c(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);