"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[19234],{15680:(e,t,r)=>{r.d(t,{xA:()=>p,yg:()=>u});var a=r(96540);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var o=a.createContext({}),d=function(e){var t=a.useContext(o),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=d(e.components);return a.createElement(o.Provider,{value:t},e.children)},l="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,s=e.originalType,o=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),l=d(r),m=n,u=l["".concat(o,".").concat(m)]||l[m]||g[m]||s;return r?a.createElement(u,i(i({ref:t},p),{},{components:r})):a.createElement(u,i({ref:t},p))}));function u(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=r.length,i=new Array(s);i[0]=m;var c={};for(var o in t)hasOwnProperty.call(t,o)&&(c[o]=t[o]);c.originalType=e,c[l]="string"==typeof e?e:n,i[1]=c;for(var d=2;d<s;d++)i[d]=r[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},9154:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>g,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var a=r(58168),n=(r(96540),r(15680));const s={sidebar_position:1,title:"Databricks Secrets",id:"databricks-secrets",description:"Working with Databricks Secrets",tags:["databricks-secrets","secrets"]},i=void 0,c={unversionedId:"administration/secret-management/databricks-secrets",id:"administration/secret-management/databricks-secrets",title:"Databricks Secrets",description:"Working with Databricks Secrets",source:"@site/docs/administration/secret-management/databricks-secrets.md",sourceDirName:"administration/secret-management",slug:"/administration/secret-management/databricks-secrets",permalink:"/administration/secret-management/databricks-secrets",draft:!1,tags:[{label:"databricks-secrets",permalink:"/tags/databricks-secrets"},{label:"secrets",permalink:"/tags/secrets"}],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Databricks Secrets",id:"databricks-secrets",description:"Working with Databricks Secrets",tags:["databricks-secrets","secrets"]},sidebar:"adminSidebar",previous:{title:"Secret Management For Spark Fabrics",permalink:"/administration/secret-management/"},next:{title:"Environment Variables",permalink:"/administration/secret-management/env-variable"}},o={},d=[{value:"Manage Databricks Secret Provider",id:"manage-databricks-secret-provider",level:2},{value:"Manage Secrets and Scopes",id:"manage-secrets-and-scopes",level:2},{value:"Managing secrets for Prophecy Managed Databricks",id:"managing-secrets-for-prophecy-managed-databricks",level:2}],p={toc:d},l="wrapper";function g(e){let{components:t,...s}=e;return(0,n.yg)(l,(0,a.A)({},p,s,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("p",null,"For users leveraging Databricks for Spark Execution, ",(0,n.yg)("a",{parentName:"p",href:"https://docs.databricks.com/en/security/secrets/index.html"},"Databricks Secrets")," stand out as the most popular Secret Provider within Prophecy."),(0,n.yg)("h2",{id:"manage-databricks-secret-provider"},"Manage Databricks Secret Provider"),(0,n.yg)("p",null,"By default, a Databricks secret provider is added to all Databricks fabrics. Users can choose to delete it if they prefer to restrict using Databricks secrets and opt for another Secret Provider, such as ",(0,n.yg)("a",{parentName:"p",href:"/administration/secret-management/hashicorp-vault"},"Hashicorp Vault"),"."),(0,n.yg)("p",null,"To add a Databricks Secret Provider, click on the ",(0,n.yg)("strong",{parentName:"p"},"(1) Add Provider")," button, opening the Secret Provider form."),(0,n.yg)("p",null,(0,n.yg)("img",{alt:"Add_Databricks_secret_provider",src:r(75360).A,width:"2880",height:"1084"})),(0,n.yg)("p",null,"Provide a ",(0,n.yg)("strong",{parentName:"p"},"(2) Name"),", select ",(0,n.yg)("strong",{parentName:"p"},"(3) Provider type")," as ",(0,n.yg)("strong",{parentName:"p"},"Databricks"),", and add a ",(0,n.yg)("strong",{parentName:"p"},"(4) Description")," of your choice. A Databricks Secret Provider can only be created in a Databricks fabric, and you do not need to provide any other Authentication details here. Once done, click ",(0,n.yg)("strong",{parentName:"p"},"(5) Save"),"."),(0,n.yg)("h2",{id:"manage-secrets-and-scopes"},"Manage Secrets and Scopes"),(0,n.yg)("p",null,"After adding your Secret provider, click on the ",(0,n.yg)("strong",{parentName:"p"},"(1) Refresh")," button to fetch secrets already created in Databricks. Ensure you have attached a fabric from the top right corner for this."),(0,n.yg)("p",null,"To create a new Secret, click on the ",(0,n.yg)("strong",{parentName:"p"},"(2) Add Secret")," button, opening the Add secret form."),(0,n.yg)("p",null,(0,n.yg)("img",{alt:"Add_databricks_secrets",src:r(16256).A,width:"2880",height:"1084"})),(0,n.yg)("p",null,"Provide a ",(0,n.yg)("strong",{parentName:"p"},"(3) Secret Name"),", and select a ",(0,n.yg)("strong",{parentName:"p"},"(4) Secret Scope")," from the dropdown. Note that if the scope doesn't exist, it will be auto-created.\nAdd a ",(0,n.yg)("strong",{parentName:"p"},"(5) Description"),", and the ",(0,n.yg)("strong",{parentName:"p"},"(6) value")," for your secret. Once done, click ",(0,n.yg)("strong",{parentName:"p"},"(7) Save"),". This will create the Secret with the given key and value in the mentioned scope."),(0,n.yg)("p",null,"You can also Edit/Delete an existing secret from the button next to the Secret in the table."),(0,n.yg)("admonition",{type:"info"},(0,n.yg)("p",{parentName:"admonition"},"Users can only access the secrets, which they have permissions to according to the token provided in the fabric. Every User provides their own PAT in the Databricks fabric.")),(0,n.yg)("h2",{id:"managing-secrets-for-prophecy-managed-databricks"},"Managing secrets for Prophecy Managed Databricks"),(0,n.yg)("p",null,"For POC and trial users exploring the product with Prophecy Managed fabrics, we support creating and managing Databricks Secrets in our Databricks Workspace. Each Prophecy Managed Trial fabric has a pre-created scope of its own. You can use/add/manage secrets in this pre-created Scope only."),(0,n.yg)("admonition",{type:"info"},(0,n.yg)("p",{parentName:"admonition"},"Secrets created in one Prophecy Managed Databricks fabric can't be accessed from another. They're also deleted when the trial expires.\nYour POC secrets are safe, but it's best not to use production systems for POC while using Prophecy Managed Databricks fabrics.")),(0,n.yg)("p",null,"To create a new Secret, click on the ",(0,n.yg)("strong",{parentName:"p"},"Add Secret")," button. In the form, you will notice a Secret-scope already selected. Go ahead and add your Secret name and value. Note that Prophecy doesn't store the Secret value."),(0,n.yg)("p",null,"Once you have created a Secret Provider and Secrets, you can start to ",(0,n.yg)("a",{parentName:"p",href:"/administration/secret-management/using-secrets"},"use")," them in your pipelines."))}g.isMDXComponent=!0},75360:(e,t,r)=>{r.d(t,{A:()=>a});const a=r.p+"assets/images/Add_databricks_provider-2f498d6909cf6725c3a02e6d72cbf222.png"},16256:(e,t,r)=>{r.d(t,{A:()=>a});const a=r.p+"assets/images/Add_databricks_secrets-3d3d65169ab0e2bc4cf3ff31102998ba.png"}}]);