<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-extensibility/package-hub/package-hub" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Package Hub | Prophecy</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.prophecy.io/extensibility/package-hub/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Package Hub | Prophecy"><meta data-rh="true" name="description" content="Create and Share Reusable Pipeline Components"><meta data-rh="true" property="og:description" content="Create and Share Reusable Pipeline Components"><link data-rh="true" rel="icon" href="/img/favicon2.png"><link data-rh="true" rel="canonical" href="https://docs.prophecy.io/extensibility/package-hub/"><link data-rh="true" rel="alternate" href="https://docs.prophecy.io/extensibility/package-hub/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.prophecy.io/extensibility/package-hub/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ZWUS3CKBSL-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Prophecy" href="/opensearch.xml">


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="/assets/css/styles.f6921618.css">
<link rel="preload" href="/assets/js/runtime~main.f31264a6.js" as="script">
<link rel="preload" href="/assets/js/main.7bf60d2e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Prophecy Logo.png" alt="Prophecy Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/Prophecy Logo White.png" alt="Prophecy Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Docs</a><a class="navbar__item navbar__link" href="/administration">Administration</a><a href="https://transpiler.docs.prophecy.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Transpiler</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/getting-started/getting-help">Help</a><a href="http://app.prophecy.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Login</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Prophecy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="sidebar-divider"></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/getting-started/">Quick starts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Quick starts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/concepts/">Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/copilot/">Data Copilot</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data Copilot&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/release_notes/">Release notes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Release notes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="sidebar-divider"></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Spark/">Pipeline development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pipeline development&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/SQL/">Model development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Model development&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/lineage/">Lineage</a><button aria-label="Toggle the collapsible sidebar category &#x27;Lineage&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ci-cd/reliable-ci-cd">CI/CD</a><button aria-label="Toggle the collapsible sidebar category &#x27;CI/CD&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Orchestration/">Orchestration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Orchestration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/extensibility/">Extensibility</a><button aria-label="Toggle the collapsible sidebar category &#x27;Extensibility&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/extensibility/dependencies/spark-dependencies">Dependencies</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/extensibility/package-hub/">Package Hub</a><button aria-label="Toggle the collapsible sidebar category &#x27;Package Hub&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/extensibility/package-hub/shareable-pipelines">Build Shareable Pipelines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/extensibility/package-hub/shareable-datasets">Build Shareable Datasets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/extensibility/package-hub/shareable-subgraphs">Build Shareable Subgraphs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/extensibility/package-hub/sharable-udfs">Build Shareable UDFs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/extensibility/gem-builder/sql-gem-builder">Gem Builder</a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/extensibility/"><span itemprop="name">Extensibility</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Package Hub</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Package Hub</h1></header><p>Prophecy introduces <strong>Package Hub,</strong> which enables data practitioners to create and share Pipeline components.</p><div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%"><iframe src="https://fast.wistia.net/embed/iframe/699b96r7w8?seo=false?videoFoam=true" title="Getting Started With SQL Video" allow="autoplay; fullscreen" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" width="100%" height="100%"></iframe></div></div><script src="https://fast.wistia.net/assets/external/E-v1.js" async=""></script><br><p>A Package is a versioned Project that can be shared across teams. As such, a Package can contain Pipeline templates, <a href="/extensibility/gem-builder/spark-gem-builder">custom Gems</a>, functions, subgraph templates, etc - a reusable version of everything a Project contains. Package dependencies allow us to re-use components so we don’t have to rebuild them. The coding community has been using packages for ages, and finally the non-coding data practitioners can take advantage of the same idea. Packages are shareable within and across teams. For extra visibility, the Package Hub is a curated selection of Packages that your teams create and publish for other users to leverage.</p><p>Just include a Package as a dependency to take advantage of its contents. See the sections below for step-by-step instructions on how to <a href="#use-a-package">use</a>, <a href="#build-a-package">build</a>, and <a href="#share-a-package">share</a> Packages.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-a-package">Use a package<a href="#use-a-package" class="hash-link" aria-label="Direct link to Use a package" title="Direct link to Use a package">​</a></h2><p>Open the helloworld project or create a new project. Notice the dependencies include <code>SparkBasics</code> Project:</p><p><img loading="lazy" alt="2" src="/assets/images/2-ph-d63fd4c4ef659c680af78e11ad5ff970.png" width="2880" height="1084" class="img_ev3q"></p><p>On opening a NewPipeline, notice all the transformation dropdown Gems are from <code>SparkBasics</code> package. Drag and drop a Gem like Deduplicate from SparkBasics package to use in a NewProject Pipeline.</p><p><img loading="lazy" alt="3" src="/assets/images/3-ph-ef16aa22ec017b9ad14f90c309b83857.png" width="2880" height="1084" class="img_ev3q">
Already you are employing an engineering best practice: package dependencies! When we say that a project USES a package, another way to say it is “a Project has a dependency on the Package.” <code>NewProject</code> has a dependency on SparkBasics Package. But don’t stop there. You’ll want to use packages shared by your teammates!</p><p>Adding a Package to your Project is easy. From a Pipeline, just <strong>(1)Add a new Package.</strong> Now the Package and all of the contents - Pipeline templates, custom Gems, jobs, UDFs, etc - will be accessible in your Pipeline and the entire Project. Want to see the list of Packages available for your Project? From the <strong>(2)Project page,</strong> click <strong>(3)Dependencies</strong> to see the Packages listed as Dependencies for your Project. <strong>(4)Add or remove</strong> dependencies using the dropdown.</p><p><img loading="lazy" alt="4" src="/assets/images/4-ph-554aba61f955071f6600bf5492da0824.png" width="2880" height="1084" class="img_ev3q"></p><p>Another great way to find Packages is via the <strong>(1)Package Hub.</strong> This Hub serves to give visibility to the best, curated Packages that Teams want to highlight. Therefore, only Published Packages appear in the PackageHub. Search for a Package by search string, or filter by content, type, or team. <strong>(2)Select a package card</strong> and <strong>(3)Use</strong> the Package as a dependency to a new or existing project.</p><p><img loading="lazy" alt="5" src="/assets/images/5-ph-dfdc784e4eea8d06110992ef8bc6b728.png" width="2880" height="1084" class="img_ev3q"></p><p>A Package can contain Pipeline templates, custom Gems, Subgraph templates, Functions, and more. In fact, a Package can contain anything a Project contains. Why? <strong>A Package is a Project that has been Released with a version.</strong></p><p>A Package is a set of logic to apply in various situations. Any changes to this logic would be done via versioned package release. For this reason, the projects that USE the package will not be able to change the package.</p><p>Let’s diagram a slightly more complex scenario that represents how your teams might use Packages. (So far we’ve considered <code>SparkBasics</code>, a Project created by the engineering team at Prophecy which only contains the Gems we already know and love.) We need a slightly more complex scenario to explore re-using Pipeline templates and custom Gems. (Detailed pages exploring re-usable subgraphs, UDFs, and jobs will be available in the near future.)</p><p>Consider now the <code>Framework</code> Project and two Projects that have dependencies on the <code>Framework</code> Project.</p><p><img loading="lazy" alt="6" src="/assets/images/6-ph-7bd8377fcac62155a7988b24ef2231bf.png" width="3200" height="1800" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="re-using-pipelines">Re-using Pipelines<a href="#re-using-pipelines" class="hash-link" aria-label="Direct link to Re-using Pipelines" title="Direct link to Re-using Pipelines">​</a></h3><p>Since <code>MarketingLeads</code> Project lists package <code>Framework</code> as a dependency, any Pipelines from <code>Framework</code> will be accessible in <code>MarketingLeads</code> by passing <a href="/Spark/configuration#pipeline-configuration">configurable variables.</a> The <code>MarketingLeads</code> Project cannot change the Framework Pipelines. This is a good thing - the Platform team decides how <code>Framework</code> will evolve.</p><p><img loading="lazy" alt="7" src="/assets/images/7-ph-09729ef1c5d2da0b16c39103a8f7ac5b.png" width="2880" height="1084" class="img_ev3q">
The MarketingAnalytics team can create a <strong>(1)new Pipeline configuration</strong> and <strong>(2)name</strong> it <code>LeadsCleanup</code>. Then <strong>(3)select</strong> that configuration, perhaps change the variable “table” value from default to a more interesting <strong>(4)value</strong> for their use case. <code>LeadsCleanup</code> is a configuration instance of the <code>GenericCleanup</code> Pipeline template.</p><p><img loading="lazy" alt="8" src="/assets/images/8-ph-6bbe1a92da13f13902294105a571b8cc.png" width="2880" height="1084" class="img_ev3q"></p><p>Now, in the same <code>CustomersModeling</code> Project, <strong>(1)select</strong> the desired configuration instance, and <strong>(2)run</strong> the Pipeline with that configuration. Here the <code>GenericCleanup</code> Pipeline is a readonly template, so the MarketingAnalytics team gets to take advantage of the logic while passing configurations relevant for their own use cases.</p><p>If a change is needed in the <code>Framework</code> Pipelines, the changes must be made in the <code>Framework</code> Project. When the <code>Framework</code> Project is released with the changes, <code>MarketingLeads</code> Project can <strong>(3)update</strong> the dependency. With <code>Framework v0.0.2</code>, the <code>GenericCleanup</code> Pipeline has been updated with <strong>(4)additional Gems</strong> which can now be used with the <code>LeadsCleanup</code> configuration.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="re-using-custom-gems">Re-using custom Gems<a href="#re-using-custom-gems" class="hash-link" aria-label="Direct link to Re-using custom Gems" title="Direct link to Re-using custom Gems">​</a></h3><p>Configuring Pipelines is just one way to take advantage of the shared, reusable components in a Package. Another (very powerful) way is to use custom Gems.</p><p><img loading="lazy" alt="9" src="/assets/images/9-ph-88b7ce7c68ff28f960af1e9ccbb83163.png" width="2880" height="1726" class="img_ev3q"></p><p>If the MarketingAnalytics team wishes to use one of the custom Gems from <code>Framework</code> in a new Pipeline, just <strong>(1)drag-and-drop the Gem</strong>, e.g. DataMasking , to the Pipeline canvas. <strong>(2)Visually configure</strong> the Gem and execute the Pipeline as you would for any Transformation Gem.</p><p>Likewise, new Dataset Format Gems from <code>Framework</code> can be used in a new Pipeline.</p><p><img loading="lazy" alt="10" src="/assets/images/10-ph-9fbca4d7faea625c7195c538b3508494.png" width="2880" height="1084" class="img_ev3q"></p><p>Select from the <strong>(1)source/target</strong> dropdown menu, and <strong>(2)select</strong> the new Dataset format card from the options. The Platform and MarketingAnalytics teams are using the industry best-practice for re-usable components.</p><p>Try this out for yourself! In the next sections, we’ll walk through how to <a href="/extensibility/package-hub/#build-a-package">build</a> and <a href="#share-a-package">share</a> a package.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="build-a-package">Build a package<a href="#build-a-package" class="hash-link" aria-label="Direct link to Build a package" title="Direct link to Build a package">​</a></h2><p>A package is simply a released project. The project can contain Pipeline templates, functions, subgraph templates, custom Gems, etc. The most important of these components are custom Gems, so we’ll focus on building a Package with a Custom Gem here.</p><p><img loading="lazy" alt="11" src="/assets/images/11-ph-cfa53d0e56c6ccb38753ed93a8ba60d8.png" width="2880" height="1084" class="img_ev3q"></p><p>Start by <strong>(1)creating</strong> a new Project called <code>SecurityPython</code>. There are no changes needed; use the default settings to <strong>(2)Complete</strong> Project creation.</p><p><img loading="lazy" alt="12" src="/assets/images/12-ph-66428fdaeda91b4ef620b04695af2d8a.png" width="2880" height="1084" class="img_ev3q"></p><p>From the Project Browser, <strong>(1)Create a new Gem.</strong> Give the Gem a <strong>(2)name</strong> like <code>Encrypt</code>. This will be a Transformation Gem; another time try creating a different Gem mode or category.</p><p>Next specify the Gem’s code.</p><p><img loading="lazy" alt="13" src="/assets/images/13-ph-7632c71b9f41704c43d3a07f61d59580.png" width="2880" height="1084" class="img_ev3q"></p><p>When you create a new Gem, a <strong>(1)code guide</strong> appears. Use the guide or replace with your <strong>(2)custom code.</strong> Explore the <a href="/extensibility/gem-builder/spark-gem-builder">Gem Structure</a> to understand the code requirements. Then go to the <strong>(3)Visual View</strong> and make sure the UI appears with <a href="/extensibility/gem-builder/spark-gem-builder">no errors.</a> Now the Custom Gem is ready to try in the canvas.</p><p><img loading="lazy" alt="14" src="/assets/images/14-ph-3317937d6fe94180a8dd9218c0a071b9.png" width="2880" height="1084" class="img_ev3q"></p><p><strong>(1)Click and drag</strong> the custom Gem Encrypt (in the list of Gems within the SecurityPython Project) to a new or existing Pipeline canvas. <strong>(2) Configure</strong> the custom Gem as with any other Gem: <strong>(3)define expressions,</strong> check the <strong>(4)output</strong> column list, even <strong>(5)infer</strong> the schema based on the attached Fabric. <strong>(6)Save</strong> the configured Gem to start using it.</p><p><img loading="lazy" alt="15" src="/assets/images/15-ph-249eed82bbce45869fa0da01a0dd4bea.png" width="2880" height="1726" class="img_ev3q"></p><p><strong>(1)Run</strong> the custom Gem to check whether the functionality works as expected. Click <strong>(2)Data</strong> to view the data input and <strong>(3)output</strong> preview. The <code>customer_id</code> is encrypted after our function is applied.</p><p>Click <a href="/extensibility/gem-builder/spark-gem-builder">here</a> for a deep dive on building Packages with Custom Gems.</p><p>Once you have tested your Gem in the canvas, and you are happy with both the <strong>Gem UI Component</strong> and <strong>Gem Code Logic</strong>, you will want to release a tagged version.</p><p><img loading="lazy" alt="16" src="/assets/images/16-ph-256e2a407b138128add3d536ef4773de.png" width="2880" height="1084" class="img_ev3q"></p><p><strong>(1) Commit</strong> and <strong>(2)Release</strong> the Project, including the Custom Gem. Continue developing and releasing new versions as incremental improvements!</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Note:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The release must be made from the branch specified on project creation, usually main or master.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">This implementation ensures teams will review code before releasing.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now we have built a package! Now other projects owned by the same team can use the package as a versioned dependency.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="share-a-package">Share a package<a href="#share-a-package" class="hash-link" aria-label="Direct link to Share a package" title="Direct link to Share a package">​</a></h2><p>The entire Project is <strong>(1)packaged</strong> into a jar or wheel file and uploaded to Prophecy’s artifactory. Once the Package is successfully released, it can be shared with specific teams or highlighted by publishing to the Package Hub.</p><p><img loading="lazy" alt="17" src="/assets/images/17-ph-d762c37c5564dc48b6d646cec2627ef1.png" width="2880" height="1084" class="img_ev3q"></p><p>Select the <strong>(2) Metadata</strong> tab, then select your <strong>(3)Project’s page</strong>. Then select <strong>(4)Access</strong>, select the <strong>(5)Teams</strong> that should have access to the package. <strong>(6)Send an invitation</strong> to those teams. For the team’s best packages that are intended for broad consumption, <strong>(7)Publish</strong> to the Package Hub.</p><p>If another team wants to use the <code>SecurityPython</code> package in their newProject, just add <code>SecurityPython</code> as a dependency for <code>newProject</code>. Now the user can see and use the <code>Encrypt</code> custom Gem.</p><p>We have built and shared our package with a custom <code>Encrypt</code> Gem!</p><p>With Package Hub, Platform teams can build solutions once, and re-use the logic for additional cases. Errors can be handled just once. Updated Packages take advantage of logic updates and error-fixes. Data Analyst teams will build Pipelines faster by taking advantage of the building blocks - custom Gems, UDFs - provided by the Platform team. Or, Data Analyst teams might create their own building blocks! Everyone can create and share Pipeline components with Package Hub. We’d love to hear how your teams are creating, sharing, and even curating Packages. <a href="https://www.prophecy.io/request-a-demo" target="_blank" rel="noopener noreferrer">Schedule</a> some time with us - we would LOVE to hear your feedback!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="faq">FAQ<a href="#faq" class="hash-link" aria-label="Direct link to FAQ" title="Direct link to FAQ">​</a></h2><p><strong>Q: I shared a dependency to a team, but we don’t see any email notification.</strong>
A: The share “invitation” is not sent via email. Rather, the team would be able to add that project as a dependency to their new or existing projects.</p><p><strong>Q: I shared a dependency to a team, but they don’t see the package listed when they try to add as a dependency.</strong>
A: Be sure the new project and dependent project are using the same language, like Scala or Python. If the new project is a Scala project, only Scala Packages can be added as dependencies.</p><p><strong>Q: How do I use subgraphs from a dependency?</strong>
A: Like Pipelines, Subgraphs can be used by dependent projects via <a href="/extensibility/package-hub/shareable-subgraphs">configurable variables.</a></p><p><strong>Q: How would I take a Package built by another team and evolve it in a new direction? That is, how can two teams take a single project in two different directions?</strong>
A: One excellent option here is to <strong>Clone</strong> the Project instead of use as a Package Dependency. For example, let’s say the MarketingAnalytics team loved the <code>Framework</code> Package and wanted it to become a holding place for all the Marketing Pipelines. The Platform team, however, wants to keep the <code>Framework</code> Project as general as possible. How can the two teams each take a version of the project in their own direction?</p><p><img loading="lazy" alt="18" src="/assets/images/18-ph-bbad5347468ef6c756ba4488372c0e99.png" width="2880" height="1084" class="img_ev3q">
Just <strong>(1)Clone</strong> the <code>Framework</code> Project, and <strong>(2)provide</strong> a new name, team, Git account, and repository.</p><p>Now the MarketingAnalytics team has their own Project, <code>MarketingFramework</code>, to evolve in their own direction. Notice the Pipelines are not templates, rather the <code>GenericCleanup</code> Pipeline can be edited by adding a new Gem, like Repartition:
<img loading="lazy" alt="19" src="/assets/images/19-ph-94e32f620c185023a6046f3daf401bfc.png" width="2880" height="1726" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/package-hub">package-hub</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/extensibility/dependencies/prophecy-libraries"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Prophecy libraries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/extensibility/package-hub/shareable-pipelines"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Build Shareable Pipelines</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#use-a-package" class="table-of-contents__link toc-highlight">Use a package</a><ul><li><a href="#re-using-pipelines" class="table-of-contents__link toc-highlight">Re-using Pipelines</a></li><li><a href="#re-using-custom-gems" class="table-of-contents__link toc-highlight">Re-using custom Gems</a></li></ul></li><li><a href="#build-a-package" class="table-of-contents__link toc-highlight">Build a package</a></li><li><a href="#share-a-package" class="table-of-contents__link toc-highlight">Share a package</a></li><li><a href="#faq" class="table-of-contents__link toc-highlight">FAQ</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Prophecy</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.prophecy.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.prophecy.io/blogs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/prophecy-io-support/shared_invite/zt-1dwuvkakg-JcavnQuoukyZ3q5jkSkKCg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://app.prophecy.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Login<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 Prophecy Inc All Rights Reserved <a href="https://legal.prophecy.io/privacy" target="_blank">Privacy Policy</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.f31264a6.js"></script>
<script src="/assets/js/main.7bf60d2e.js"></script>
</body>
</html>