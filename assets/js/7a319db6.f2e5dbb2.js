"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[3894],{3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return m}});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=a.createContext({}),l=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},p=function(e){var n=l(e.components);return a.createElement(s.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,p=d(e,["components","mdxType","originalType","parentName"]),u=l(t),m=i,h=u["".concat(s,".").concat(m)]||u[m]||c[m]||o;return t?a.createElement(h,r(r({ref:n},p),{},{components:t})):a.createElement(h,r({ref:n},p))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,r=new Array(o);r[0]=u;var d={};for(var s in n)hasOwnProperty.call(n,s)&&(d[s]=n[s]);d.originalType=e,d.mdxType="string"==typeof e?e:i,r[1]=d;for(var l=2;l<o;l++)r[l]=t[l];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},5211:function(e,n,t){t.r(n),t.d(n,{assets:function(){return p},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return d},metadata:function(){return l},toc:function(){return c}});var a=t(7462),i=t(3366),o=(t(7294),t(3905)),r=["components"],d={sidebar_position:1,title:"Dependencies"},s=void 0,l={unversionedId:"low-code-spark/extensibility/dependencies",id:"low-code-spark/extensibility/dependencies",title:"Dependencies",description:"Dependencies allow you to make use of third-party or custom code in your data pipelines and jobs. Dependencies can be",source:"@site/docs/low-code-spark/extensibility/dependencies.md",sourceDirName:"low-code-spark/extensibility",slug:"/low-code-spark/extensibility/dependencies",permalink:"/low-code-spark/extensibility/dependencies",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Dependencies"},sidebar:"defaultSidebar",previous:{title:"Extensibility",permalink:"/low-code-spark/extensibility/"},next:{title:"User-defined functions",permalink:"/low-code-spark/extensibility/user-defined-functions"}},p={},c=[{value:"Storage",id:"storage",level:2},{value:"Common Actions",id:"common-actions",level:2},{value:"See dependencies",id:"see-dependencies",level:3},{value:"Add dependency",id:"add-dependency",level:3},{value:"Enable / Disable dependency",id:"enable--disable-dependency",level:3},{value:"Delete dependency",id:"delete-dependency",level:3},{value:"Installing on a cluster",id:"installing-on-a-cluster",level:3},{value:"Jobs Support",id:"jobs-support",level:2},{value:"Build Tool Customization",id:"build-tool-customization",level:2}],u={toc:c};function m(e){var n=e.components,d=(0,i.Z)(e,r);return(0,o.kt)("wrapper",(0,a.Z)({},u,d,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Dependencies allow you to make use of third-party or custom code in your data pipelines and jobs. Dependencies can be\nwritten in Java, Scala, or PySpark, and can be connected to your data pipelines by pointing it\nto ",(0,o.kt)("a",{parentName:"p",href:"https://mvnrepository.com/"},"Maven")," or ",(0,o.kt)("a",{parentName:"p",href:"https://pypi.org/"},"PyPi")," coordinates."),(0,o.kt)("h2",{id:"storage"},"Storage"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"See Dependencies",src:t(2120).Z,width:"2576",height:"1084"})),(0,o.kt)("p",null,"All of your dependencies are stored at the project-level. This means, that when adding a dependency to a single\npipeline, by default it becomes available to all the other pipelines, within the same project. However, within each\npipeline you can control, if a given dependency should be enabled or disabled."),(0,o.kt)("p",null,"Dependencies are natively saved within your build-system files. E.g. if you're using Scala, they're saved in the\n",(0,o.kt)("strong",{parentName:"p"},"pom.xml")," file, if you're using Python, they're saved in the ",(0,o.kt)("strong",{parentName:"p"},"setup.py")," file. To customize the build system further,\nplease\nlook at ",(0,o.kt)("a",{parentName:"p",href:"#build-tool-customization"},"Custom Build Tool")," section."),(0,o.kt)("h2",{id:"common-actions"},"Common Actions"),(0,o.kt)("h3",{id:"see-dependencies"},"See dependencies"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"See Dependencies",src:t(6405).Z,width:"3200",height:"800"})),(0,o.kt)("p",null,"To see all of your project & pipeline dependencies simply open the ",(0,o.kt)("strong",{parentName:"p"},"Manage Dependencies")," screen by going to ",(0,o.kt)("strong",{parentName:"p"},"... >\nOptions > Manage Dependencies"),"."),(0,o.kt)("h3",{id:"add-dependency"},"Add dependency"),(0,o.kt)("p",null,"To add the dependency, the ",(0,o.kt)("a",{parentName:"p",href:"#see-dependencies"},"dependencies list"),". There you will see a complete list of your\ndependencies. Click on ",(0,o.kt)("strong",{parentName:"p"},"Create Dependency")," to add a new dependency."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Add Dependency",src:t(562).Z,width:"3197",height:"968"})),(0,o.kt)("p",null,"To define new dependency, specify the following:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Type")," - which can be either ",(0,o.kt)("strong",{parentName:"li"},"Coordinates (Maven)")," or ",(0,o.kt)("strong",{parentName:"li"},"Package (PyPi)")," (Python projects only)."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Name")," - the name of your dependency - this can be any name, chosen by you to easier identify each dependency"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Coordinates")," - maven coordinates in the ",(0,o.kt)("inlineCode",{parentName:"li"},"groupId:artifcatId:version")," format (e.g. org.postgresql:postgresql:\n42.3.3)")),(0,o.kt)("p",null,"For further customization of your dependency you can additionally define ",(0,o.kt)("strong",{parentName:"p"},"Advanced")," properties:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Repository")," - by default your dependency is fetched from ",(0,o.kt)("strong",{parentName:"li"},"Maven Central")," repository. If you'd like to use an\nexternal repository (e.g. your organizations' repository) yoy can specify the link to it here. Please note, that\nthe repository has to be publicly accessible."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Exclusions")," - optional list of of ",(0,o.kt)("inlineCode",{parentName:"li"},"groupId:artifactId")," pairs, of dependencies you'd like to exclude. Learn more\nabout dependency\nexclusion ",(0,o.kt)("a",{parentName:"li",href:"https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html#dependency-exclusions"},"here"),"\n.")),(0,o.kt)("p",null,"After you defined the Dependency press ",(0,o.kt)("strong",{parentName:"p"},"Save"),". Prophecy is going to validate the dependency and add it to the project,\nmaking it enabled by default in all of your pipelines."),(0,o.kt)("p",null,"When adding dependencies, Prophecy validates that the dependency coordinates is valid, and it's able to access them. If\nthat fails, you should see an invalid coordinates error."),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Invalid coordinates")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"In rare cases, your dependency might be only accessible to the Spark cluster or the build system but not Prophecy\nitself. If you're confident that the dependency is correct, but the validation error shows up, it's safe to press ",(0,o.kt)("strong",{parentName:"p"},"Save\nAnyways")," to ignore that warning."))),(0,o.kt)("h3",{id:"enable--disable-dependency"},"Enable / Disable dependency"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Dependencies List",src:t(7934).Z,width:"2794",height:"338"})),(0,o.kt)("p",null,"Since dependencies are stored at a project-level, any changes, like adding or deleting a dependency affects all the\npipelines. To selectively enable or disable a dependency for a specific pipeline, you can use the ",(0,o.kt)("strong",{parentName:"p"},"Enable In Pipeline"),"\noption."),(0,o.kt)("h3",{id:"delete-dependency"},"Delete dependency"),(0,o.kt)("p",null,"To delete a dependency click on a trash icon on the dependencies list."),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Deleting a dependency")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Deleting a dependency deletes it within the whole project, and all inheriting pipelines. If you're not confident about\nthe functionality of the other pipelines, it's usually better to disable a dependency, instead of deleting it."))),(0,o.kt)("h3",{id:"installing-on-a-cluster"},"Installing on a cluster"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Dependencies Install",src:t(8123).Z,width:"3200",height:"1150"})),(0,o.kt)("p",null,"Whenever you connect the pipeline to a cluster, dependencies are automatically installed on your cluster. If the\ncluster doesn't have the dependency installed yet, Prophecy installs it and restarts the cluster automatically."),(0,o.kt)("h2",{id:"jobs-support"},"Jobs Support"),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Coming Soon")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"With Prophecy 2.0, the dependencies are going to be automatically added to the pom.xml. Saving you the additional manual\nsteps."))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Dependencies List",src:t(8843).Z,width:"3200",height:"1150"})),(0,o.kt)("p",null,"Currently, the dependencies added to your pipelines are not propagated to the scheduled jobs. To ensure that the\ndependency is visible to your pipeline when it's scheduled, it has to be ",(0,o.kt)("strong",{parentName:"p"},"manually")," added to the ",(0,o.kt)("strong",{parentName:"p"},"pom.xml")," file."),(0,o.kt)("p",null,"The dependency should be added anywhere between the ",(0,o.kt)("inlineCode",{parentName:"p"},"<dependencies></dependencies>")," tags. For instance to\nadd ",(0,o.kt)("inlineCode",{parentName:"p"},"io.github.etspaceman:scalacheck-faker_2.12:7.0.0")," dependency, add it to the ",(0,o.kt)("strong",{parentName:"p"},"pom.xml")," like so:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},"...\n<dependencies>\n    <dependency>\n        <groupId>io.github.etspaceman</groupId>\n        <artifactId>scalacheck-faker_2.12</artifactId>\n        <version>7.0.0</version>\n    </dependency>\n\n    ...\n</dependencies>\n...\n")),(0,o.kt)("h2",{id:"build-tool-customization"},"Build Tool Customization"),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Coming Soon")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"With Prophecy 2.0, you will be able to customize your build system freely, by defining project-level templates. To learn\nmore about it ",(0,o.kt)("a",{parentName:"p",href:"mailto:support@prophecy.io"},"contact us"),"."))))}m.isMDXComponent=!0},562:function(e,n,t){n.Z=t.p+"assets/images/dependencies-add-146e3067f9738739226ad0a3445df1b7.png"},8123:function(e,n,t){n.Z=t.p+"assets/images/dependencies-install-81b0fc1b6e483c5c8f00d2ec7deab329.gif"},7934:function(e,n,t){n.Z=t.p+"assets/images/dependencies-list-c7c64f85305b7033fe8ebee9d33d0500.png"},6405:function(e,n,t){n.Z=t.p+"assets/images/dependencies-open-6054cb1a6960ef1cb8d4921501a5e0eb.gif"},8843:function(e,n,t){n.Z=t.p+"assets/images/dependencies-pom-add-840a3df8109102daa6cbc3ef8ce470be.gif"},2120:function(e,n,t){n.Z=t.p+"assets/images/dependencies-storage-3a586a51d4647dab0591eee58ef77908.png"}}]);