"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[56092],{18753:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/okta_dl_cert-0f492bd46f0627d7206c135c6c8ef2e9.png"},22762:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/azure_enterpriseapp_sso-3d4936d29f9ecbe90eb9228ca6bfa896.png"},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var s=i(96540);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}},37215:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/okta_idp_metadata_xml-2c9061db8a27d4d1f3621d3c6d8a045f.png"},46559:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"administration/authentication/saml-scim","title":"SAML authentication (SCIM optional)","description":"Leverage SAML for authentication for Prophecy users","source":"@site/docs/administration/authentication/saml.md","sourceDirName":"administration/authentication","slug":"/administration/authentication/saml-scim","permalink":"/administration/authentication/saml-scim","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"saml","permalink":"/tags/saml"},{"inline":true,"label":"scim","permalink":"/tags/scim"}],"version":"current","frontMatter":{"title":"SAML authentication (SCIM optional)","id":"saml-scim","description":"Leverage SAML for authentication for Prophecy users","tags":["saml","scim"]},"sidebar":"gettingStartedSidebar","previous":{"title":"LDAP authentication","permalink":"/administration/authentication/ldap"},"next":{"title":"Microsoft Entra ID SSO","permalink":"/administration/authentication/azure-ad"}}');var t=i(74848),r=i(28453);const o={title:"SAML authentication (SCIM optional)",id:"saml-scim",description:"Leverage SAML for authentication for Prophecy users",tags:["saml","scim"]},l=void 0,c={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Supported identity providers",id:"supported-identity-providers",level:2},{value:"Prophecy-specific steps",id:"prophecy-specific-steps",level:2},{value:"Set up SAML",id:"set-up-saml",level:3},{value:"Set up SCIM",id:"set-up-scim",level:3},{value:"IdP-specific steps",id:"idp-specific-steps",level:2},{value:"Azure Active Directory",id:"azure-active-directory",level:3},{value:"Basic SAML Configuration",id:"basic-saml-configuration",level:4},{value:"Attributes &amp; Claims",id:"attributes--claims",level:4},{value:"SAML certificates",id:"saml-certificates",level:4},{value:"Set up ProphecyAzureADApp",id:"set-up-prophecyazureadapp",level:4},{value:"Configure provisioning",id:"configure-provisioning",level:4},{value:"Okta",id:"okta",level:3},{value:"Download SAML Signing Certificate",id:"download-saml-signing-certificate",level:4},{value:"SSO URL",id:"sso-url",level:4},{value:"Entity and SSO Issuer",id:"entity-and-sso-issuer",level:4},{value:"Enable SCIM provisioning",id:"enable-scim-provisioning",level:4}];function a(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.admonition,{title:"Express and Enterprise",type:"edition",children:(0,t.jsxs)(n.p,{children:["Available for ",(0,t.jsx)(n.a,{href:"/getting-started/editions/",children:"Express and Enterprise Editions"})," only."]})}),"\n",(0,t.jsx)(n.p,{children:"Security Assertion Markup Language (SAML) lets Prophecy delegate user authentication to your identity provider (IdP). System for Cross-domain Identity Management (SCIM) optionally automates provisioning and deprovisioning of users and teams from your IdP into Prophecy."}),"\n",(0,t.jsx)(n.p,{children:"This page describes how to set up SAML and SCIM, which requires configuration in both Prophecy and your preferred IdP."}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsx)(n.p,{children:"Review the following prerequisites."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["To access SSO settings, you must be a ",(0,t.jsx)(n.a,{href:"/administration/rbac",children:"cluster admin"})," for your deployment."]}),"\n",(0,t.jsxs)(n.li,{children:["SAML is available for ",(0,t.jsx)(n.a,{href:"/getting-started/editions/",children:"Express and Enterprise Editions"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["SCIM is only available for the ",(0,t.jsx)(n.a,{href:"/getting-started/editions/",children:"Enterprise Edition"}),". To enable SCIM in your environment, update the ",(0,t.jsx)(n.code,{children:"config"})," in your Prophecy deployment."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"supported-identity-providers",children:"Supported identity providers"}),"\n",(0,t.jsx)(n.p,{children:"Prophecy supports the following identity providers (IdP):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Google"}),"\n",(0,t.jsx)(n.li,{children:"Okta"}),"\n",(0,t.jsx)(n.li,{children:"Azure Active Directory (Microsoft Entra ID)"}),"\n",(0,t.jsx)(n.li,{children:"Others (custom)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"prophecy-specific-steps",children:"Prophecy-specific steps"}),"\n",(0,t.jsx)(n.h3,{id:"set-up-saml",children:"Set up SAML"}),"\n",(0,t.jsx)(n.p,{children:"To set up SAML authentication in Prophecy:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Log in to Prophecy as a cluster admin user."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Navigate to the ",(0,t.jsx)(n.strong,{children:"SSO"})," tab of the Prophecy ",(0,t.jsx)(n.strong,{children:"Settings"})," page."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Under ",(0,t.jsx)(n.strong,{children:"Authentication Provider"}),", select SAML."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Under IdP, select the appropriate identity provider."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Fill out the remaining parameters:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Generate SCIM Token"}),(0,t.jsx)(n.td,{children:"If SCIM is enabled in your environment, click to create/rotate the SCIM bearer token used by your IdP/SCIM client to provision users and groups."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"SSO URL"}),(0,t.jsx)(n.td,{children:"The Identity Provider Single Sign-On endpoint. Paste the SSO URL (Location) from your IdP metadata. Prophecy redirects users here to authenticate."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Certificate"}),(0,t.jsx)(n.td,{children:"The IdP SAML signing certificate. Prophecy uses this to verify SAML response signatures."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Skip certificate verification"}),(0,t.jsx)(n.td,{children:"Disable TLS certificate/host verification when calling the IdP SSO endpoint."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Entity issuer"}),(0,t.jsx)(n.td,{children:"The entity issuer you configured in the IdP. Usually, this is the label for your SAML configuration."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"SSO issuer"}),(0,t.jsx)(n.td,{children:"The SSO issuer. For Azure AD this is the Azure AD Identifier; for Okta, it is the issuer link in the XML."})]})]})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Click ",(0,t.jsx)(n.strong,{children:"Save"})," at the bottom of the page to save your changes."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"SSO settings for SAML and SCIM configurations",src:i(53920).A+"",width:"2620",height:"1511"})}),"\n",(0,t.jsx)(n.h3,{id:"set-up-scim",children:"Set up SCIM"}),"\n",(0,t.jsx)(n.p,{children:"SCIM allows Prophecy to automatically provision and deprovision users and teams based on your IdP configuration. To set up SCIM in Prophecy:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Ensure that SCIM is enabled in your Prophecy environment."}),"\n",(0,t.jsxs)(n.li,{children:["Complete the ",(0,t.jsx)(n.a,{href:"#saml-configuration",children:"SAML configuration"})," described above."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Generate SCIM Token"})," and copy the value of the token. You will use this in your IdP settings later."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["After completing these steps, you'll create users and groups in your IdP directly. See ",(0,t.jsx)(n.a,{href:"/administration/authentication/group-team-mapping",children:"Group-to-team mapping"})," to learn about group naming conventions."]}),"\n",(0,t.jsx)(n.h2,{id:"idp-specific-steps",children:"IdP-specific steps"}),"\n",(0,t.jsx)(n.p,{children:"The following sections describe the fields you must configure in your IdP settings to complete the SAML/SCIM setup."}),"\n",(0,t.jsx)(n.h3,{id:"azure-active-directory",children:"Azure Active Directory"}),"\n",(0,t.jsx)(n.p,{children:"Configure SAML for Azure Active Directory (Microsoft Entra ID) and enable SCIM provisioning"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Log into AzureAD as an administrator and create a new Enterprise Application like ",(0,t.jsx)(n.code,{children:"ProphecyAzureADApp"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["In the home page search bar, search for ",(0,t.jsx)(n.strong,{children:"Enterprise Applications"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"New Application > Create your own application"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Give name for the application like ",(0,t.jsx)(n.code,{children:"ProphecyAzureADApp"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Choose the radio button ",(0,t.jsx)(n.strong,{children:"Integrate any other application you don't find in the gallery (Non-gallery)"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Create"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["In Manage section on the left, click ",(0,t.jsx)(n.strong,{children:"Single sign-on"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Choose ",(0,t.jsx)(n.strong,{children:"SAML"})," as the Single sign-on method."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Now the form for ",(0,t.jsx)(n.strong,{children:"Set up Single Sign-On with SAML"})," will open. You'll have to fill out different sections of the form."]}),"\n",(0,t.jsx)(n.h4,{id:"basic-saml-configuration",children:"Basic SAML Configuration"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Provide an Identifier (Entity ID) which is a unique ID to identify this application to Microsoft Entra ID. This will be added to the Entity issuer field in Prophecy."}),"\n",(0,t.jsxs)(n.li,{children:["In the same section, configure ",(0,t.jsx)(n.strong,{children:"Reply URL"})," and ",(0,t.jsx)(n.strong,{children:"Sign on URL"})," as:",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.code,{children:"https://your-prophecy-ide-url.domain/api/oauth/samlCallback"})]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Save"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"attributes--claims",children:"Attributes & Claims"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Edit"})," button and then ",(0,t.jsx)(n.strong,{children:"Add new claim"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Give ",(0,t.jsx)(n.strong,{children:"Name"})," as ",(0,t.jsx)(n.code,{children:"email"})," and ",(0,t.jsx)(n.strong,{children:"Source Attribute"})," as ",(0,t.jsx)(n.code,{children:"user.userprincipalname"}),", and click ",(0,t.jsx)(n.strong,{children:"Save"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Add one more claim by clicking on ",(0,t.jsx)(n.strong,{children:"Add new claim"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Give ",(0,t.jsx)(n.strong,{children:"Name"})," as ",(0,t.jsx)(n.code,{children:"name"})," and ",(0,t.jsx)(n.strong,{children:"Source Attribute"})," as ",(0,t.jsx)(n.code,{children:"user.givenname"}),", and click ",(0,t.jsx)(n.strong,{children:"Save"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"saml-certificates",children:"SAML certificates"}),"\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.strong,{children:"SAML certificates"})," section, download ",(0,t.jsx)(n.code,{children:"Certificate (Base64)"})," file to be used while configuring SSO in Prophecy UI."]}),"\n",(0,t.jsx)(n.h4,{id:"set-up-prophecyazureadapp",children:"Set up ProphecyAzureADApp"}),"\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.strong,{children:"Set up ProphecyAzureADApp"})," section, copy ",(0,t.jsx)(n.code,{children:"Login URL"})," and ",(0,t.jsx)(n.code,{children:"Azure AD Identifier"})," to be used while configuring SSO in Prophecy UI."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"AzureAD config example",src:i(22762).A+"",width:"674",height:"679"})}),"\n",(0,t.jsx)(n.h4,{id:"configure-provisioning",children:"Configure provisioning"}),"\n",(0,t.jsx)(n.p,{children:"To set up SCIM in Azure:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Open the Enterprise Application you just configured."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["From the left menu of the application, click ",(0,t.jsx)(n.strong,{children:"Manage > Provisioning"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["From the left menu of the provisioning page, click ",(0,t.jsx)(n.strong,{children:"Manage > Connectivity"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Under ",(0,t.jsx)(n.strong,{children:"Select authentication method"}),", select ",(0,t.jsx)(n.strong,{children:"Bearer authentication"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["For the ",(0,t.jsx)(n.strong,{children:"Tenant URL"})," field, use the value ",(0,t.jsx)(n.code,{children:"https://<your-deployment-name>.prophecy.io/proscim"})]}),"\n",(0,t.jsxs)(n.li,{children:["For ",(0,t.jsx)(n.strong,{children:"Secret token"}),", use the Prophecy-generated token that you copied in the ",(0,t.jsx)(n.a,{href:"#set-up-scim",children:"Set up SCIM"})," steps."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Test connection"}),". Once the test succeeds, you can save the connection."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["From the left menu of the same provisioning page, navigate to ",(0,t.jsx)(n.strong,{children:"Manage > Provisioning"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Set the ",(0,t.jsx)(n.strong,{children:"Provisioning Mode"})," to ",(0,t.jsx)(n.strong,{children:"Automatic"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Ensure that the ",(0,t.jsx)(n.strong,{children:"Provisioning Status"})," toggle is set to ",(0,t.jsx)(n.strong,{children:"On"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["From the left menu of the same provisioning page, navigate to ",(0,t.jsx)(n.strong,{children:"Manage > Users and groups"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Create groups using Prophecy's ",(0,t.jsx)(n.a,{href:"/administration/authentication/group-team-mapping",children:"naming conventions"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Assign users to those groups."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"These users and teams should automatically appear in Prophecy."}),"\n",(0,t.jsx)(n.h3,{id:"okta",children:"Okta"}),"\n",(0,t.jsx)(n.p,{children:"Configure SAML for Okta and enable SCIM provisioning"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Log in to Okta as an administrator."}),"\n",(0,t.jsxs)(n.li,{children:["On the homepage, navigate to ",(0,t.jsx)(n.strong,{children:"Applications"})," > ",(0,t.jsx)(n.strong,{children:"Applications"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Create App Integration"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.strong,{children:"SAML 2.0"})," and click ",(0,t.jsx)(n.strong,{children:"Next"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Enter ",(0,t.jsx)(n.strong,{children:"App Name"})," as ",(0,t.jsx)(n.em,{children:"Prophecy SAML App"})," and click ",(0,t.jsx)(n.strong,{children:"Next"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["For ",(0,t.jsx)(n.strong,{children:"Single Sign-On URL"}),", specify ",(0,t.jsx)(n.code,{children:"https://your-prophecy-ide-url.domain/api/oauth/samlCallback"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.strong,{children:"Use this"})," for both ",(0,t.jsx)(n.strong,{children:"Recipient URL"})," and ",(0,t.jsx)(n.strong,{children:"Destination URL"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["In ",(0,t.jsx)(n.strong,{children:"Audience URI (SP Entity ID)"}),", provide a name to serve as the entity issuer ID (e.g., ",(0,t.jsx)(n.em,{children:"prophecyokta"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:["Set ",(0,t.jsx)(n.strong,{children:"Name ID format"})," to ",(0,t.jsx)(n.strong,{children:"EmailAddress"})," from the dropdown."]}),"\n",(0,t.jsxs)(n.li,{children:["For ",(0,t.jsx)(n.strong,{children:"Application Username"}),", select ",(0,t.jsx)(n.strong,{children:"Email"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Under ",(0,t.jsx)(n.strong,{children:"Attribute Statements"}),", add two attributes ",(0,t.jsx)(n.strong,{children:"name"})," and ",(0,t.jsx)(n.strong,{children:"email"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Okta config example",src:i(66810).A+"",width:"1127",height:"1466"})}),"\n",(0,t.jsxs)(n.ol,{start:"12",children:["\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Next"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Choose ",(0,t.jsx)(n.strong,{children:"I\u2019m an Okta customer adding an internal app"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Finish"}),". The ",(0,t.jsx)(n.em,{children:"Prophecy SAML App"})," is now displayed."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"download-saml-signing-certificate",children:"Download SAML Signing Certificate"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Navigate to the ",(0,t.jsx)(n.strong,{children:"Sign On"})," tab of ",(0,t.jsx)(n.em,{children:"Prophecy SAML App"})," in Okta."]}),"\n",(0,t.jsxs)(n.li,{children:["Locate the ",(0,t.jsx)(n.strong,{children:"SAML Signing Certificates"})," section."]}),"\n",(0,t.jsx)(n.li,{children:"Click the download button, as shown in the example below, to download the certificate:"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Download Okta Cert",src:i(18753).A+"",width:"1138",height:"788"})}),"\n",(0,t.jsx)(n.h4,{id:"sso-url",children:"SSO URL"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["In the same ",(0,t.jsx)(n.strong,{children:"Sign On"})," tab under ",(0,t.jsx)(n.strong,{children:"SAML Signing Certificates"}),", click ",(0,t.jsx)(n.strong,{children:"View IdP metadata"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"This action opens an XML file in a new browser tab."}),"\n",(0,t.jsxs)(n.li,{children:["Copy the red-highlighted text in the ",(0,t.jsx)(n.strong,{children:"Location"})," section of the XML file and use it as the ",(0,t.jsx)(n.strong,{children:"SSO URL"})," in Prophecy IDE."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"IdP Metadata",src:i(37215).A+"",width:"3142",height:"820"})}),"\n",(0,t.jsx)(n.h4,{id:"entity-and-sso-issuer",children:"Entity and SSO Issuer"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Go to the ",(0,t.jsx)(n.strong,{children:"General"})," tab, then navigate to the ",(0,t.jsx)(n.strong,{children:"SAML Settings"})," section and click ",(0,t.jsx)(n.strong,{children:"Edit"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Next"})," to reach the ",(0,t.jsx)(n.strong,{children:"Configure SAML"})," section."]}),"\n",(0,t.jsxs)(n.li,{children:["Scroll to the bottom and click the ",(0,t.jsx)(n.strong,{children:"Preview the SAML assertion"})," button."]}),"\n",(0,t.jsx)(n.li,{children:"This opens a new browser tab."}),"\n",(0,t.jsxs)(n.li,{children:["Copy the highlighted information from the preview and use it as the ",(0,t.jsx)(n.strong,{children:"Entity Issuer"})," and ",(0,t.jsx)(n.strong,{children:"SSO Issuer"})," in Prophecy IDE."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"SAML Assertion",src:i(75835).A+"",width:"2736",height:"1116"})}),"\n",(0,t.jsx)(n.h4,{id:"enable-scim-provisioning",children:"Enable SCIM provisioning"}),"\n",(0,t.jsx)(n.p,{children:"To set up SCIM in Okta:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Open in Prophecy application in Okta."}),"\n",(0,t.jsxs)(n.li,{children:["In the ",(0,t.jsx)(n.strong,{children:"General"})," settings, select the ",(0,t.jsx)(n.strong,{children:"Enable SCIM provisioning"})," checkbox."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Once SCIM is enabled, two new tabs should appear in the application settings: ",(0,t.jsx)(n.strong,{children:"Provisioning"})," and ",(0,t.jsx)(n.strong,{children:"Push Groups"}),"."]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Navigate to the ",(0,t.jsx)(n.strong,{children:"Provisioning"})," tab."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.strong,{children:"To App"})," subtab, enable the following:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Create Users"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Update User Attributes"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Deactivate Users"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This allows Okta to perform the enabled actions in Prophecy."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.strong,{children:"Integration"})," subtab:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Set the ",(0,t.jsx)(n.strong,{children:"SCIM version"})," to ",(0,t.jsx)(n.code,{children:"2.0"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["For the ",(0,t.jsx)(n.strong,{children:"SCIM connector base URL"}),", use the value ",(0,t.jsx)(n.code,{children:"https://<your-deployment-name>.prophecy.io/proscim"})]}),"\n",(0,t.jsxs)(n.li,{children:["For the ",(0,t.jsx)(n.strong,{children:"Unique identifier field for users"}),", type ",(0,t.jsx)(n.code,{children:"userName"}),". This is an Okta-specific value."]}),"\n",(0,t.jsxs)(n.li,{children:["For ",(0,t.jsx)(n.strong,{children:"Supported provisioning actions"}),", ensure that ",(0,t.jsx)(n.strong,{children:"Push New Users"}),", ",(0,t.jsx)(n.strong,{children:"Push Profile Updates"}),", and ",(0,t.jsx)(n.strong,{children:"Push Groups"})," checkboxes are enabled."]}),"\n",(0,t.jsxs)(n.li,{children:["Set the ",(0,t.jsx)(n.strong,{children:"Authentication Mode"})," to ",(0,t.jsx)(n.strong,{children:"HTTP Header"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Under ",(0,t.jsx)(n.strong,{children:"HTTP Header"}),", set the ",(0,t.jsx)(n.strong,{children:"Bearer"})," token to the Prophecy-generated token that you copied in the ",(0,t.jsx)(n.a,{href:"#set-up-scim",children:"Set up SCIM"})," steps."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Test Connector Configuration"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["When successful, click ",(0,t.jsx)(n.strong,{children:"Save"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Now that you have set up the connection, you need to create and activate your group assignments."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Open the ",(0,t.jsx)(n.strong,{children:"Assignments"})," tab."]}),"\n",(0,t.jsxs)(n.li,{children:["Create users and assign them to groups using Prophecy's ",(0,t.jsx)(n.a,{href:"/administration/authentication/group-team-mapping",children:"naming conventions"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Navigate to the ",(0,t.jsx)(n.strong,{children:"Push Groups"})," tab."]}),"\n",(0,t.jsxs)(n.li,{children:["Follow the steps in ",(0,t.jsx)(n.a,{href:"https://help.okta.com/en-us/content/topics/users-groups-profiles/usgp-enable-group-push.htm",children:"Enable Group Push"})," in the Okta documentation to activate group provisioning in Prophecy."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:'Once you have pushed groups, the corresponding users and teams should appear in Prophecy. When groups are "active" in Okta, any changes to these groups should automatically sync with Prophecy.'})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},53920:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/sso-scim-647df26fc0d3bba6a708477cb2d5074b.png"},66810:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/okta_example-4e85f048aa3e058aed50b83093c2739c.png"},75835:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/okta_xml-7c8ba189fececf1f90db537d0685afac.png"}}]);