"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[3436],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>m});var i=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,i,a=function(e,t){if(null==e)return{};var r,i,a={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=i.createContext({}),u=function(e){var t=i.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=u(e.components);return i.createElement(l.Provider,{value:t},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},h=i.forwardRef((function(e,t){var r=e.components,a=e.mdxType,n=e.originalType,l=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),s=u(r),h=a,m=s["".concat(l,".").concat(h)]||s[h]||d[h]||n;return r?i.createElement(m,o(o({ref:t},p),{},{components:r})):i.createElement(m,o({ref:t},p))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var n=r.length,o=new Array(n);o[0]=h;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c[s]="string"==typeof e?e:a,o[1]=c;for(var u=2;u<n;u++)o[u]=r[u];return i.createElement.apply(null,o)}return i.createElement.apply(null,r)}h.displayName="MDXCreateElement"},56125:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>n,metadata:()=>c,toc:()=>u});var i=r(87462),a=(r(67294),r(3905));const n={title:"Azure Active Directory",id:"azure_ad",description:"Authentication using Azure Active Directory",sidebar_position:2,tags:["authentication","active-directory","azure"]},o=void 0,c={unversionedId:"architecture/authentication/azure_ad",id:"architecture/authentication/azure_ad",title:"Azure Active Directory",description:"Authentication using Azure Active Directory",source:"@site/docs/architecture/authentication/azure-ad.md",sourceDirName:"architecture/authentication",slug:"/architecture/authentication/azure_ad",permalink:"/architecture/authentication/azure_ad",draft:!1,tags:[{label:"authentication",permalink:"/tags/authentication"},{label:"active-directory",permalink:"/tags/active-directory"},{label:"azure",permalink:"/tags/azure"}],version:"current",sidebarPosition:2,frontMatter:{title:"Azure Active Directory",id:"azure_ad",description:"Authentication using Azure Active Directory",sidebar_position:2,tags:["authentication","active-directory","azure"]},sidebar:"defaultSidebar",previous:{title:"Active-Directory",permalink:"/architecture/authentication/active_directory"},next:{title:"SAML Using Okta",permalink:"/architecture/authentication/saml_okta"}},l={},u=[{value:"Register a new Azure App",id:"register-a-new-azure-app",level:2},{value:"API Permission",id:"api-permission",level:3},{value:"Certificates and Secrets",id:"certificates-and-secrets",level:3},{value:"Note down Azure AD params for Prophecy IDE configuration",id:"note-down-azure-ad-params-for-prophecy-ide-configuration",level:2},{value:"Client ID",id:"client-id",level:3},{value:"Client Secret",id:"client-secret",level:3},{value:"Configure Prophecy to connect with Azure Active Directory",id:"configure-prophecy-to-connect-with-azure-active-directory",level:2}],p={toc:u},s="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(s,(0,i.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This document describes how to configure Azure Active Directory as the identity provider for Prophecy."),(0,a.kt)("h2",{id:"register-a-new-azure-app"},"Register a new Azure App"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"In a new browser tab, log into ",(0,a.kt)("a",{parentName:"p",href:"https://portal.azure.com/"},"Azure Portal"),' as an administrator and register a new app "ProphecyAzureADApp"')),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},'In the home page search bar, search for "App Registrations"')),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},'Click "New Registration"')),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},'Give name as "ProphecyAzureADApp"')),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},'Supported account type as "Accounts in this organizational directory only (xxxxx only - Single tenant)"')),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},'Redirect URI : Choose "Web" in drop down')),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Redirect URI : ",(0,a.kt)("a",{parentName:"p",href:"https://your-prophecy-ide-url.domain/api/oauth/azureadCallback"},"https://your-prophecy-ide-url.domain/api/oauth/azureadCallback"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Click Register"))),(0,a.kt)("h3",{id:"api-permission"},"API Permission"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'Go to "API permissions" on the left hand side and add these set of API permissions',(0,a.kt)("img",{width:"799",alt:"Screenshot 2022-06-13 at 9 57 16 PM",src:"https://user-images.githubusercontent.com/59466885/173400731-acb084df-31a7-4858-b6ba-f395e888e60e.png"}))),(0,a.kt)("h3",{id:"certificates-and-secrets"},"Certificates and Secrets"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'Go to "Certificates and Secrets" add a new secret and note down the "value" of this secret.')),(0,a.kt)("h2",{id:"note-down-azure-ad-params-for-prophecy-ide-configuration"},"Note down Azure AD params for Prophecy IDE configuration"),(0,a.kt)("h3",{id:"client-id"},"Client ID"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'Click on "Overview" on the left hand side and note down the Application(client) ID. This will be used as the client ID in Prophecy IDE')),(0,a.kt)("h3",{id:"client-secret"},"Client Secret"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'You have already noted down the "value" of the secret you create earlier.')),(0,a.kt)("h2",{id:"configure-prophecy-to-connect-with-azure-active-directory"},"Configure Prophecy to connect with Azure Active Directory"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Login to Prophecy IDE using admin user"),(0,a.kt)("li",{parentName:"ul"},'Go to settings and Admin tab and choose "Authentication Provider" as Azure Active Directory and fill up the information you noted down earlier. Save it.'),(0,a.kt)("li",{parentName:"ul"},'Logout and you will be able to see "Login with Azure Active Directory" option. Now users your Azure AD users will be able to login to Prophecy IDE using "Login with Azure Active Directory" option')))}d.isMDXComponent=!0}}]);