"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[36656],{15680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>y});var a=n(96540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),l=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=l(n),m=r,y=d["".concat(c,".").concat(m)]||d[m]||u[m]||i;return n?a.createElement(y,o(o({ref:t},p),{},{components:n})):a.createElement(y,o({ref:t},p))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[d]="string"==typeof e?e:r,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3514:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(96540),r=n(20053),i=n(84142),o=n(75489),s=n(16654),c=n(21312);const l={cardContainer:"cardContainer_fWXF",cardTitle:"cardTitle_rnsV",cardDescription:"cardDescription_PWke"};function p(e){let{href:t,children:n}=e;return a.createElement(o.A,{href:t,className:(0,r.A)("card padding--lg",l.cardContainer)},n)}function d(e){let{href:t,icon:n,title:i,description:o}=e;return a.createElement(p,{href:t},a.createElement("h2",{className:(0,r.A)("text--truncate",l.cardTitle),title:i},n," ",i),o&&a.createElement("p",{className:(0,r.A)("text--truncate",l.cardDescription),title:o},o))}function u(e){let{item:t}=e;const n=(0,i._o)(t);return n?a.createElement(d,{href:n,icon:"\ud83d\uddc3\ufe0f",title:t.label,description:t.description??(0,c.T)({message:"{count} items",id:"theme.docs.DocCard.categoryDescription",description:"The default description for a category card in the generated index about how many items this category includes"},{count:t.items.length})}):null}function m(e){let{item:t}=e;const n=(0,s.A)(t.href)?"\ud83d\udcc4\ufe0f":"\ud83d\udd17",r=(0,i.cC)(t.docId??void 0);return a.createElement(d,{href:t.href,icon:n,title:t.label,description:t.description??r?.description})}function y(e){let{item:t}=e;switch(t.type){case"link":return a.createElement(m,{item:t});case"category":return a.createElement(u,{item:t});default:throw new Error(`unknown item type ${JSON.stringify(t)}`)}}function g(e){let{className:t}=e;const n=(0,i.$S)();return a.createElement(h,{items:n.items,className:t})}function h(e){const{items:t,className:n}=e;if(!t)return a.createElement(g,e);const o=(0,i.d1)(t);return a.createElement("section",{className:(0,r.A)("row",n)},o.map(((e,t)=>a.createElement("article",{key:t,className:"col col--6 margin-bottom--lg"},a.createElement(y,{item:e})))))}},23069:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>c,default:()=>y,frontMatter:()=>s,metadata:()=>l,toc:()=>d});var a=n(58168),r=(n(96540),n(15680)),i=n(3514),o=n(84142);const s={title:"Fabrics",id:"Fabric",description:"Logical execution environments",sidebar_position:4,tags:["concepts","Fabric","source","target","datasets"]},c=void 0,l={unversionedId:"concepts/fabrics/Fabric",id:"concepts/fabrics/Fabric",title:"Fabrics",description:"Logical execution environments",source:"@site/docs/concepts/fabrics/fabrics.md",sourceDirName:"concepts/fabrics",slug:"/concepts/fabrics/",permalink:"/concepts/fabrics/",draft:!1,tags:[{label:"concepts",permalink:"/tags/concepts"},{label:"Fabric",permalink:"/tags/fabric"},{label:"source",permalink:"/tags/source"},{label:"target",permalink:"/tags/target"},{label:"datasets",permalink:"/tags/datasets"}],version:"current",sidebarPosition:4,frontMatter:{title:"Fabrics",id:"Fabric",description:"Logical execution environments",sidebar_position:4,tags:["concepts","Fabric","source","target","datasets"]},sidebar:"mySidebar",previous:{title:"Gems",permalink:"/concepts/project/gems"},next:{title:"Prophecy Libraries",permalink:"/concepts/fabrics/prophecy-libraries"}},p={},d=[{value:"Example",id:"example",level:2},{value:"Components",id:"components",level:2},{value:"Spark Environment",id:"spark-environment",level:3},{value:"Scheduler",id:"scheduler",level:3},{value:"Database Connections",id:"database-connections",level:3},{value:"Metadata Connection",id:"metadata-connection",level:3},{value:"Credentials and Secrets",id:"credentials-and-secrets",level:3},{value:"Hands on",id:"hands-on",level:2},{value:"What&#39;s next",id:"whats-next",level:2}],u={toc:d},m="wrapper";function y(e){let{components:t,...s}=e;return(0,r.yg)(m,(0,a.A)({},u,s,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"Prophecy helps you develop data pipelines in high-quality Spark or SQL code\u2014but what does Prophecy use to compute these pipelines? The first thing you need to understand before building any pipeline is that your pipeline must be connected to an ",(0,r.yg)("strong",{parentName:"p"},"execution environment"),"."),(0,r.yg)("p",null,"This is why ",(0,r.yg)("strong",{parentName:"p"},"Fabrics")," exist in Prophecy. Fabrics let Prophecy connect to specific execution environments."),(0,r.yg)("p",null,"Prophecy provides a Prophecy-managed Fabric that can get you started with building your pipelines. However, you can also create your own Fabrics to connect to other execution environments, such as a Databricks workspace."),(0,r.yg)("h2",{id:"example"},"Example"),(0,r.yg)("p",null,"Here is one way you might set up your Fabrics. First, the Admin creates:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"A team named Marketing_DSS for the Marketing Decision Support System users."),(0,r.yg)("li",{parentName:"ul"},"A ",(0,r.yg)("inlineCode",{parentName:"li"},"dev")," Fabric for development activities that specifies the Marketing_DSS team."),(0,r.yg)("li",{parentName:"ul"},"A ",(0,r.yg)("inlineCode",{parentName:"li"},"prod")," Fabric for production pipelines that specifies the Marketing_DSS team.")),(0,r.yg)("p",null,"In this example, all users in the Marketing_DSS Team will have access to the ",(0,r.yg)("inlineCode",{parentName:"p"},"dev")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"prod")," Fabrics."),(0,r.yg)("h2",{id:"components"},"Components"),(0,r.yg)("p",null,"Fabrics include everything required to run a data Pipeline."),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"Data Pipeline",src:n(83126).A,width:"1192",height:"1026"})),(0,r.yg)("h3",{id:"spark-environment"},"Spark Environment"),(0,r.yg)("p",null,"A ",(0,r.yg)("strong",{parentName:"p"},"Spark Environment")," is a named environment owned by one team but can be shared among multiple teams. It includes the following components:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Connection Credentials"),": For Databricks, these include the ",(0,r.yg)("em",{parentName:"li"},"Workspace URL")," and the ",(0,r.yg)("em",{parentName:"li"},"Access Token"),"."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Cluster Configuration"),": For Databricks, this specifies the ",(0,r.yg)("em",{parentName:"li"},"Databricks Runtime Version"),", ",(0,r.yg)("em",{parentName:"li"},"Machine Type"),", and ",(0,r.yg)("em",{parentName:"li"},"Idle Timeout"),"."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Job Sizes"),': Prophecy allows you to define commonly used cluster sizes and assign them names for easy reference. For example, an "XL" cluster might consist of 10 servers using the ',(0,r.yg)("inlineCode",{parentName:"li"},"i3.xlarge")," instance type, providing 40 CPUs and 70GB of memory.")),(0,r.yg)("h3",{id:"scheduler"},"Scheduler"),(0,r.yg)("p",null,"The ",(0,r.yg)("strong",{parentName:"p"},"Scheduler")," executes one or more Spark data pipelines on a defined schedule, such as every weekday at 9 a.m. Databricks workspaces include a default scheduler that is always available. For enterprise environments, an Airflow Scheduler option is also provided."),(0,r.yg)("h3",{id:"database-connections"},"Database Connections"),(0,r.yg)("p",null,"Data Pipelines often require connections to operational databases, such as MySQL or Postgres, or to data warehouses, such as Snowflake. These connections, using JDBC or other protocols, can be securely stored on the Fabric for convenient reuse."),(0,r.yg)("h3",{id:"metadata-connection"},"Metadata Connection"),(0,r.yg)("p",null,"Optionally, you can enhance your Fabric by creating a ",(0,r.yg)("strong",{parentName:"p"},"Metadata Connection"),". This is especially useful for users managing hundreds or thousands of tables in their data providers. For more details, see the ",(0,r.yg)("a",{parentName:"p",href:"/concepts/fabrics/metadata-connections"},"Metadata Connections documentation"),"."),(0,r.yg)("h3",{id:"credentials-and-secrets"},"Credentials and Secrets"),(0,r.yg)("p",null,"Prophecy enables you to securely store credentials in the Databricks environment. When connecting to Databricks, you can either use a Personal Access Token (PAT) or leverage ",(0,r.yg)("a",{parentName:"p",href:"/administration/authentication/databricks_oauth"},"Databricks OAuth"),"."),(0,r.yg)("p",null,"Key-value pairs can be stored as secrets, which are accessible to running workflows. After a secret is created, it can only be read by running jobs, and Prophecy does not have access to its value."),(0,r.yg)("h2",{id:"hands-on"},"Hands on"),(0,r.yg)("p",null,"Get started with hands-on guides. Learn step by step how to connect to your execution engine by creating a Fabric:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},"Create a SQL Fabric with a JDBC or Unity Catalog connection following ",(0,r.yg)("a",{parentName:"li",href:"/getting-started/sql-with-databricks#23-setup-prophecys-Fabric"},"this guide"),"."),(0,r.yg)("li",{parentName:"ol"},"Create a Databricks Fabric following ",(0,r.yg)("a",{parentName:"li",href:"/Spark/fabrics/databricks/"},"these steps"),"."),(0,r.yg)("li",{parentName:"ol"},"Create an EMR Fabric with Livy step by step ",(0,r.yg)("a",{parentName:"li",href:"/Spark/fabrics/emr"},"here"),".")),(0,r.yg)("h2",{id:"whats-next"},"What's next"),(0,r.yg)("p",null,"To learn more about Fabrics and the Prophecy Libraries, see the following page:"),(0,r.yg)(i.A,{items:(0,o.$S)().items,mdxType:"DocCardList"}))}y.isMDXComponent=!0},83126:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/fabric-08a5212a18630caa795ecdada7e5aeef.png"}}]);