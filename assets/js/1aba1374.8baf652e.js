"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[3327],{15680:(e,t,a)=>{a.d(t,{xA:()=>p,yg:()=>m});var n=a(96540);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var i=n.createContext({}),d=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(i.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},y=n.forwardRef((function(e,t){var a=e.components,s=e.mdxType,r=e.originalType,i=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=d(a),y=s,m=c["".concat(i,".").concat(y)]||c[y]||u[y]||r;return a?n.createElement(m,o(o({ref:t},p),{},{components:a})):n.createElement(m,o({ref:t},p))}));function m(e,t){var a=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var r=a.length,o=new Array(r);o[0]=y;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[c]="string"==typeof e?e:s,o[1]=l;for(var d=2;d<r;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}y.displayName="MDXCreateElement"},78827:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var n=a(58168),s=(a(96540),a(15680));const r={title:"Data tests",id:"data-tests",description:"Data tests check the validity of your SQL",sidebar_position:8,tags:["concept","testing","sql"]},o=void 0,l={unversionedId:"low-code-sql/data-tests/data-tests",id:"low-code-sql/data-tests/data-tests",title:"Data tests",description:"Data tests check the validity of your SQL",source:"@site/docs/low-code-sql/data-tests/data-tests.md",sourceDirName:"low-code-sql/data-tests",slug:"/low-code-sql/data-tests/",permalink:"/low-code-sql/data-tests/",draft:!1,tags:[{label:"concept",permalink:"/tags/concept"},{label:"testing",permalink:"/tags/testing"},{label:"sql",permalink:"/tags/sql"}],version:"current",sidebarPosition:8,frontMatter:{title:"Data tests",id:"data-tests",description:"Data tests check the validity of your SQL",sidebar_position:8,tags:["concept","testing","sql"]},sidebar:"defaultSidebar",previous:{title:"Upload SQL files",permalink:"/low-code-sql/development/upload-sql-files"},next:{title:"Use project tests",permalink:"/low-code-sql/data-tests/use-project-tests"}},i={},d=[{value:"What you&#39;ll need to know",id:"what-youll-need-to-know",level:2},{value:"Supported database objects",id:"supported-database-objects",level:3},{value:"Supported test types",id:"supported-test-types",level:3},{value:"What&#39;s next",id:"whats-next",level:2}],p={toc:d},c="wrapper";function u(e){let{components:t,...r}=e;return(0,s.yg)(c,(0,n.A)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,s.yg)("p",null,"You can use data tests to ensure that your business data is generated reliably over time. As a data engineer, data analyst, or business user, you can run data tests so that you don\u2019t have to manually check every Dataset every time you run a Job or model. The data test checks the validity of the SQL in your project."),(0,s.yg)("p",null,"A data test is an assertion you make about a Dataset in your project. The Dataset can be the output from a series of transformations, or the Dataset can be a particular data source, seed, or model."),(0,s.yg)("p",null,"For example, the following test named ",(0,s.yg)("inlineCode",{parentName:"p"},"ref_int_orders_customers")," checks the validity of the SQL in the ",(0,s.yg)("inlineCode",{parentName:"p"},"HelloWorld_SQL")," Project. In particular, the referential integrity check for orders and customers asserts that every ",(0,s.yg)("inlineCode",{parentName:"p"},"customer_id")," entry in the ",(0,s.yg)("inlineCode",{parentName:"p"},"orders")," table is present in the ",(0,s.yg)("inlineCode",{parentName:"p"},"customers")," table."),(0,s.yg)("p",null,(0,s.yg)("img",{alt:"Project test canvas",src:a(22284).A,width:"2620",height:"1492"})),(0,s.yg)("p",null,"This test starts with several models from the ",(0,s.yg)("inlineCode",{parentName:"p"},"HelloWorld_SQL")," Project, combines their data with a series of transformation steps, and feeds the resulting table into the Data Test Gem."),(0,s.yg)("p",null,"If there are ",(0,s.yg)("inlineCode",{parentName:"p"},"customer_id")," entries in the ",(0,s.yg)("inlineCode",{parentName:"p"},"orders")," table that are not present in the ",(0,s.yg)("inlineCode",{parentName:"p"},"customers")," table, then the ",(0,s.yg)("inlineCode",{parentName:"p"},"ref_int_orders_customers")," test fails."),(0,s.yg)("p",null,"You can test any series of transformations with a Data Test Gem. The following sections include more details about data tests."),(0,s.yg)("h2",{id:"what-youll-need-to-know"},"What you'll need to know"),(0,s.yg)("p",null,"Data tests use ",(0,s.yg)("a",{parentName:"p",href:"https://docs.getdbt.com/docs/build/data-tests"},"dbt")," for the underlying test execution, but you don\u2019t need to know dbt or how to write your own tests. Prophecy simplifies the test definitions that are normally defined in ",(0,s.yg)("inlineCode",{parentName:"p"},".sql")," and ",(0,s.yg)("inlineCode",{parentName:"p"},".yaml")," files."),(0,s.yg)("p",null,"You can create data tests in Prophecy using the visual canvas."),(0,s.yg)("h3",{id:"supported-database-objects"},"Supported database objects"),(0,s.yg)("p",null,"Supported database objects include:"),(0,s.yg)("ul",null,(0,s.yg)("li",{parentName:"ul"},"Models"),(0,s.yg)("li",{parentName:"ul"},"Snapshots"),(0,s.yg)("li",{parentName:"ul"},"Seeds"),(0,s.yg)("li",{parentName:"ul"},"Sources")),(0,s.yg)("admonition",{type:"note"},(0,s.yg)("p",{parentName:"admonition"},"Data tests can accept input data from any table, no matter if the table is defined by a model, snapshot, seed, or source.")),(0,s.yg)("h3",{id:"supported-test-types"},"Supported test types"),(0,s.yg)("p",null,"Supported test types include:"),(0,s.yg)("ul",null,(0,s.yg)("li",{parentName:"ul"},"Project tests")),(0,s.yg)("h2",{id:"whats-next"},"What's next"),(0,s.yg)("p",null,"To set up a project test, see ",(0,s.yg)("a",{parentName:"p",href:"/low-code-sql/data-tests/use-project-tests"},"Use project tests"),"."))}u.isMDXComponent=!0},22284:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/project-test-canvas-d783db03c64a98c80b6b42ecccf6dd23.png"}}]);