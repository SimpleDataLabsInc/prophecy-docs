"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[83794],{15680:(e,t,a)=>{a.d(t,{xA:()=>c,yg:()=>g});var o=a(96540);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,o,n=function(e,t){if(null==e)return{};var a,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)a=i[o],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=o.createContext({}),s=function(e){var t=o.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},c=function(e){var t=s(e.components);return o.createElement(l.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},y=o.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),d=s(a),y=n,g=d["".concat(l,".").concat(y)]||d[y]||m[y]||i;return a?o.createElement(g,r(r({ref:t},c),{},{components:a})):o.createElement(g,r({ref:t},c))}));function g(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,r=new Array(i);r[0]=y;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p[d]="string"==typeof e?e:n,r[1]=p;for(var s=2;s<i;s++)r[s]=a[s];return o.createElement.apply(null,r)}return o.createElement.apply(null,a)}y.displayName="MDXCreateElement"},4458:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>i,metadata:()=>p,toc:()=>s});var o=a(58168),n=(a(96540),a(15680));const i={title:"Enable Data Copilot",id:"enable-data-copilot",description:"How to enable Prophecy Data Copilot for private VPC SaaS environments.",sidebar_position:10,tags:["concepts","copilot","installation","upgrade"]},r=void 0,p={unversionedId:"concepts/copilot/enable-data-copilot",id:"concepts/copilot/enable-data-copilot",title:"Enable Data Copilot",description:"How to enable Prophecy Data Copilot for private VPC SaaS environments.",source:"@site/docs/concepts/copilot/enable-data-copilot.md",sourceDirName:"concepts/copilot",slug:"/concepts/copilot/enable-data-copilot",permalink:"/concepts/copilot/enable-data-copilot",draft:!1,tags:[{label:"concepts",permalink:"/tags/concepts"},{label:"copilot",permalink:"/tags/copilot"},{label:"installation",permalink:"/tags/installation"},{label:"upgrade",permalink:"/tags/upgrade"}],version:"current",sidebarPosition:10,frontMatter:{title:"Enable Data Copilot",id:"enable-data-copilot",description:"How to enable Prophecy Data Copilot for private VPC SaaS environments.",sidebar_position:10,tags:["concepts","copilot","installation","upgrade"]},sidebar:"defaultSidebar",previous:{title:"Data Copilot AI capabilities",permalink:"/concepts/copilot/copilot-ai-capabilities"},next:{title:"Data privacy with Data Copilot",permalink:"/concepts/copilot/copilot-data-privacy"}},l={},s=[{value:"Installation",id:"installation",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Additional installation options",id:"additional-installation-options",level:2},{value:"How to enable Data Copilot on my Private SaaS or On-Premise installation of Prophecy",id:"how-to-enable-data-copilot-on-my-private-saas-or-on-premise-installation-of-prophecy",level:3},{value:"How to disable Data Copilot for my users",id:"how-to-disable-data-copilot-for-my-users",level:3}],c={toc:s},d="wrapper";function m(e){let{components:t,...i}=e;return(0,n.yg)(d,(0,o.A)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Prophecy Data Copilot")," is an AI-powered assistant that delivers intelligent suggestions and automates repetitive tasks for visual data transformations. You can read more about it at ",(0,n.yg)("a",{parentName:"p",href:"/concepts/copilot"},"Data Copilot"),"."),(0,n.yg)("p",null,"Data Copilot leverages OpenAI's generative AI models to understand user intent, and enriched by the organizations' ",(0,n.yg)("a",{parentName:"p",href:"/concepts/copilot#knowledge-graph"},"knowledge graph"),", to automate repetitive data engineering tasks. By default, Data Copilot leverages ",(0,n.yg)("strong",{parentName:"p"},"Prophecy's managed OpenAI subscription and is entirely free")," for existing Prophecy customers. Prophecy uses user queries and metadata when communicating with OpenAI. Prophecy never sends any customer data to OpenAI."),(0,n.yg)("p",null,"However, for the most security conscious organizations, it is possible to configure Prophecy to use your own OpenAI endpoint. This page describes how to enable Prophecy Data Copilot for private VPC SaaS environments and configure it to use your own OpenAI or Azure OpenAI endpoint."),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Prophecy also supports running Data Copilot from a locally hosted private model. Additionally, you can configure Prophecy Data Copilot to use custom LLM endpoints provided by AWS Bedrock, Google Vertex AI, and Databricks Model Serving.")),(0,n.yg)("h2",{id:"installation"},"Installation"),(0,n.yg)("p",null,"From the Kubernetes cluster where Prophecy services are running:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"Check that the ",(0,n.yg)("inlineCode",{parentName:"p"},"prophecy-operator"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"edweb"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"metagraph"),", and other Prophecy services are running version ",(0,n.yg)("inlineCode",{parentName:"p"},"3.3.8.0")," or greater."),(0,n.yg)("ol",{parentName:"li"},(0,n.yg)("li",{parentName:"ol"},"The above services should all be running the same release-version as the ",(0,n.yg)("inlineCode",{parentName:"li"},"copilot")," service defined in the image below, for example ",(0,n.yg)("inlineCode",{parentName:"li"},"3.3.8.0"),"."))),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"Check that the ",(0,n.yg)("inlineCode",{parentName:"p"},"athena")," Prophecy service is running version ",(0,n.yg)("inlineCode",{parentName:"p"},"3.3.8.0")," or greater. This is only required if using the Pipeline approach to the upgrade.")),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"In the ",(0,n.yg)("inlineCode",{parentName:"p"},"ProphecyCluster")," CR, do the following:"),(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"add ",(0,n.yg)("inlineCode",{parentName:"li"},"copilot")," to ",(0,n.yg)("inlineCode",{parentName:"li"},"enabledapps")),(0,n.yg)("li",{parentName:"ul"},"add ",(0,n.yg)("inlineCode",{parentName:"li"},"image")," section as below, providing the version"),(0,n.yg)("li",{parentName:"ul"},"add the ",(0,n.yg)("inlineCode",{parentName:"li"},"copilot")," section as below in the same level as other enabled apps")),(0,n.yg)("pre",{parentName:"li"},(0,n.yg)("code",{parentName:"pre"},"copilot:\n    image:  gcr.io/prophecy-share/copilot:<release-version>\n"))),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"Once deployed, wait for the ",(0,n.yg)("inlineCode",{parentName:"p"},"copilot-cm")," to be created. Then edit the default values in the configmap to match the ENVs required.")),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"Supply the API keys for the appropriate endpoint and ENV as below. Prophecy Copilot requires two types of models:"),(0,n.yg)("ol",{parentName:"li"},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Smart LLM for complex tasks")),(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"Recommended Model: ",(0,n.yg)("inlineCode",{parentName:"li"},"gpt-4o")),(0,n.yg)("li",{parentName:"ul"},"Supported Models: Any model from the gpt-4 family"))),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Fast LLM for easy and fast tasks")),(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"Recommended Model: ",(0,n.yg)("inlineCode",{parentName:"li"},"gpt-4o-mini")),(0,n.yg)("li",{parentName:"ul"},"Examples: ",(0,n.yg)("inlineCode",{parentName:"li"},"gpt-4o-mini"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"gpt-3.5-turbo"))))),(0,n.yg)("p",{parentName:"li"},"These models ensure optimal performance and efficiency for various tasks within Prophecy Copilot."),(0,n.yg)("p",{parentName:"li"},"OpenAI"),(0,n.yg)("pre",{parentName:"li"},(0,n.yg)("code",{parentName:"pre"},"AI_MODEL_PROVIDERS_CREDS: \"{ 'openai' : {'api_key': '___openai_api_key___'} }\"\nAVAILABLE_AI_MODELS: \"{ 'fast_model': {'provider': 'openai', 'model_name': 'gpt-4o-mini' }, 'smart_model': {'provider': 'openai', 'model_name': 'gpt-4o'} }\"\nNUM_WORKERS: \"< add value here >\"\nPORT: \"< add value here >\"\n")),(0,n.yg)("p",{parentName:"li"},"Azure's OpenAI"),(0,n.yg)("pre",{parentName:"li"},(0,n.yg)("code",{parentName:"pre"},"AI_MODEL_PROVIDERS_CREDS: \"{ 'azure_openai' : {'api_key': '___azure_openai_api_key___', 'api_endpoint': 'https://name.openai.azure.com/'} }\"\nAVAILABLE_AI_MODELS: \"{ 'fast_model': {'provider': 'azure_openai', 'model_name': 'gpt-4o-mini', 'deployment_name': '___azure_openai_4omini_deployment_name___' }, 'smart_model': {'provider': 'azure_openai', 'model_name': 'gpt-4o', 'deployment_name': '___azure_openai_4o_deployment_name___'} }\"\nNUM_WORKERS: \"< add value here >\"\nPORT: \"< add value here >\"\n"))),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"Enable the following variable on the common CP config map:"),(0,n.yg)("p",{parentName:"li"},(0,n.yg)("inlineCode",{parentName:"p"},'COPILOT_ENABLED: "true"'))),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"If the app pod, especially ",(0,n.yg)("inlineCode",{parentName:"p"},"copilot"),", doesn't redeploy itself, restart the app pod."))),(0,n.yg)("h2",{id:"architecture"},"Architecture"),(0,n.yg)("p",null,(0,n.yg)("img",{alt:"Prophecy Data Copilot &amp; OpenAI Flow Architecture",src:a(46957).A,width:"3840",height:"1816"})),(0,n.yg)("h2",{id:"additional-installation-options"},"Additional installation options"),(0,n.yg)("h3",{id:"how-to-enable-data-copilot-on-my-private-saas-or-on-premise-installation-of-prophecy"},"How to enable Data Copilot on my Private SaaS or On-Premise installation of Prophecy"),(0,n.yg)("p",null,"Data Copilot is enabled or disabled at deployment time. If you run Prophecy within your ",(0,n.yg)("a",{parentName:"p",href:"/architecture/deployment/#private-saas-customer-vpc"},"own VPC"),", set the flag in the deployment or upgrade configuration. To learn more about how to connect Prophecy Data Copilot to private OpenAI endpoints, speak to your Prophecy account owner."),(0,n.yg)("h3",{id:"how-to-disable-data-copilot-for-my-users"},"How to disable Data Copilot for my users"),(0,n.yg)("p",null,"You have the option to disable Data Copilot if you run Prophecy within your ",(0,n.yg)("a",{parentName:"p",href:"/architecture/deployment/#private-saas-customer-vpc"},"own VPC"),". You may choose to enable or disable Data Copilot across your Prophecy Platform at deployment time."))}m.isMDXComponent=!0},46957:(e,t,a)=>{a.d(t,{A:()=>o});const o=a.p+"assets/images/data_copilot_open_ai_flow_architecture-4c702bd41d9fa2a37c3c60a05acbb5b6.png"}}]);