"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[34793],{15680:(e,t,a)=>{a.d(t,{xA:()=>p,yg:()=>h});var r=a(96540);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),c=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},g="mdxType",y={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),g=c(a),u=n,h=g["".concat(s,".").concat(u)]||g[u]||y[u]||o;return a?r.createElement(h,i(i({ref:t},p),{},{components:a})):r.createElement(h,i({ref:t},p))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[g]="string"==typeof e?e:n,i[1]=l;for(var c=2;c<o;c++)i[c]=a[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},70149:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>y,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var r=a(58168),n=(a(96540),a(15680));const o={title:"Git",id:"Git",description:"Understand how Prophecy uses Git for version control",sidebar_position:1,tags:["metadata","Git"]},i=void 0,l={unversionedId:"concepts/git/Git",id:"concepts/git/Git",title:"Git",description:"Understand how Prophecy uses Git for version control",source:"@site/docs/concepts/git/git.md",sourceDirName:"concepts/git",slug:"/concepts/git/",permalink:"/concepts/git/",draft:!1,tags:[{label:"metadata",permalink:"/tags/metadata"},{label:"Git",permalink:"/tags/git"}],version:"current",sidebarPosition:1,frontMatter:{title:"Git",id:"Git",description:"Understand how Prophecy uses Git for version control",sidebar_position:1,tags:["metadata","Git"]},sidebar:"mySidebar",previous:{title:"Concepts",permalink:"/concepts/"},next:{title:"Merge conflicts",permalink:"/concepts/git/git-resolve"}},s={},c=[{value:"Projects and Git repositories",id:"projects-and-git-repositories",level:2},{value:"Add Git credentials to Prophecy",id:"Git-credentials",level:2},{value:"GitHub Oath",id:"github-oath",level:3},{value:"Git workflow",id:"git-workflow",level:2},{value:"Checkout",id:"checkout",level:3},{value:"Commit",id:"commit",level:3},{value:"Pull",id:"pull",level:3},{value:"Merge",id:"merge",level:3},{value:"Release and Deploy",id:"release-and-deploy",level:3},{value:"Fork per User",id:"fork-per-user",level:2},{value:"What&#39;s next",id:"whats-next",level:2}],p={toc:c},g="wrapper";function y(e){let{components:t,...o}=e;return(0,n.yg)(g,(0,r.A)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("p",null,"Prophecy utilizes ",(0,n.yg)("a",{parentName:"p",href:"https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control"},"Git")," to align with DevOps practices. Git lets you:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Store your visual pipelines as code."),(0,n.yg)("li",{parentName:"ul"},"Track your project metadata, including workflows, schedules, datasets, and computed metadata."),(0,n.yg)("li",{parentName:"ul"},"Collaborate on your projects and perform code reviews."),(0,n.yg)("li",{parentName:"ul"},"Track changes across time.")),(0,n.yg)("h2",{id:"projects-and-git-repositories"},"Projects and Git repositories"),(0,n.yg)("p",null,"When you create a project in Prophecy, you must choose an empty Git repository or a path in a repository to host the underlying project code. This way, Prophecy can keep track of any changes to the project (including pipelines, models, datasets, and jobs) in a systematic way."),(0,n.yg)("p",null,"If you're unfamiliar with Git, or you don't need to connect to an external Git repository, you can connect your projects to ",(0,n.yg)("strong",{parentName:"p"},"Prophecy-managed")," repositories. To leverage the full functionality of Git, however, you need to connect your projects to external Git repositories. To do so, you need to add external Git credentials to Prophecy."),(0,n.yg)("h2",{id:"Git-credentials"},"Add Git credentials to Prophecy"),(0,n.yg)("p",null,"When you create a project in Prophecy, You can either choose a Prophecy-managed repository or connect an external repository."),(0,n.yg)("p",null,"To add an external Git account to your Prophecy environment:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},"Open ",(0,n.yg)("strong",{parentName:"li"},"Settings")," from the ellipses menu in the left sidebar."),(0,n.yg)("li",{parentName:"ol"},"Select the ",(0,n.yg)("strong",{parentName:"li"},"Git")," tab. You will see any existing Git credentials here."),(0,n.yg)("li",{parentName:"ol"},"Click ",(0,n.yg)("strong",{parentName:"li"},"Add new"),"."),(0,n.yg)("li",{parentName:"ol"},"Choose the relevant ",(0,n.yg)("strong",{parentName:"li"},"Git Provider")," and provide the following details:",(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"An alias for your Git credentials."),(0,n.yg)("li",{parentName:"ul"},"Your Git email."),(0,n.yg)("li",{parentName:"ul"},"Your Git username."),(0,n.yg)("li",{parentName:"ul"},"Your Git personal access token (PAT). You should be able to find instructions on accessing your personal access token in each external provider's documentation."))),(0,n.yg)("li",{parentName:"ol"},"Click ",(0,n.yg)("strong",{parentName:"li"},"Connect")," to save the credentials.")),(0,n.yg)("p",null,"You can also enter new Git credentials directly when creating a new project."),(0,n.yg)("h3",{id:"github-oath"},"GitHub Oath"),(0,n.yg)("p",null,"If you choose GitHub as your external Git provider, you can add your Git credentials using GitHub Oauth."),(0,n.yg)("p",null,"To use GitHub Oauth, a GitHub admin will need to ",(0,n.yg)("a",{parentName:"p",href:"https://docs.github.com/en/apps/oauth-apps/using-oauth-apps/authorizing-oauth-apps"},"authorize Prophecy")," to access the APIs required to access your organization's repositories. Follow the ",(0,n.yg)("a",{parentName:"p",href:"https://docs.github.com/en/organizations/managing-oauth-access-to-your-organizations-data/approving-oauth-apps-for-your-organization"},"approval steps")," to set this up."),(0,n.yg)("h2",{id:"git-workflow"},"Git workflow"),(0,n.yg)("p",null,"You can interact with a project's Git workflow from the project metadata page or within the project editor."),(0,n.yg)("p",null,(0,n.yg)("img",{alt:"Git workflow",src:a(80445).A,width:"2812",height:"900"})),(0,n.yg)("h3",{id:"checkout"},"Checkout"),(0,n.yg)("p",null,"In Prophecy, you cannot make edits directly on the ",(0,n.yg)("inlineCode",{parentName:"p"},"main")," branch of your project. Instead, you have to make changes on a development branch and merge those changes into the main branch."),(0,n.yg)("p",null,"Therefore, the Git workflow begins by creating and checking out a new branch."),(0,n.yg)("p",null,(0,n.yg)("img",{alt:"Git checkout",src:a(85230).A,width:"2620",height:"1508"})),(0,n.yg)("p",null,"When you are selecting a branch to checkout, you might be able to select branches that have been created remotely. Once you checkout a remote branch, it will be cloned locally, and it will no longer show up in the list of remote branches."),(0,n.yg)("h3",{id:"commit"},"Commit"),(0,n.yg)("p",null,"When you make changes to your pipeline, you need to commit these changes to save them. You can view these changes either visually, or using the ",(0,n.yg)("strong",{parentName:"p"},"Code changes")," view."),(0,n.yg)("p",null,(0,n.yg)("img",{alt:"View Git changes",src:a(49925).A,width:"2812",height:"900"})),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},(0,n.yg)("strong",{parentName:"th"},"Feature")),(0,n.yg)("th",{parentName:"tr",align:null},(0,n.yg)("strong",{parentName:"th"},"View")),(0,n.yg)("th",{parentName:"tr",align:null},(0,n.yg)("strong",{parentName:"th"},"Description")))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Branch history"),(0,n.yg)("td",{parentName:"tr",align:null},"Visual"),(0,n.yg)("td",{parentName:"tr",align:null},"Shows previous commits on the branch.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Entities changed"),(0,n.yg)("td",{parentName:"tr",align:null},"Visual"),(0,n.yg)("td",{parentName:"tr",align:null},"Explains which entities were modified.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Code changes toggle"),(0,n.yg)("td",{parentName:"tr",align:null},"Code"),(0,n.yg)("td",{parentName:"tr",align:null},"Allows you to view the code differences, with highlighted lines for additions and deletions.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Code changes tab"),(0,n.yg)("td",{parentName:"tr",align:null},"Code"),(0,n.yg)("td",{parentName:"tr",align:null},"Displays all of the files with changes.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Metadata changes tab"),(0,n.yg)("td",{parentName:"tr",align:null},"Code"),(0,n.yg)("td",{parentName:"tr",align:null},"Displays all of the Prophecy metadata files with changes.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Reset"),(0,n.yg)("td",{parentName:"tr",align:null},"Both"),(0,n.yg)("td",{parentName:"tr",align:null},"Reverts the changes.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Commit Message"),(0,n.yg)("td",{parentName:"tr",align:null},"Both"),(0,n.yg)("td",{parentName:"tr",align:null},"Explains the changes that will be saved in this commit.")))),(0,n.yg)("h3",{id:"pull"},"Pull"),(0,n.yg)("p",null,"Sometimes, you will be able to go straight from committing your changes to merging your changes. However, there are a few steps you might need to complete before merging your changes:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},"Pull ",(0,n.yg)("strong",{parentName:"li"},"remote")," changes into the ",(0,n.yg)("strong",{parentName:"li"},"local")," current branch."),(0,n.yg)("li",{parentName:"ol"},"Pull ",(0,n.yg)("strong",{parentName:"li"},"remote")," changes into the ",(0,n.yg)("strong",{parentName:"li"},"local")," base branch. Note that the base branch will be ",(0,n.yg)("inlineCode",{parentName:"li"},"main")," by default."),(0,n.yg)("li",{parentName:"ol"},"Pull changes from the ",(0,n.yg)("strong",{parentName:"li"},"local")," base branch into the ",(0,n.yg)("strong",{parentName:"li"},"local")," current branch. You will not be able to complete this step before pulling remote commits.")),(0,n.yg)("p",null,(0,n.yg)("img",{alt:"Git pull",src:a(26527).A,width:"2620",height:"1508"})),(0,n.yg)("p",null,"Once you complete these steps, you might run into merge conflicts. If that happens, you can ",(0,n.yg)("a",{parentName:"p",href:"git-resolve"},"use the Prophecy interface")," to resolve them."),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Before you pull remote changes into local branches, you will have to commit (or discard) your local changes.")),(0,n.yg)("h3",{id:"merge"},"Merge"),(0,n.yg)("p",null,"Once you have committed your changes, you have the ability to ",(0,n.yg)("strong",{parentName:"p"},"merge")," them to a different branch. If you merged your branch in your external repository, you can tell Prophecy that you did so."),(0,n.yg)("p",null,(0,n.yg)("img",{alt:"Merge branch",src:a(72422).A,width:"2620",height:"1511"})),(0,n.yg)("h3",{id:"release-and-deploy"},"Release and Deploy"),(0,n.yg)("p",null,"Once the changes are merged, you can ",(0,n.yg)("a",{parentName:"p",href:"/ci-cd/deployment/"},"release")," a branch from the Prophecy user interface."),(0,n.yg)("h2",{id:"fork-per-user"},"Fork per User"),(0,n.yg)("p",null,"When you create a project, you have the option to choose a single repository shared among users, or to ",(0,n.yg)("strong",{parentName:"p"},"Fork per User"),". When you Fork per User, every user gets their own ",(0,n.yg)("a",{parentName:"p",href:"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo"},"fork")," of the repository."),(0,n.yg)("p",null,"When you fork a repository, you must already have both the upstream repository and a Fork per User repository present."),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("ol",{parentName:"admonition"},(0,n.yg)("li",{parentName:"ol"},"Changes made in forked repository do not affect the upstream repository."),(0,n.yg)("li",{parentName:"ol"},"Please follow the normal Git flow for raising pull requests to the original repository from the forked repository."))),(0,n.yg)("h2",{id:"whats-next"},"What's next"),(0,n.yg)("p",null,"Learn more about how to integrate Git in your project lifecycle in ",(0,n.yg)("a",{parentName:"p",href:"/ci-cd/deployment/"},"Develop and deploy a project"),"."))}y.isMDXComponent=!0},85230:(e,t,a)=>{a.d(t,{A:()=>r});const r=a.p+"assets/images/git-checkout-3e3bfaea47938563c20c3f4aff781bd2.png"},49925:(e,t,a)=>{a.d(t,{A:()=>r});const r=a.p+"assets/images/git-code-changes-28157bfd1f17017c36a36f285eea829e.png"},26527:(e,t,a)=>{a.d(t,{A:()=>r});const r=a.p+"assets/images/git-pull-8c2ebd935b424a2ffe0705d0b1cc66c2.png"},80445:(e,t,a)=>{a.d(t,{A:()=>r});const r=a.p+"assets/images/git-workflow-4a5e9344f38fff8be6f9ad4f7886f680.png"},72422:(e,t,a)=>{a.d(t,{A:()=>r});const r=a.p+"assets/images/merge-branch-274d2a209d2738a9f5c93371f05f8218.png"}}]);