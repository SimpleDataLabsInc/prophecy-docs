"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[94598],{22316:(e,r,s)=>{s.d(r,{A:()=>t});const t=s.p+"assets/images/synth_0_datasample-7848d4eecabe3ea3b12e476431b34d71.png"},28453:(e,r,s)=>{s.d(r,{R:()=>i,x:()=>d});var t=s(96540);const n={},a=t.createContext(n);function i(e){const r=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(a.Provider,{value:r},e.children)}},30851:(e,r,s)=>{s.d(r,{A:()=>t});const t=s.p+"assets/images/synth_5_connect_target-2ac884bc5fe3848c5b19f2c640d0e81a.png"},35780:(e,r,s)=>{s.d(r,{A:()=>t});const t=s.p+"assets/images/synth_4_new_target-9a024f9eba4fe04462b66e94fc4abd12.png"},46230:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>d,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"Spark/gems/source-target/file/data-generator","title":"Data Generator","description":"Learn how to create synthetic data","source":"@site/docs/Spark/gems/source-target/file/synthetic-data-generator.md","sourceDirName":"Spark/gems/source-target/file","slug":"/engineers/data-generator","permalink":"/engineers/data-generator","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"synthetic","permalink":"/tags/synthetic"},{"inline":true,"label":"random","permalink":"/tags/random"},{"inline":true,"label":"fake","permalink":"/tags/fake"},{"inline":true,"label":"data","permalink":"/tags/data"},{"inline":true,"label":"generator","permalink":"/tags/generator"}],"version":"current","frontMatter":{"title":"Data Generator","id":"data-generator","slug":"/engineers/data-generator","description":"Learn how to create synthetic data","tags":["synthetic","random","fake","data","generator"]},"sidebar":"platformSidebar","previous":{"title":"CSV","permalink":"/engineers/csv"},"next":{"title":"Delta","permalink":"/engineers/delta"}}');var n=s(74848),a=s(28453),i=s(97071);const d={title:"Data Generator",id:"data-generator",slug:"/engineers/data-generator",description:"Learn how to create synthetic data",tags:["synthetic","random","fake","data","generator"]},c=void 0,o={},l=[{value:"Cluster requirements",id:"cluster-requirements",level:2},{value:"Prophecy requirements",id:"prophecy-requirements",level:2},{value:"Source properties",id:"source-properties",level:2},{value:"Providers",id:"providers",level:3},{value:"Store the data",id:"store-the-data",level:2}];function h(e){const r={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.A,{python_package_name:"ProphecySparkBasicsPython",python_package_version:"0.2.32+",scala_package_name:"",scala_package_version:"",scala_lib:"",python_lib:"",uc_single:"14.3+",uc_shared:"15.4+",livy:"Not Supported"}),"\n",(0,n.jsx)(r.p,{children:"Synthetic data helps you test, validate, and optimize your pipelines performance before you use production data. This ensures that your pipeline can handle various data formats, structures, and edge cases effectively, which minimizes potential issues in a live environment."}),"\n",(0,n.jsx)(r.p,{children:"You can create a wide range of mock data using any column name and an array of data types. For example, you can generate the following browser history data:"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"img",src:s(22316).A+"",width:"2880",height:"1726"})}),"\n",(0,n.jsx)(r.admonition,{type:"info",children:(0,n.jsxs)(r.p,{children:["The Data Generator gem can only be a ",(0,n.jsx)(r.strong,{children:"Source"})," gem. It cannot be a Target gem."]})}),"\n",(0,n.jsx)(r.h2,{id:"cluster-requirements",children:"Cluster requirements"}),"\n",(0,n.jsxs)(r.p,{children:["Create a fabric and configure the ",(0,n.jsx)(r.a,{href:"/administration/fabrics/Spark-fabrics/databricks/",children:"Job Size"}),", or login to an existing Spark cluster UI. To create a fabric and configure the job size in the Spark Cluster UI:"]}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"Login to your Databricks account."}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"Verify your Databricks Runtime uses Python version >= 3.8."}),"\n",(0,n.jsxs)(r.p,{children:["For example, ",(0,n.jsx)(r.a,{href:"https://docs.databricks.com/en/release-notes/runtime/12.2lts.html",children:"Databricks Runtime 12.2 LTS"})," uses Python 3.9.19. If you are using Databricks Runtime 12.2+, the Python version meets this requirement."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"prophecy-requirements",children:"Prophecy requirements"}),"\n",(0,n.jsxs)(r.p,{children:["Open a Prophecy project and upgrade the ",(0,n.jsx)(r.code,{children:"ProphecySparkBasicsPython"})," Dependency to ",(0,n.jsx)(r.code,{children:"0.2.32"})," or later."]}),"\n",(0,n.jsx)(r.admonition,{type:"note",children:(0,n.jsx)(r.p,{children:"Connecting a Prophecy project to a Spark cluster with a different dependency version prompts the Spark cluster to restart."})}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"img",src:s(46444).A+"",width:"2880",height:"912"})}),"\n",(0,n.jsxs)(r.admonition,{title:"Caution",type:"caution",children:[(0,n.jsxs)(r.p,{children:["If you use two Prophecy projects with the same Spark cluster, Spark restarts the cluster when each project attaches to the cluster, unless the ",(0,n.jsx)(r.code,{children:"ProphecySparkBasicsPython"})," and ",(0,n.jsx)(r.code,{children:"ProphecyLibsPython"})," versions match across both projects."]}),(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.em,{children:"Solution:"})," Upgrade all your Prophecy projects to the same ",(0,n.jsx)(r.code,{children:"ProphecySparkBasicsPython"})," and ",(0,n.jsx)(r.code,{children:"ProphecyLibsPython"})," versions, or use separate Spark clusters."]})]}),"\n",(0,n.jsx)(r.h2,{id:"source-properties",children:"Source properties"}),"\n",(0,n.jsx)(r.p,{children:"The Source gem requires the following properties."}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Property name"}),(0,n.jsx)(r.th,{children:"Description"}),(0,n.jsx)(r.th,{children:"Default"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Provider"}),(0,n.jsxs)(r.td,{children:["Type of random data to generate. For a list of the possible data providers, see ",(0,n.jsx)(r.a,{href:"#providers",children:"Providers"}),"."]}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Random Name"})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Column Name"}),(0,n.jsx)(r.td,{children:"Name for the output column."}),(0,n.jsx)(r.td,{children:"None"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Data Type"}),(0,n.jsx)(r.td,{children:"Data type of the output column."}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"String"})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Null Percentage (Optional)"}),(0,n.jsx)(r.td,{children:"Percent of values to populate as null in the generated column based on the row count."}),(0,n.jsx)(r.td,{children:"None"})]})]})]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"img",src:s(76796).A+"",width:"2620",height:"1507"})}),"\n",(0,n.jsx)(r.h3,{id:"providers",children:"Providers"}),"\n",(0,n.jsx)(r.p,{children:"Prophecy offers the following data providers."}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Data Provider"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Random Name"}),(0,n.jsxs)(r.td,{children:["Generates random names. Select ",(0,n.jsx)(r.code,{children:"Full Name"}),", ",(0,n.jsx)(r.code,{children:"First Name"}),", or ",(0,n.jsx)(r.code,{children:"Last Name"})," as the sub-types."]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Random Address"}),(0,n.jsx)(r.td,{children:"Generates random addresses."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Random Email"}),(0,n.jsx)(r.td,{children:"Generates random emails."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Random Phone Number"}),(0,n.jsxs)(r.td,{children:["Generates random phone numbers based on the pattern you specify or the default pattern. ",(0,n.jsx)("br",{}),"For example, you can specify the pattern for a phone number as (###) ###-####."]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Random String UUID"}),(0,n.jsx)(r.td,{children:"Generates random UUID values as a string."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Random Boolean Values"}),(0,n.jsx)(r.td,{children:"Generates random boolean values."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Random Integer Numbers"}),(0,n.jsxs)(r.td,{children:["Generates random integers within the range from the ",(0,n.jsx)(r.code,{children:"Start Value"})," to the",(0,n.jsx)(r.code,{children:"End Value"})," you specify."]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Random Elements From List"}),(0,n.jsx)(r.td,{children:"Generates random values from the list of values you specify."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Random Date"}),(0,n.jsx)(r.td,{children:"Generates random dates within the range you specify."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Random DateTime"}),(0,n.jsx)(r.td,{children:"Generates random datetime values within the range you specify."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Random Foreign Key Values"}),(0,n.jsxs)(r.td,{children:["Randomly picks values from the foreign key column you specify. ",(0,n.jsx)("br",{}),"Select another table to act as the reference table and provide the location (e.g. ",(0,n.jsx)(r.code,{children:"catalog"})," or ",(0,n.jsx)(r.code,{children:"database"}),"). ",(0,n.jsx)("br",{}),"Select any column from the reference table to designate as the ",(0,n.jsx)(r.code,{children:"Reference Column Name"}),"."]})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"store-the-data",children:"Store the data"}),"\n",(0,n.jsx)(r.p,{children:"By default, the Source gem does not save the newly generated data. To save the data, store the data in a Target gem:"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"Create a Target gem."}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"img",src:s(35780).A+"",width:"2880",height:"640"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"Connect your Source gem to your Target gem."}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"img",src:s(30851).A+"",width:"2880",height:"640"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["Configure the ",(0,n.jsx)(r.code,{children:"Write Mode"})," property for the Target gem."]}),"\n",(0,n.jsxs)(r.p,{children:["This is ",(0,n.jsx)(r.strong,{children:"very important"})," because there is a ",(0,n.jsx)(r.strong,{children:"new random seed"})," each time you run the Source gem."]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"img",src:s(75897).A+"",width:"2880",height:"794"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.admonition,{type:"info",children:(0,n.jsxs)(r.p,{children:["To see if Prophecy supports this gem in the Unity Catalog standard access mode clusters, see ",(0,n.jsx)(r.a,{href:"/administration/fabrics/Spark-fabrics/databricks/ucshared",children:"Unity Catalog standard cluster support"}),"."]})})]})}function p(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},46444:(e,r,s)=>{s.d(r,{A:()=>t});const t=s.p+"assets/images/synth_0_2_proph_reqiuirements-c45e20cbb84de985a86b3520055b9c1f.png"},75897:(e,r,s)=>{s.d(r,{A:()=>t});const t=s.p+"assets/images/synth_6_write_mode-d4b873c8829feb7aa978b249dcc2296b.png"},76796:(e,r,s)=>{s.d(r,{A:()=>t});const t=s.p+"assets/images/synth_3_properties-ea373dd8f815df6e612adabee3350329.png"},97071:(e,r,s)=>{s.d(r,{A:()=>n});s(96540);var t=s(74848);function n(e){return(0,t.jsxs)("div",{children:[e.python_package_name&&e.python_package_version&&(0,t.jsx)("a",{href:"https://docs.prophecy.io/engineers/package-hub/",children:(0,t.jsxs)("span",{className:"badge badge-dependency",children:[e.python_package_name," ",e.python_package_version]})}),e.scala_package_name&&e.scala_package_version&&(0,t.jsx)("a",{href:"https://docs.prophecy.io/engineers/package-hub",children:(0,t.jsxs)("span",{className:"badge badge-dependency",children:[e.scala_package_name," ",e.scala_package_version]})}),e.python_lib&&(0,t.jsx)("a",{href:"https://docs.prophecy.io/extensibility/dependencies/prophecy-libraries",children:(0,t.jsxs)("span",{className:"badge badge-dependency",children:["ProphecyLibsPython ",e.python_lib]})}),e.scala_lib&&(0,t.jsx)("a",{href:"https://docs.prophecy.io/extensibility/dependencies/prophecy-libraries",children:(0,t.jsxs)("span",{className:"badge badge-dependency",children:["ProphecyLibsScala ",e.scala_lib]})}),e.uc_single&&(0,t.jsx)("a",{href:"https://docs.prophecy.io/administration/fabrics/Spark-fabrics/databricks/ucshared",children:(0,t.jsxs)("span",{className:"badge badge-spark",children:["UC Dedicated Cluster ",e.uc_single]})}),e.uc_shared&&(0,t.jsx)("a",{href:"https://docs.prophecy.io/administration/fabrics/Spark-fabrics/databricks/ucshared",children:(0,t.jsxs)("span",{className:"badge badge-spark",children:["UC Standard Cluster ",e.uc_shared]})}),e.livy&&(0,t.jsx)("a",{href:"https://docs.prophecy.io/administration/fabrics/Spark-fabrics/livy",children:(0,t.jsxs)("span",{className:"badge badge-spark",children:["Livy ",e.livy]})}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{})]})}}}]);