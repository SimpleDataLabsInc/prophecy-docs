<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Spark/gems/source-target/warehouse/cosmos" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">CosmosDB | Prophecy</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.prophecy.io/engineers/cosmosdb"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="CosmosDB | Prophecy"><meta data-rh="true" name="description" content="Parameters and properties to read from and write to the CosmosDB warehouse"><meta data-rh="true" property="og:description" content="Parameters and properties to read from and write to the CosmosDB warehouse"><link data-rh="true" rel="icon" href="/img/favicon2.png"><link data-rh="true" rel="canonical" href="https://docs.prophecy.io/engineers/cosmosdb"><link data-rh="true" rel="alternate" href="https://docs.prophecy.io/engineers/cosmosdb" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.prophecy.io/engineers/cosmosdb" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Pipeline development","item":"https://docs.prophecy.io/engineers/pipeline-development"},{"@type":"ListItem","position":2,"name":"Gems","item":"https://docs.prophecy.io/engineers/gems"},{"@type":"ListItem","position":3,"name":"Source and Target","item":"https://docs.prophecy.io/engineers/source-target"},{"@type":"ListItem","position":4,"name":"CosmosDB","item":"https://docs.prophecy.io/engineers/cosmosdb"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="Prophecy" href="/opensearch.xml">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="/assets/css/styles.91a6e78f.css">
<script src="/assets/js/runtime~main.aa26f98e.js" defer="defer"></script>
<script src="/assets/js/main.6164cb32.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Prophecy Logo.png" alt="Prophecy Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/Prophecy Logo White.png" alt="Prophecy Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Docs</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/">Product docs</a></li><li><a class="dropdown__link" href="/api/">API docs</a></li></ul></div><a class="navbar__item navbar__link" href="/administration">Administration</a><a href="https://transpiler.docs.prophecy.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Migration guide</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/getting-help">Help</a><a href="http://app.prophecy.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Login</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="custom-search-container" style="display:flex;align-items:center;gap:10px;height:30px;min-width:0;flex-shrink:1"><div style="flex:1 1 auto;min-width:0"><div id="inkeep-shadowradix-:R5spah:" style="display:contents"></div><span></span></div><div style="flex:0 0 auto"><div id="inkeep-shadowradix-:R6spah:" style="display:contents"></div><span></span></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Prophecy</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/getting-started/">Getting started</a><button aria-label="Expand sidebar category &#x27;Getting started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/prophecy-ai">Prophecy AI</a><button aria-label="Expand sidebar category &#x27;Prophecy AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/release_notes/">Release notes</a><button aria-label="Expand sidebar category &#x27;Release notes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item sidebar-title">Analysts</li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/analysts/pipeline-development">Pipeline development</a><button aria-label="Expand sidebar category &#x27;Pipeline development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/analysts/versioning">Versioning</a><button aria-label="Expand sidebar category &#x27;Versioning&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/analysts/scheduling">Scheduling</a><button aria-label="Expand sidebar category &#x27;Scheduling&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/analysts/monitoring">Monitoring</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/analysts/extensibility">Extensibility</a><button aria-label="Expand sidebar category &#x27;Extensibility&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/analysts/business-applications">Prophecy Apps</a><button aria-label="Expand sidebar category &#x27;Prophecy Apps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item sidebar-title">Engineers</li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/engineers/pipeline-development">Pipeline development</a><button aria-label="Collapse sidebar category &#x27;Pipeline development&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/engineers/pipelines">Pipelines</a><button aria-label="Expand sidebar category &#x27;Pipelines&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/engineers/dataset">Datasets</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/engineers/gems">Gems</a><button aria-label="Collapse sidebar category &#x27;Gems&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/engineers/source-target">Source and Target</a><button aria-label="Collapse sidebar category &#x27;Source and Target&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/engineers/avro">File</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/engineers/delta-table">Catalog Table</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/engineers/bigquery">Warehouse</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/engineers/bigquery">BigQuery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/engineers/cosmosdb">CosmosDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/engineers/db2">DB2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/engineers/jdbc">JDBC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/engineers/mongodb">MongoDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/engineers/oracle">Oracle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/engineers/redshift">Redshift</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/engineers/snowflake">Snowflake</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/engineers/teradata">Teradata</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/engineers/salesforce">Web Application</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/engineers/lookup">Lookup</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/engineers/transform">Transform</a><button aria-label="Expand sidebar category &#x27;Transform&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/engineers/join-split">Join/Split</a><button aria-label="Expand sidebar category &#x27;Join/Split&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/engineers/subgraph">Subgraph</a><button aria-label="Expand sidebar category &#x27;Subgraph&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/engineers/machine-learning">Machine learning</a><button aria-label="Expand sidebar category &#x27;Machine learning&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/engineers/custom">Custom</a><button aria-label="Expand sidebar category &#x27;Custom&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/engineers/expression-builder">Expression builder</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/engineers/copilot">Copilot</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/engineers/execution">Execution</a><button aria-label="Expand sidebar category &#x27;Execution&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/engineers/data-explorer">Data exploration</a><button aria-label="Expand sidebar category &#x27;Data exploration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/engineers/business-rules">Functions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/engineers/spark-streaming">Spark streaming</a><button aria-label="Expand sidebar category &#x27;Spark streaming&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/engineers/project-best-practices">Best practices</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/engineers/models">Models</a><button aria-label="Expand sidebar category &#x27;Models&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/engineers/lineage">Lineage</a><button aria-label="Expand sidebar category &#x27;Lineage&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/engineers/ci-cd">CI/CD</a><button aria-label="Expand sidebar category &#x27;CI/CD&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/engineers/orchestration">Orchestration</a><button aria-label="Expand sidebar category &#x27;Orchestration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/engineers/extensibility">Extensibility</a><button aria-label="Expand sidebar category &#x27;Extensibility&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/engineers/pipeline-development"><span>Pipeline development</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/engineers/gems"><span>Gems</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/engineers/source-target"><span>Source and Target</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Warehouse</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">CosmosDB</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>CosmosDB</h1></header><div><a href="https://docs.prophecy.io/engineers/package-hub/"><span class="badge badge-dependency">ProphecyWarehousePython<!-- --> <!-- -->0.0.1+</span></a><a href="https://docs.prophecy.io/administration/fabrics/Spark-fabrics/databricks/ucshared"><span class="badge badge-spark">UC Dedicated Cluster <!-- -->Not Supported</span></a><a href="https://docs.prophecy.io/administration/fabrics/Spark-fabrics/databricks/ucshared"><span class="badge badge-spark">UC Standard Cluster <!-- -->Not Supported</span></a><a href="https://docs.prophecy.io/administration/fabrics/Spark-fabrics/livy"><span class="badge badge-spark">Livy <!-- -->Not Supported</span></a><br><br></div>
<p>The <code>azure-cosmos-spark</code> connector is an integration between Azure CosmosDB and Apache Spark, which allows you to read and write data from and to CosmosDB using Spark.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">​</a></h2>
<p>For Spark 3.3, <a href="/engineers/dependencies">connect a dependency</a> that has the following Maven coordinates on your Databricks or OnPrem Execution Cluster:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">com.azure.cosmos.spark</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">azure-cosmos-spark_3-3_2</span><span class="token number" style="color:#36acaa">-12</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">4.18</span><span class="token plain">.</span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre></div></div>
<p>For other versions of Spark, see <a href="https://github.com/Azure/azure-sdk-for-java/tree/main/sdk/cosmos/azure-cosmos-spark_3-3_2-12" target="_blank" rel="noopener noreferrer">Azure Cosmos DB OLTP Spark 3 connector</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h2>
<div style="position:relative;padding-bottom:56.25%;height:0"><iframe src="https://www.loom.com/embed/f5c150ff8a1b4c1fb1485c20e08fde50" frameborder="0" style="position:absolute;top:0;left:0;width:100%;height:100%"></iframe></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="parameters">Parameters<a href="#parameters" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h2>
<table><thead><tr><th>Parameter</th><th>Tab</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td>Authentication Type</td><td>Location</td><td>How you want to authenticate. <br>Possible values are: <code>Master Key</code>(PrimaryReadWriteKeys, SecondReadWriteKeys, PrimaryReadOnlyKeys, SecondReadWriteKeys), <code>Service Principle Based</code> <br> To see all the additional parameters for each authentication type, see <a href="#master-key-authentication">Master key authentication</a> and <a href="#service-principle-based-authentication">Service principle based authentication</a>.</td><td><code>Master Key</code></td></tr><tr><td>Data Source</td><td>Location</td><td>Whether the gem should load all data in the container, or return the data using a custom query.</td><td><code>DB Table</code></td></tr><tr><td>Azure Environment</td><td>Location</td><td>Azure environment of the CosmosDB account. <br>Possible values are: <code>Azure</code>, <code>AzureChina</code>, <code>AzureUsGovernment</code>, or <code>AzureGermany</code>.</td><td><code>Azure</code></td></tr><tr><td>Custom Query</td><td>Location</td><td>Custom query to process against the CosmosDB endpoint instead of dynamically generating the query through the predicate push down. <br>Usually it is recommended to rely on Spark&#x27;s predicate push down because that generates the most efficient set of filters based on the query plan. But in Spark 3.1, there were a couple of predicates such as aggregates that cannot be pushed down yet, so the custom query is a fallback that allows you to push them into the query sent to CosmosDB. If specified, with schema inference enabled, the custom query will also be used to infer the schema.</td><td><code>SELECT 1</code></td></tr><tr><td>Schema</td><td>Properties</td><td>Schema to apply on the loaded data.<br>In the Source gem, you can define or edit the schema visually or in JSON code.<br>In the Target gem, you can view the schema visually or as JSON code.</td><td></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="master-key-authentication">Master key authentication<a href="#master-key-authentication" class="hash-link" aria-label="Direct link to Master key authentication" title="Direct link to Master key authentication">​</a></h3>
<table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Account Endpoint</td><td>Account URI of your CosmosDB account.</td></tr><tr><td>Account Key</td><td>Account key of your CosmosDB account.</td></tr><tr><td>Database</td><td>Database name of your CosmosDB account.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-principle-based-authentication">Service principle based authentication<a href="#service-principle-based-authentication" class="hash-link" aria-label="Direct link to Service principle based authentication" title="Direct link to Service principle based authentication">​</a></h3>
<table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Subscription Id</td><td>Subscription Id of your CosmosDB account.</td></tr><tr><td>Tenant Id</td><td>Tenant Id of your CosmosDB account.</td></tr><tr><td>Resource Group Name</td><td>Resource group of your CosmosDB account.</td></tr><tr><td>Client Id</td><td>Client Id, or Application Id of your service principle.</td></tr><tr><td>Client Secret</td><td>Client secret, or password of your service principle.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="source">Source<a href="#source" class="hash-link" aria-label="Direct link to Source" title="Direct link to Source">​</a></h2>
<p>The Source gem reads data from CosmosDB and allows you to optionally specify the following additional properties.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="source-properties">Source properties<a href="#source-properties" class="hash-link" aria-label="Direct link to Source properties" title="Direct link to Source properties">​</a></h3>
<table><thead><tr><th>Properties</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td>Description</td><td>Description of your dataset.</td><td>None</td></tr><tr><td>Enable Infer Schema</td><td>Whether the Source gem should load all data in the container. If not, the Source gem returns the data using a custom query.</td><td>true</td></tr><tr><td>Application name</td><td>Name of your application.</td><td>None</td></tr><tr><td>Inclusion Mode</td><td>Determines whether to serialize or skip null and default values to JSON. <br>Possible values are: <br>- <code>Always</code>, which means the Source gem should create JSON properties for null and default values <br>- <code>NonNull</code>, which means the Source gem does not create JSON properties for null values <br>- <code>NonEmpty</code>, which means the Source gem does not create JSON properties for empty values</td><td><code>Always</code></td></tr><tr><td>DateTime Conversion Mode</td><td>How to convert your DateTime values. <br>Possible values are: <br>- <code>Default</code>, which means to convert <code>java.sql.Date/java.time.LocalDate</code> to <code>EpochDay</code>, and <code>java.sql.Timestamp/java.time.Instant</code> to <code>MicrosecondsFromEpoch</code>. <br>- <code>AlwaysEpochMilliseconds</code>, which means to convert <code>java.sql.Date</code>, <code>java.time.LocalDate</code>, and <code>java.sql.Timestamp and java.time.Instant</code> to <code>MillisecondsFromEpoch</code>. <br>- <code>AlwaysEpochMillisecondsWithSystemDefaultTimezone</code>, which means to convert like <code>AlwaysEpochMilliseconds</code>, but to also assume the System default timezone.</td><td><code>Default</code></td></tr><tr><td>Schema Conversion Mode</td><td>How your document contains an attribute that does not map to the schema type. <br>Possible values are: <br>- <code>Relaxed</code>, which uses a null value <br>- <code>Strict</code>, which throws an exception</td><td><code>Relaxed</code></td></tr><tr><td>Partitioning Strategy</td><td>Partitioning strategy to use. <br>Possible values are: <code>Default</code>, <code>Custom</code>, <code>Restrictive</code> or <code>Aggressive</code></td><td><code>Default</code></td></tr><tr><td>Preferred Regions List</td><td>List of regions you prefer.</td><td>None</td></tr><tr><td>Disable Tcp Connection Endpoint Rediscovery</td><td>Whether to disable TCP connection endpoint rediscovery. <br> You should disable TCP connection endpoint rediscovery when using custom domain names with private endpoints in a custom Spark environment. When using Azure Databricks or Azure Synapse as Spark runtime it should never be required to disable endpoint rediscovery.</td><td>false</td></tr><tr><td>Allow Invalid JSON With Duplicate JSON Properties</td><td>Whether the CosmosDB Java SDK and Spark connector fails when the Source gem reads JSON documents that contain JSON objects with multiple properties of the same name.</td><td>false</td></tr><tr><td>Partitioning Targeted Count</td><td>Ideal number of partitions to use. If you have a custom strategy, the Spark Connector uses this value.</td><td>None</td></tr><tr><td>Partitioning Feed Range Filter</td><td>Scopes the query to a single logical CosmosDB partition, or a subset of logical partitions. <br> The Source gem modifies the partitioning strategy to only create partitions for the scoped logical partitions. This property reduces the necessary Spark tasks and partitions.</td><td>None</td></tr><tr><td>Use Gateway Mode</td><td>Whether to use gateway mode for the client operations.</td><td>false</td></tr><tr><td>Force Eventual Consistency</td><td>Whether to make the client use eventual consistency for read operations instead of using the default account level consistency.</td><td>true</td></tr><tr><td>Max Item Count</td><td>Maximum number of documents to return for a single query or change feed request. <br>Consider increasing this value only for average document sizes significantly smaller than 1KB, or when projection reduces the number of properties selected in queries significantly, such as only selecting <code>id</code> of documents.</td><td><code>1000</code></td></tr><tr><td>Max Integrated Staleness in MS</td><td>Maximum staleness window in milliseconds for the point read or query request results in the integrated cache when using the dedicated gateway. To learn more, see <a href="https://learn.microsoft.com/en-gb/azure/cosmos-db/integrated-cache#maxintegratedcachestaleness" target="_blank" rel="noopener noreferrer">MaxIntegratedCacheStaleness</a>.</td><td>None</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="throughput-control-configs">Throughput control configs<a href="#throughput-control-configs" class="hash-link" aria-label="Direct link to Throughput control configs" title="Direct link to Throughput control configs">​</a></h3>
<p>Having throughput controls help isolate the performance needs of applications running against a container by limiting the amount of <a href="https://learn.microsoft.com/en-us/azure/cosmos-db/request-units" target="_blank" rel="noopener noreferrer">request units</a> a Spark client consumes.</p>
<p>Several advanced scenarios benefit from client-side throughput control:</p>
<ul>
<li>
<p><strong>Different operations and tasks have different priorities</strong></p>
<p>You can prevent normal transactions from throttling due to data ingestion or copy activities. Some operations or tasks aren&#x27;t sensitive to latency and are more tolerant to being throttled than others.</p>
</li>
<li>
<p><strong>Provide fairness and isolation to different end users</strong></p>
<p>Applications usually have many end users, where some may send too many requests. This consumes all available throughput and causes others to throttle.</p>
</li>
<li>
<p><strong>Load balancing of throughput between different Azure Cosmos DB clients</strong></p>
<p>Assure all the clients get an equal share of the throughput.</p>
</li>
</ul>
<table><thead><tr><th>Property</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td>Enable Throughput Control Options</td><td>Whether to enable throughput control.</td><td>false</td></tr><tr><td>Throughput Control Account Endpoint</td><td>CosmosDB Account Endpoint URI for throughput control. <br>If not defined, the Source gem uses the <code>spark.cosmos.accountEndpoint</code> property.</td><td>None</td></tr><tr><td>Throughput Control Account Key</td><td>CosmosDB Account Key for throughput control.</td><td>None</td></tr><tr><td>Throughput Control Preferred Regions List</td><td>Comma-separated list of regions you prefer to use for a multi-region CosmosDB account. <br>Use a collocated Spark cluster with your CosmosDB account and pass the Spark cluster region as a preferred region. To see a list of Azure regions, see <a href="https://learn.microsoft.com/en-gb/dotnet/api/microsoft.azure.documents.locationnames?view=azure-dotnet&amp;preserve-view=true" target="_blank" rel="noopener noreferrer">LocationNames Class</a>.</td><td>None</td></tr><tr><td>Disable TCP connection endpoint Rediscovery</td><td>Whether to disable TCP connection endpoint rediscovery. <br> You should disable TCP connection endpoint rediscovery when using custom domain names with private endpoints in a custom Spark environment. When using Azure Databricks or Azure Synapse as Spark runtime it should never be required to disable endpoint rediscovery.</td><td>false</td></tr><tr><td>Use Gateway Mode</td><td>Whether to use gateway mode for the client operations.</td><td>false</td></tr><tr><td>Use Dedicated Container</td><td>Whether to provide a dedicated throughput control container.</td><td>true</td></tr><tr><td>Throughput control group name</td><td>Name of your throughput control group.</td><td>None</td></tr><tr><td>Renew Interval in MS</td><td>How often the client is going to update the throughput usage of itself.</td><td><code>5s</code></td></tr><tr><td>Expire Interval in MS</td><td>How quickly to detect an offline client.</td><td><code>11s</code></td></tr><tr><td>Throughput control group target throughput</td><td>Number of <a href="https://learn.microsoft.com/en-us/azure/cosmos-db/request-units" target="_blank" rel="noopener noreferrer">request units</a> in your throughput control group target throughput.</td><td>None</td></tr><tr><td>Throughput control group target throughput threshold</td><td>Threshold in <a href="https://learn.microsoft.com/en-us/azure/cosmos-db/request-units" target="_blank" rel="noopener noreferrer">request units</a> of your throughput control group target throughput.</td><td>None</td></tr><tr><td>Database which will be used for throughput global control</td><td>Database to use for throughput global control.</td><td>None</td></tr><tr><td>Container which will be used for throughput global control</td><td>Container to use for throughput global control.</td><td>None</td></tr></tbody></table>
<p>To learn more about throughput control, see <a href="https://learn.microsoft.com/en-us/azure/cosmos-db/nosql/throughput-control-spark" target="_blank" rel="noopener noreferrer">Azure Cosmos DB Spark connector: Throughput control</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="target">Target<a href="#target" class="hash-link" aria-label="Direct link to Target" title="Direct link to Target">​</a></h2>
<p>The Target gem writes data to CosmosDB and allows you to optionally specify the following additional properties.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="target-properties">Target properties<a href="#target-properties" class="hash-link" aria-label="Direct link to Target properties" title="Direct link to Target properties">​</a></h3>
<table><thead><tr><th>Property</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td>Description</td><td>Description of your dataset.</td><td>None</td></tr><tr><td>Write Mode</td><td>How to handle existing data. For a list of the possible values, see <a href="#supported-write-modes">Supported write modes</a>.</td><td><code>append</code></td></tr><tr><td>Write Strategy</td><td>How to write your data. For a list of the possible values, see <a href="#supported-write-strategies">Supported write strategies</a>.</td><td><code>ItemOverwrite</code></td></tr><tr><td>Enable Write Bulk</td><td>Whether to write to CosmosDB in bulk.</td><td><code>true</code></td></tr><tr><td>Date Format</td><td>String that indicates a date format.</td><td><code>yyyy-MM-dd</code></td></tr><tr><td>Timestamp Format</td><td>String that indicates a timestamp format.</td><td><code>yyyy-MM-dd&#x27;T&#x27;HH:mm:ss.SSSXXX</code></td></tr><tr><td>Max Retry Attempts</td><td>Number of times CosmosDB writes retry attempts on retriable failures, such as a connection or write error.</td><td><code>10</code></td></tr><tr><td>Max Concurrency</td><td>Maximum number of jobs to run at any time. <br>If you don&#x27;t specify a value, the Target gem determines a value based on the Spark executor VM Size.</td><td>None</td></tr><tr><td>Max No. of Pending Bulk Operations</td><td>Limit of bulk operations being processed concurrently. <br>If you don&#x27;t specify a value, the Target gem determines a value based on the Spark executor VM Size. If the volume of data is large for the provisioned throughput on the destination container, this setting can be adjusted by following the estimation of <code>1000 x Cores</code>.</td><td>None</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="supported-write-modes">Supported write modes<a href="#supported-write-modes" class="hash-link" aria-label="Direct link to Supported write modes" title="Direct link to Supported write modes">​</a></h3>
<table><thead><tr><th>Write mode</th><th>Description</th></tr></thead><tbody><tr><td>error</td><td>If the data already exists, throw an exception.</td></tr><tr><td>overwrite</td><td>If the data already exists, overwrite the data with the contents of the <code>DataFrame</code>.</td></tr><tr><td>append</td><td>If the data already exists, append the contents of the <code>DataFrame</code>.</td></tr><tr><td>ignore</td><td>If the data already exists, do nothing with the contents of the <code>DataFrame</code>. <br>This is similar to the <code>CREATE TABLE IF NOT EXISTS</code> clause in SQL.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="supported-write-strategies">Supported write strategies<a href="#supported-write-strategies" class="hash-link" aria-label="Direct link to Supported write strategies" title="Direct link to Supported write strategies">​</a></h3>
<table><thead><tr><th>Write strategy</th><th>Description</th></tr></thead><tbody><tr><td>ItemOverwrite</td><td>Performs an upsert.</td></tr><tr><td>ItemOverwriteIfNotModified</td><td>If an ETag property of the row is empty, or null, insert the document, or ignore the document if it already exists.</td></tr><tr><td>ItemAppend</td><td>Same as <code>ItemOverwriteIfNotModified</code>. Additionally, if an Etag value exists, the connector attempts to replace the document with ETag pre-condition. If the document changes, the Target gem skips the update and does not update the document with the content of the data frame row.</td></tr><tr><td>ItemDelete</td><td>Deletes all documents.</td></tr><tr><td>ItemDeleteIfNotModified</td><td>Deletes all documents where the ETag hasn&#x27;t changed.</td></tr><tr><td>ItemPatch</td><td>Partially updates all documents based on the patch configuration. Then, provide values for <a href="#itempatch-properties">the additional properties</a>.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="itempatch-properties">ItemPatch properties<a href="#itempatch-properties" class="hash-link" aria-label="Direct link to ItemPatch properties" title="Direct link to ItemPatch properties">​</a></h3>
<p>These configurations are valid only when you select <code>ItemPatch</code> as your <code>Write Strategy</code>.</p>
<table><thead><tr><th>Property</th><th>Description</th><th>Default Value</th></tr></thead><tbody><tr><td>Default Patch Operation Type</td><td>Default CosmosDB patch operation type. <br>Possible values are: <code>None</code>, <code>Add</code>, <code>Set</code>, <code>Replace</code>, <code>Remove</code>, or <code>Increment</code>. <br>Choose <code>none</code> for no operation, and for the rest, see <a href="https://learn.microsoft.com/en-gb/azure/cosmos-db/partial-document-update#supported-operations" target="_blank" rel="noopener noreferrer">Supported operations</a> to determine which one to select.</td><td><code>Replace</code></td></tr><tr><td>Patch Column Configs</td><td>CosmosDB patch column configurations. <br>This can contain multiple definitions that match the separated by comma pattern: <br>- <code>col(column).op(operationType)</code> <br>- <code>col(column).path(patchInCosmosdb).op(operationType)</code>, which also allows you to define a different CosmosDB path.</td><td>None</td></tr><tr><td>Patch Filter</td><td>Conditional patch to use.</td><td>None</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/gems">gems</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/warehouse">warehouse</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/cosmos">cosmos</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/tags/azure">azure</a></li></ul></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/engineers/bigquery"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">BigQuery</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/engineers/db2"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">DB2</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#parameters" class="table-of-contents__link toc-highlight">Parameters</a><ul><li><a href="#master-key-authentication" class="table-of-contents__link toc-highlight">Master key authentication</a></li><li><a href="#service-principle-based-authentication" class="table-of-contents__link toc-highlight">Service principle based authentication</a></li></ul></li><li><a href="#source" class="table-of-contents__link toc-highlight">Source</a><ul><li><a href="#source-properties" class="table-of-contents__link toc-highlight">Source properties</a></li><li><a href="#throughput-control-configs" class="table-of-contents__link toc-highlight">Throughput control configs</a></li></ul></li><li><a href="#target" class="table-of-contents__link toc-highlight">Target</a><ul><li><a href="#target-properties" class="table-of-contents__link toc-highlight">Target properties</a></li><li><a href="#supported-write-modes" class="table-of-contents__link toc-highlight">Supported write modes</a></li><li><a href="#supported-write-strategies" class="table-of-contents__link toc-highlight">Supported write strategies</a></li><li><a href="#itempatch-properties" class="table-of-contents__link toc-highlight">ItemPatch properties</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Prophecy</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.prophecy.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Home<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.prophecy.io/blogs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/prophecy-io-support/shared_invite/zt-1dwuvkakg-JcavnQuoukyZ3q5jkSkKCg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:docs@prophecy.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation feedback<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://app.prophecy.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Login<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2025 Prophecy Inc All Rights Reserved <a href="https://legal.prophecy.io/privacy" target="_blank">Privacy Policy</a></div></div></div></footer></div>
</body>
</html>