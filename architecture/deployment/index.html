<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-architecture/deployment/deployment" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Prophecy deployment | Prophecy</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.prophecy.io/architecture/deployment/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Prophecy deployment | Prophecy"><meta data-rh="true" name="description" content="Prophecy deployment is flexible and supports multiple mechanisms"><meta data-rh="true" property="og:description" content="Prophecy deployment is flexible and supports multiple mechanisms"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.prophecy.io/architecture/deployment/"><link data-rh="true" rel="alternate" href="https://docs.prophecy.io/architecture/deployment/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.prophecy.io/architecture/deployment/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ZWUS3CKBSL-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Prophecy" href="/opensearch.xml">


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="/assets/css/styles.13d6b2d9.css">
<link rel="preload" href="/assets/js/runtime~main.0dc812ad.js" as="script">
<link rel="preload" href="/assets/js/main.65208238.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Prophecy Logo.png" alt="Prophecy Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/Prophecy Logo White.png" alt="Prophecy Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a href="https://www.prophecy.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Home</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Docs</a><a href="https://transpiler.docs.prophecy.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Transpiler Docs</a><a href="https://www.prophecy.io/blogs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/getting-started/getting-help">Help</a><a href="http://app.prophecy.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Login</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Prophecy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/feature-matrix">Product Feature Matrix</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/getting-started/">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/concepts/">Prophecy Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Prophecy Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/metadata/">Metadata</a><button aria-label="Toggle the collapsible sidebar category &#x27;Metadata&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Spark/">Spark</a><button aria-label="Toggle the collapsible sidebar category &#x27;Spark&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/SQL/">SQL</a><button aria-label="Toggle the collapsible sidebar category &#x27;SQL&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Orchestration/">Orchestration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Orchestration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/deployment/">Deployment</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deployment&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/package-hub/">Package Hub</a><button aria-label="Toggle the collapsible sidebar category &#x27;Package Hub&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/settings/">Settings</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/architecture/">Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/architecture/authentication/">Authentication</a><button aria-label="Toggle the collapsible sidebar category &#x27;Authentication&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/architecture/deployment/">Prophecy deployment</a><button aria-label="Toggle the collapsible sidebar category &#x27;Prophecy deployment&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/deployment/installation-guide">Installation Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/architecture/deployment/private-saas/">Private SAAS</a><button aria-label="Toggle the collapsible sidebar category &#x27;Private SAAS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/deployment/EMR-livy-installation-guide">Amazon EMR with Apache Livy</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/release_notes/">Release Notes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Release Notes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/tutorials/">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/architecture/"><span itemprop="name">Architecture</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Prophecy deployment</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Prophecy deployment</h1></header><p>Prophecy deployment is simple and flexible. Prophecy is written as a set of microservices that run on Kubernetes and is built to be multi-tenant. There are three primary options within cloud deployment.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cloud-deployment">Cloud Deployment<a href="#cloud-deployment" class="hash-link" aria-label="Direct link to Cloud Deployment" title="Direct link to Cloud Deployment">​</a></h2><p>Prophecy in the cloud connects to your existing Spark and Scheduler/Orchestrator. Prophecy does not store any data, however, it does store metadata about your Pipelines, Datasets and schedules.</p><p><img loading="lazy" alt="General Architecture" src="/assets/images/arch_general-32c8841bc2ae1f4053f6662018a756d9.png" width="1520" height="736" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="public-saas">Public SaaS<a href="#public-saas" class="hash-link" aria-label="Direct link to Public SaaS" title="Direct link to Public SaaS">​</a></h3><p>Public SaaS (Prophecy managed SaaS) is the default option when you connect from <strong>Databricks Partner Connect</strong> and is free for one user.
This option is heavily used by customers to try Prophecy. Our startup and midsize customers who like the convenience of a managed service prefer this option. You can also use this by directly going to the <a href="https://app.prophecy.io/" target="_blank" rel="noopener noreferrer">Prophecy Application</a>.</p><p><img loading="lazy" alt="VPC Architecture" src="/assets/images/arch_separate_vpc-0fd8afc057178ba04bf50999084516ea.png" width="1560" height="774" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="private-saas-customer-vpc">Private SaaS (Customer VPC)<a href="#private-saas-customer-vpc" class="hash-link" aria-label="Direct link to Private SaaS (Customer VPC)" title="Direct link to Private SaaS (Customer VPC)">​</a></h3><p>Customers in segments that deal with very sensitive data primarily use this option. Here, Prophecy runs within the <strong>Customer VPC</strong> and connects to the identity, Spark clusters and the scheduler within the VPC. For more information read the <a href="/architecture/deployment/private-saas/">private SAAS installation documentation</a> or reach out to our team by using <a href="https://www.prophecy.io/request-a-demo" target="_blank" rel="noopener noreferrer">request a demo</a>.</p><p><img loading="lazy" alt="Customer VPC Architecture" src="/assets/images/arch_customervpc-9606898420e67c54bfda2880228e6f3a.png" width="1560" height="774" class="img_ev3q"></p><p>Ready to setup Prophecy to run in your VPC? Login into your preferred cloud marketplace: <a href="https://aws.amazon.com/marketplace/pp/prodview-gh3pyflmu7mlu?sr=0-1&amp;ref_=beagle&amp;applicationId=AWSMPContessa#external-reviews" target="_blank" rel="noopener noreferrer">AWS</a>, <a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/simpledatalabsinc1635791235920.prophecy-data-engineering" target="_blank" rel="noopener noreferrer">Azure</a>, or <a href="https://console.cloud.google.com/marketplace/product/prophecy-on-gcp-public/prophecy-data-engineering" target="_blank" rel="noopener noreferrer">GCP</a>, and search for &quot;Prophecy.&quot; The installation billing starts after 30 days.</p><p><img loading="lazy" alt="Marketplaces" src="/assets/images/prophecy_marketplaces-a11d774a11e07793741fe8da5575bd65.png" width="2880" height="1084" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="on-premise-deployment">On-Premise Deployment<a href="#on-premise-deployment" class="hash-link" aria-label="Direct link to On-Premise Deployment" title="Direct link to On-Premise Deployment">​</a></h3><p>On rare occasions, Prophecy will deploy on-premise for large customers who are moving to the cloud. Often the order is that the organizations will move Pipelines from on-premise legacy ETL tools to Spark, then move it to Spark on the cloud.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-architecture">High-Level Architecture<a href="#high-level-architecture" class="hash-link" aria-label="Direct link to High-Level Architecture" title="Direct link to High-Level Architecture">​</a></h2><p>There are four components of a successful Prophecy deployment:</p><ul><li><p><strong>Prophecy IDE</strong> - The development environment, including Prophecy Microservices and Cloud Infrastructure, which is deployed using one of these options: <a href="#public-saas">Public SaaS</a>, <a href="#private-saas-customer-vpc">Private SaaS</a>, or (rarely) <a href="#on-premise-deployment">On-Premise</a>.</p></li><li><p><strong>Data Engine (eg Snowflake or Databricks)</strong> - <a href="#sql">SQL</a> or <a href="#spark">Spark</a> execution environment. This is setup by a customer and connected to Prophecy through a secure and performant interface. No customer’s data is stored on Prophecy’s environment.</p></li><li><p><strong>Source Control (e.g. Bitbucket)</strong> - Prophecy works similar to code-first IDEs, by natively integrating with <a href="#git">Git</a> for best software engineering practices. An encrypted copy of customer’s code is stored within Prophecy’s environment for fast access, while the source-of-truth code is stored on Git.</p></li><li><p><strong>Identity Management (optional)</strong> - For simple user authentication and permission control, Prophecy can connect your identity provider of choice.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prophecy-ide">Prophecy IDE<a href="#prophecy-ide" class="hash-link" aria-label="Direct link to Prophecy IDE" title="Direct link to Prophecy IDE">​</a></h3><p>A user who logs into Prophecy has access to the integrated development environment (IDE). This includes everything needed to enable all data users to transform raw data into reliable, analytics-ready data using visual data pipelines.</p><p><img loading="lazy" alt="Prophecy IDE" src="/assets/images/arch_ide-42d5237f2aef43f19a15d8d2bf2366ee.png" width="3781" height="1538" class="img_ev3q"></p><p>Teams are the primary mechanism of ownership. Teams own Projects where Pipelines, Datasets, and Jobs live. Teams also own execution fabrics that provide the execution and storage resources for execution including on SQL Warehouses and Spark clusters.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sql">SQL<a href="#sql" class="hash-link" aria-label="Direct link to SQL" title="Direct link to SQL">​</a></h3><p>To allow for SQL query execution Prophecy can connect to Snowflake and Databricks warehouses. Connectors for additional SQL warehouses will be announced as they are added.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="snowflake">Snowflake<a href="#snowflake" class="hash-link" aria-label="Direct link to Snowflake" title="Direct link to Snowflake">​</a></h4><p>To connect with data stored in a SQL Warehouse, or to allow for interactive SQL execution, Prophecy can connect to an existing Snowflake execution environment through secure and performant <a href="https://docs.snowflake.com/en/developer-guide/snowpark/index" target="_blank" rel="noopener noreferrer">Snowpark</a> or <a href="https://docs.snowflake.com/en/developer-guide/sql-api/reference" target="_blank" rel="noopener noreferrer">Snowflake</a> APIs.</p><p>Each <a href="/concepts/fabrics">Fabric</a> defined in Prophecy connects to a single Snowflake Warehouse and each user is required to provide credentials to authenticate to it.</p><p><img loading="lazy" alt="Arch_Diagram" src="/assets/images/arch_snowflake-9a239c15dd53ff73475d620c5e3be545.png" width="3840" height="2160" class="img_ev3q"></p><p>Notice the data provider (eg Snowflake) matches up to a Fabric. For another scenario, consider the same architecture diagram where the Fabric connects to a Databricks SQL warehouse instead of Snowflake.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="spark">Spark<a href="#spark" class="hash-link" aria-label="Direct link to Spark" title="Direct link to Spark">​</a></h3><p>To allow for interactive code execution Prophecy can connect to either <a href="#databricks">Databricks</a> or any other Spark through <a href="https://livy.apache.org/" target="_blank" rel="noopener noreferrer">Apache Livy</a> (e.g. MapR, CDP, HDP, Spark on Kubernetes).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="databricks">Databricks<a href="#databricks" class="hash-link" aria-label="Direct link to Databricks" title="Direct link to Databricks">​</a></h4><p><img loading="lazy" alt="Prophecy to Databricks Connectivity" src="/assets/images/arch_databricks-f89e18abb116e995687ce447eba7c982.png" width="3840" height="2160" class="img_ev3q"></p><p>Prophecy connects to Databricks using <a href="https://docs.databricks.com/dev-tools/api/latest/index.html" target="_blank" rel="noopener noreferrer">Rest API</a>. Each <a href="/concepts/fabrics">Fabric</a> defined in Prophecy connects to a single <a href="https://docs.databricks.com/workspace/index.html" target="_blank" rel="noopener noreferrer">Databricks workspace</a> and each user is required to provide a <a href="https://docs.databricks.com/dev-tools/api/latest/authentication.html" target="_blank" rel="noopener noreferrer">personal access token</a> to authenticate to it.</p><p>Security-conscious enterprises that use Databricks with limited network access have to additionally add the <strong>Prophecy Data Plane IP address</strong> (<code>3.133.35.237</code>) to the Databricks allowed <a href="https://docs.databricks.com/security/network/ip-access-list.html#add-an-ip-access-list" target="_blank" rel="noopener noreferrer">access list</a>.</p><p>Primarily Prophecy uses Databricks for the following functionalities:</p><ul><li><strong>Interactive Execution</strong> - Prophecy allows its users to spin up new clusters or connect to existing clusters. When a cluster connection exists, Prophecy allows the user to run their code in the interactive mode. Interactive code queries are sent to Databricks using the <a href="https://docs.databricks.com/dev-tools/api/1.2/index.html" target="_blank" rel="noopener noreferrer">Databricks Command API 1.2</a>.</li><li><strong>Scheduling</strong> - Prophecy allows the user to build and orchestrate Databricks Jobs. This works through the <a href="https://docs.databricks.com/dev-tools/api/latest/jobs.html" target="_blank" rel="noopener noreferrer">Databricks Jobs API 2.1</a>.</li></ul><p>By default, Prophecy does not store any data samples when executing code using Databricks. Data samples can be optionally stored for observability purposes (execution metrics).</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>When using <strong>Active Directory</strong>, Prophecy takes care of auto-generation and refreshing of the Databricks personal access tokens. Read more about it <a href="https://docs.microsoft.com/en-us/azure/databricks/dev-tools/api/latest/aad/" target="_blank" rel="noopener noreferrer">here</a>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git">Git<a href="#git" class="hash-link" aria-label="Direct link to Git" title="Direct link to Git">​</a></h3><p>While all code generated by Prophecy is stored in a User’s Git repository, we temporarily store some of the generated code used during Interactive development in an encrypted cache.</p><p>Supported Git providers:</p><ul><li><strong>Prophecy Managed</strong> - Prophecy automatically sets up the connectivity between itself and the repositories. Prophecy Managed is based on open-source <a href="https://github.com/go-gitea/gitea" target="_blank" rel="noopener noreferrer">GitTea</a>.</li><li><strong>GitHub</strong> (including GitHub Enterprise) - authenticates using per-user personal access tokens. <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token" target="_blank" rel="noopener noreferrer">How to generate PAT?</a></li><li><strong>Bitbucket</strong> (including Bitbucket self-hosted) - authenticates using per-user personal access tokens. <a href="https://confluence.atlassian.com/bitbucketserver072/personal-access-tokens-1005335924.html" target="_blank" rel="noopener noreferrer">How to generate PAT?</a></li><li><strong>GitLab</strong> (including GitLab self-hosted) - authenticates using per-user personal access tokens. <a href="https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html" target="_blank" rel="noopener noreferrer">How to generate PAT?</a></li><li><strong>Azure DevOps</strong> - authenticates using per-user personal access tokens. <a href="https://docs.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?view=azure-devops&amp;tabs=Windows" target="_blank" rel="noopener noreferrer">How to generate PAT?</a></li></ul><p>Security-conscious enterprises that use Git Providers within private networks behind firewalls have to add the Prophecy Control Plane IP address (<code>3.133.35.237</code>) to the private network allow-list or to the Git provider <a href="https://github.blog/2019-12-12-ip-allow-lists-now-in-public-beta/" target="_blank" rel="noopener noreferrer">allow-list</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="security-and-privacy-practices">Security and Privacy Practices<a href="#security-and-privacy-practices" class="hash-link" aria-label="Direct link to Security and Privacy Practices" title="Direct link to Security and Privacy Practices">​</a></h2><p>The Prophecy team employs top-notch industry practices to safeguard the security of their application and maintain the privacy of customer data. Below are just a few components of our comprehensive security strategy and system structure:</p><ul><li><p><strong>General</strong> - An annual penetration test is performed to validate Prophecy’s posture and identify vulnerabilities. Our latest penetration test report was issued in November 2022. Prophecy maintains SOC-2 compliance as audited by PrescientAssurance.</p></li><li><p><strong>Public SaaS</strong> - Prophecy IDE is hosted on secure servers on AWS. All storage systems are encrypted, and all servers are tightly access controlled and audited. Data is encrypted in transit at all times.</p></li><li><p><strong>Private SaaS</strong> - Alternatively, Prophecy’s IDE can be installed within an Enterprise network as desired. Prophecy’s IDE accesses your environment through a single IP address dedicated to you, allowing you to protect access to your data resources at the network level. The credentials are stored per user, and only a fully authenticated user can access their environment.</p></li><li><p><strong>On-Premise</strong> - Prophecy complies with your security requirements on-premise; <a href="https://www.prophecy.io/request-a-demo" target="_blank" rel="noopener noreferrer">reach out</a> to start the discussion.</p></li></ul><p>Read more details on Prophecy’s security and compliance posture at our Security Portal <a href="https://security.prophecy.io/" target="_blank" rel="noopener noreferrer">here.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-next">What&#x27;s next<a href="#whats-next" class="hash-link" aria-label="Direct link to What&#x27;s next" title="Direct link to What&#x27;s next">​</a></h2><p>To continue with your Prophecy deployment, see the following pages:</p><section class="row"><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/architecture/deployment/installation-guide"><h2 class="text--truncate cardTitle_rnsV" title="Installation Guide">📄️<!-- --> <!-- -->Installation Guide</h2><p class="text--truncate cardDescription_PWke" title="Installation Guide">Installation Guide</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/architecture/deployment/private-saas/"><h2 class="text--truncate cardTitle_rnsV" title="Private SAAS">🗃️<!-- --> <!-- -->Private SAAS</h2><p class="text--truncate cardDescription_PWke" title="7 items">7 items</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/architecture/deployment/EMR-livy-installation-guide"><h2 class="text--truncate cardTitle_rnsV" title="Amazon EMR with Apache Livy">📄️<!-- --> <!-- -->Amazon EMR with Apache Livy</h2><p class="text--truncate cardDescription_PWke" title="Installation Guide">Installation Guide</p></a></article></section></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/deployment">deployment</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/jobs">jobs</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/databricks">databricks</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/architecture/authentication/saml_okta"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SAML Using Okta</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/architecture/deployment/installation-guide"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Installation Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cloud-deployment" class="table-of-contents__link toc-highlight">Cloud Deployment</a><ul><li><a href="#public-saas" class="table-of-contents__link toc-highlight">Public SaaS</a></li><li><a href="#private-saas-customer-vpc" class="table-of-contents__link toc-highlight">Private SaaS (Customer VPC)</a></li><li><a href="#on-premise-deployment" class="table-of-contents__link toc-highlight">On-Premise Deployment</a></li></ul></li><li><a href="#high-level-architecture" class="table-of-contents__link toc-highlight">High-Level Architecture</a><ul><li><a href="#prophecy-ide" class="table-of-contents__link toc-highlight">Prophecy IDE</a></li><li><a href="#sql" class="table-of-contents__link toc-highlight">SQL</a></li><li><a href="#spark" class="table-of-contents__link toc-highlight">Spark</a></li><li><a href="#git" class="table-of-contents__link toc-highlight">Git</a></li></ul></li><li><a href="#security-and-privacy-practices" class="table-of-contents__link toc-highlight">Security and Privacy Practices</a></li><li><a href="#whats-next" class="table-of-contents__link toc-highlight">What&#39;s next</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/prophecy-io-support/shared_invite/zt-1dwuvkakg-JcavnQuoukyZ3q5jkSkKCg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://app.prophecy.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Login<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 Prophecy Inc All Rights Reserved <a href="https://legal.prophecy.io/privacy" target="_blank">Privacy Policy</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.0dc812ad.js"></script>
<script src="/assets/js/main.65208238.js"></script>
</body>
</html>