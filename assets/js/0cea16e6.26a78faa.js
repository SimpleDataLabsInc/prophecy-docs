"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[91346],{28453:(e,i,r)=>{r.d(i,{R:()=>d,x:()=>l});var s=r(96540);const n={},t=s.createContext(n);function d(e){const i=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),s.createElement(t.Provider,{value:i},e.children)}},96719:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>o,frontMatter:()=>d,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"api/trigger-pipeline/trigger-pipeline-api","title":"Trigger Pipeline API","description":"Trigger the execution of pipelines in deployed projects","source":"@site/docs/api/trigger-pipeline/trigger-pipeline-api.md","sourceDirName":"api/trigger-pipeline","slug":"/api/trigger-pipeline/trigger-pipeline-api","permalink":"/api/trigger-pipeline/trigger-pipeline-api","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Trigger Pipeline API","id":"trigger-pipeline-api","description":"Trigger the execution of pipelines in deployed projects","tags":[]},"sidebar":"apiSidebar","previous":{"title":"Prophecy APIs","permalink":"/api/"},"next":{"title":"Use RestAPI gem","permalink":"/api/trigger-pipeline/rest-api-gem-trigger"}}');var n=r(74848),t=r(28453);const d={title:"Trigger Pipeline API",id:"trigger-pipeline-api",description:"Trigger the execution of pipelines in deployed projects",tags:[]},l=void 0,c={},h=[{value:"Requirements",id:"requirements",level:2},{value:'<span class="request-post">POST</span> Trigger Deployed Pipeline',id:"post-trigger-deployed-pipeline",level:2},{value:"Endpoint",id:"endpoint-trigger",level:3},{value:"Request Headers",id:"request-headers-trigger",level:3},{value:"Body Parameters",id:"body-parameters-trigger",level:3},{value:"Example cURL",id:"example-curl-trigger",level:3},{value:"Response Body",id:"response-body-trigger",level:3},{value:"Example Response",id:"example-response-trigger",level:4},{value:'<span class="request-get">GET</span> Pipeline Run Status',id:"get-pipeline-run-status",level:2},{value:"Endpoint",id:"endpoint-status",level:3},{value:"Request Headers",id:"request-headers-status",level:3},{value:"Example cURL",id:"example-curl-status",level:3},{value:"Response Body",id:"response-body-status",level:3},{value:"Example Response",id:"example-response-status",level:4}];function p(e){const i={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.p,{children:"The Trigger Pipeline API allows you to start the execution of a pipeline in a deployed project. This is useful when you want to automate pipeline runs without relying on Prophecy's built-in scheduling."}),"\n",(0,n.jsx)(i.p,{children:"The API returns request responses in JSON format."}),"\n",(0,n.jsx)(i.p,{children:"There are two endpoints:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"#post-trigger-deployed-pipeline",children:"Trigger Deployed Pipeline"})," starts the execution of a deployed pipeline."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"#get-pipeline-run-status",children:"Pipeline Run Status"})," gets the status of a triggered pipeline run, including an error message if the pipeline run fails."]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"requirements",children:"Requirements"}),"\n",(0,n.jsx)(i.p,{children:"To use the Trigger Pipeline API, the pipeline you want to trigger must:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["Run on a ",(0,n.jsx)(i.a,{href:"/administration/fabrics/prophecy-fabrics/",children:"Prophecy fabric"})]}),"\n",(0,n.jsx)(i.li,{children:"Be part of a published project (in other words, the pipeline must be deployed)"}),"\n"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsxs)(i.h2,{id:"post-trigger-deployed-pipeline",children:[(0,n.jsx)("span",{class:"request-post",children:"POST"})," Trigger Deployed Pipeline"]}),"\n",(0,n.jsx)(i.h3,{id:"endpoint-trigger",children:"Endpoint"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"https://app.prophecy.io/api/trigger/pipeline\n"})}),"\n",(0,n.jsx)(i.admonition,{type:"info",children:(0,n.jsx)(i.p,{children:"Replace the base URL with your environment URL for dedicated SaaS and self-hosted deployments."})}),"\n",(0,n.jsx)(i.h3,{id:"request-headers-trigger",children:"Request Headers"}),"\n",(0,n.jsx)(i.p,{children:"The following headers are required for the request."}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Key"}),(0,n.jsx)(i.th,{children:"Value"}),(0,n.jsx)(i.th,{children:"Description"})]})}),(0,n.jsx)(i.tbody,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"X-AUTH-TOKEN"})}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"{{auth_token}}"})}),(0,n.jsxs)(i.td,{children:["Your Prophecy ",(0,n.jsx)(i.a,{href:"/api/",children:"access token"})]})]})})]}),"\n",(0,n.jsx)(i.h3,{id:"body-parameters-trigger",children:"Body Parameters"}),"\n",(0,n.jsx)(i.p,{children:"The following are valid parameters for the request body."}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Field Name"}),(0,n.jsx)(i.th,{children:"Type"}),(0,n.jsx)(i.th,{children:"Required"}),(0,n.jsx)(i.th,{children:"Description"}),(0,n.jsx)(i.th,{children:"Example"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"fabricId"})}),(0,n.jsx)(i.td,{children:"Long"}),(0,n.jsx)(i.td,{children:"Yes"}),(0,n.jsx)(i.td,{children:"Unique identifier of the data fabric where the pipeline resides. You can find the ID in the URL of the fabric metadata page."}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"90645"})})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"pipelineName"})}),(0,n.jsx)(i.td,{children:"String"}),(0,n.jsx)(i.td,{children:"Yes"}),(0,n.jsx)(i.td,{children:"Name of the pipeline to be triggered."}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"data_processing_pipeline"})})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"projectId"})}),(0,n.jsx)(i.td,{children:"String"}),(0,n.jsx)(i.td,{children:"Yes"}),(0,n.jsx)(i.td,{children:"Unique ID of the project where the pipeline resides. You can find this string in the URL of the project editor or metadata page."}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"46059"})})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"parameters"})}),(0,n.jsx)(i.td,{children:"JSON"}),(0,n.jsx)(i.td,{children:"No"}),(0,n.jsxs)(i.td,{children:["Map of key-value pairs representing ",(0,n.jsx)(i.a,{href:"/analysts/pipeline-parameters",children:"pipeline parameters"}),". These will override default parameter values."]}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:'{"parameter_1": "1234", "parameter_2": "table_1"}'})})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"branch"})}),(0,n.jsx)(i.td,{children:"String"}),(0,n.jsx)(i.td,{children:"No"}),(0,n.jsx)(i.td,{children:"Specific branch of the pipeline to execute. If omitted, the current working branch is used."}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"dev"})})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"version"})}),(0,n.jsx)(i.td,{children:"String"}),(0,n.jsx)(i.td,{children:"No"}),(0,n.jsx)(i.td,{children:"Specific version of the project containing the pipeline. If omitted, the latest version is used."}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"2"})})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"processName"})}),(0,n.jsx)(i.td,{children:"String"}),(0,n.jsx)(i.td,{children:"No"}),(0,n.jsxs)(i.td,{children:["Name of a specific gem within the pipeline. If provided, the pipeline will not run beyond this gem. If no ",(0,n.jsx)(i.code,{children:"processName"})," is specified, the full pipeline is executed."]}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"aggregated_orders"})})]})]})]}),"\n",(0,n.jsx)(i.h3,{id:"example-curl-trigger",children:"Example cURL"}),"\n",(0,n.jsxs)(i.p,{children:["This example triggers a pipeline called ",(0,n.jsx)(i.code,{children:"bakehouse"})," that executes on fabric ",(0,n.jsx)(i.code,{children:"33290"})," and stops at the ",(0,n.jsx)(i.code,{children:"franchise_reviews"})," gem."]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-cURL",children:'curl --location \'https://app.prophecy.io/api/trigger/pipeline\' \\\n--header \'X-AUTH-TOKEN: <prophecy-pat>\' \\\n--header \'Content-Type: application/json\' \\\n--data \'{\n  "fabricId": 33290,\n  "pipelineName": "bakehouse",\n  "parameters": {\n    "franchise_id": "3000007"\n  },\n  "version": "2",\n  "projectId": "41459",\n  "processName": "franchise_reviews"\n}\'\n'})}),"\n",(0,n.jsx)(i.h3,{id:"response-body-trigger",children:"Response Body"}),"\n",(0,n.jsx)(i.p,{children:"The following fields may appear in the response body of your request."}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Field"}),(0,n.jsx)(i.th,{children:"Description"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"success"})}),(0,n.jsxs)(i.td,{children:["Indicates whether the request to trigger the pipeline was successful. ",(0,n.jsx)(i.strong,{children:"It does not reflect the success of the pipeline run"}),"."]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"runId"})}),(0,n.jsx)(i.td,{children:"Unique identifier of the pipeline run generated by this request."})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"msg"})}),(0,n.jsx)(i.td,{children:"Message that explains the outcome of the request. If the request fails, an error message is provided here."})]})]})]}),"\n",(0,n.jsx)(i.h4,{id:"example-response-trigger",children:"Example Response"}),"\n",(0,n.jsx)(i.p,{children:"This example shows the response to a request with an invalid fabric ID."}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-json",children:'{\n  "success": false,\n  "msg": "error in triggering pipeline: Success(Left(sdl.md.client.package$MetadataException: Fabric with uid `2290` not found)) (of class scala.util.Success)"\n}\n'})}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsxs)(i.h2,{id:"get-pipeline-run-status",children:[(0,n.jsx)("span",{class:"request-get",children:"GET"})," Pipeline Run Status"]}),"\n",(0,n.jsx)(i.h3,{id:"endpoint-status",children:"Endpoint"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"https://app.prophecy.io/api/trigger/pipeline/{{runId}}\n"})}),"\n",(0,n.jsx)(i.admonition,{type:"info",children:(0,n.jsx)(i.p,{children:"Replace the base URL with your environment URL for dedicated SaaS and self-hosted deployments."})}),"\n",(0,n.jsx)(i.h3,{id:"request-headers-status",children:"Request Headers"}),"\n",(0,n.jsx)(i.p,{children:"The following headers are required for the request."}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Key"}),(0,n.jsx)(i.th,{children:"Value"}),(0,n.jsx)(i.th,{children:"Description"})]})}),(0,n.jsx)(i.tbody,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"X-AUTH-TOKEN"})}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"{{auth_token}}"})}),(0,n.jsxs)(i.td,{children:["Your Prophecy ",(0,n.jsx)(i.a,{href:"/api/",children:"access token"})]})]})})]}),"\n",(0,n.jsx)(i.h3,{id:"example-curl-status",children:"Example cURL"}),"\n",(0,n.jsx)(i.p,{children:"This example retrieves the status of a pipeline with a specific runID."}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"curl --location 'https://app.prophecy.io/api/trigger/pipeline/MDAw-xZGYzYzc3LTYzdsSdfx--LTQ3NTQ1ZYjI2Mw==' \\\n--header 'X-AUTH-TOKEN: <prophecy-pat>'\n"})}),"\n",(0,n.jsx)(i.h3,{id:"response-body-status",children:"Response Body"}),"\n",(0,n.jsx)(i.p,{children:"The following fields may appear in the response body of your request."}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Field"}),(0,n.jsx)(i.th,{children:"Description"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"success"})}),(0,n.jsxs)(i.td,{children:["Indicates whether the request to retrieve the pipeline run status was successful. ",(0,n.jsx)(i.strong,{children:"It does not reflect the success of the run"}),"."]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"runId"})}),(0,n.jsx)(i.td,{children:"Unique identifier of the pipeline run."})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"createdAt"})}),(0,n.jsx)(i.td,{children:"Timestamp when the pipeline run record was created. Returns ISO 8601 format, including microseconds."})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"updatedAt"})}),(0,n.jsx)(i.td,{children:"Timestamp when the pipeline run record was last updated. Returns ISO 8601 format, including microseconds."})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"projectId"})}),(0,n.jsx)(i.td,{children:"ID of the project associated with this pipeline run."})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"pipelineName"})}),(0,n.jsx)(i.td,{children:"Name of the pipeline associated with this run."})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"fabricId"})}),(0,n.jsx)(i.td,{children:"ID of the fabric where the pipeline resides."})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"runStatus"})}),(0,n.jsxs)(i.td,{children:["Execution status of the pipeline run. Possible values include ",(0,n.jsx)(i.code,{children:"RUNNING"}),", ",(0,n.jsx)(i.code,{children:"ERROR"}),", or ",(0,n.jsx)(i.code,{children:"SUCCEEDED"}),"."]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"errorMessage"})}),(0,n.jsxs)(i.td,{children:["Descriptive error message if the ",(0,n.jsx)(i.code,{children:"runStatus"})," is ",(0,n.jsx)(i.code,{children:"ERROR"}),"."]})]})]})]}),"\n",(0,n.jsx)(i.h4,{id:"example-response-status",children:"Example Response"}),"\n",(0,n.jsx)(i.p,{children:"This example shows the response to a successful request. It also shows that the pipeline run succeeded."}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-json",children:'{\n  "success": true,\n  "runId": "MDAw-xZGYzYzc3LTYzdsSdfx--LTQ3NTQ1ZYjI2Mw==",\n  "createdAt": "2025-06-17T18:01:49.275359",\n  "updatedAt": "2025-06-17T18:02:41.712486",\n  "projectId": "41459",\n  "pipelineName": "bakehouse",\n  "fabricId": "33290",\n  "runStatus": "SUCCEEDED"\n}\n'})})]})}function o(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}}}]);