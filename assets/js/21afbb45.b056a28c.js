"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[36656],{15680:(e,t,a)=>{a.d(t,{xA:()=>p,yg:()=>y});var r=a(96540);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),c=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(a),g=n,y=d["".concat(l,".").concat(g)]||d[g]||u[g]||i;return a?r.createElement(y,o(o({ref:t},p),{},{components:a})):r.createElement(y,o({ref:t},p))}));function y(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=g;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:n,o[1]=s;for(var c=2;c<i;c++)o[c]=a[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}g.displayName="MDXCreateElement"},23069:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var r=a(58168),n=(a(96540),a(15680));const i={title:"Fabrics",id:"Fabric",description:"Logical execution environments",sidebar_position:4,tags:["concepts","fabric","source","target","datasets"]},o=void 0,s={unversionedId:"concepts/fabrics/Fabric",id:"concepts/fabrics/Fabric",title:"Fabrics",description:"Logical execution environments",source:"@site/docs/concepts/fabrics/fabrics.md",sourceDirName:"concepts/fabrics",slug:"/concepts/fabrics/",permalink:"/concepts/fabrics/",draft:!1,tags:[{label:"concepts",permalink:"/tags/concepts"},{label:"fabric",permalink:"/tags/fabric"},{label:"source",permalink:"/tags/source"},{label:"target",permalink:"/tags/target"},{label:"datasets",permalink:"/tags/datasets"}],version:"current",sidebarPosition:4,frontMatter:{title:"Fabrics",id:"Fabric",description:"Logical execution environments",sidebar_position:4,tags:["concepts","fabric","source","target","datasets"]},sidebar:"mySidebar",previous:{title:"Datasets",permalink:"/concepts/project/dataset"},next:{title:"Concepts",permalink:"/concepts/"}},l={},c=[{value:"Use case",id:"use-case",level:2},{value:"Components",id:"components",level:2},{value:"Fabric creation",id:"fabric-creation",level:2},{value:"Fabric usage",id:"fabric-usage",level:2},{value:"Fabric metadata",id:"fabric-metadata",level:2},{value:"Hands-on",id:"hands-on",level:2}],p={toc:c},d="wrapper";function u(e){let{components:t,...i}=e;return(0,n.yg)(d,(0,r.A)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("p",null,"Prophecy helps you develop data pipelines in high-quality Spark or SQL code\u2014but what does Prophecy use to compute these pipelines? The first thing to understand before building any pipeline is that your pipeline must be connected to an ",(0,n.yg)("strong",{parentName:"p"},"execution environment"),"."),(0,n.yg)("p",null,"This is why ",(0,n.yg)("strong",{parentName:"p"},"fabrics")," exist in Prophecy. Fabrics let Prophecy connect to specific execution environments and data storage."),(0,n.yg)("h2",{id:"use-case"},"Use case"),(0,n.yg)("p",null,"Here is one way you might set up your fabrics. First, the team admin creates:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"A team named Marketing_DSS for the Marketing Decision Support System users."),(0,n.yg)("li",{parentName:"ul"},"A ",(0,n.yg)("inlineCode",{parentName:"li"},"dev")," fabric for development activities that specifies the Marketing_DSS team."),(0,n.yg)("li",{parentName:"ul"},"A ",(0,n.yg)("inlineCode",{parentName:"li"},"prod")," fabric for production pipelines that specifies the Marketing_DSS team.")),(0,n.yg)("p",null,"In this example, all users in the Marketing_DSS Team will have access to the ",(0,n.yg)("inlineCode",{parentName:"p"},"dev")," and ",(0,n.yg)("inlineCode",{parentName:"p"},"prod")," fabrics."),(0,n.yg)("h2",{id:"components"},"Components"),(0,n.yg)("p",null,"Fabrics include everything required to run a data pipeline. As an example, the following table describes the components of a Databricks Spark fabric."),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Component"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Connection Credentials"),(0,n.yg)("td",{parentName:"tr",align:null},"Includes details like ",(0,n.yg)("em",{parentName:"td"},"Workspace URL")," and ",(0,n.yg)("em",{parentName:"td"},"Access Token")," for Databricks.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Cluster Configuration"),(0,n.yg)("td",{parentName:"tr",align:null},"Defines settings such as ",(0,n.yg)("em",{parentName:"td"},"Databricks Runtime Version"),", ",(0,n.yg)("em",{parentName:"td"},"Machine Type"),", and ",(0,n.yg)("em",{parentName:"td"},"Idle Timeout"),".")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Job Sizes"),(0,n.yg)("td",{parentName:"tr",align:null},"Lets you define reusable cluster sizes (e.g., an XL cluster with 10 i3.xlarge servers, 40 CPUs, and 70GB memory).")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Scheduler"),(0,n.yg)("td",{parentName:"tr",align:null},"Executes Spark data pipelines on a defined schedule, such as weekdays at 9:00 AM. Databricks provides a default scheduler, and an Airflow Scheduler is available for enterprise users.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Database Connections"),(0,n.yg)("td",{parentName:"tr",align:null},"Supports connections to databases (MySQL, Postgres) and data warehouses (Snowflake) via JDBC or other protocols. Credentials are securely stored on the fabric for reuse.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Metadata Connection"),(0,n.yg)("td",{parentName:"tr",align:null},"Enhances fabric management for large datasets, useful for users handling hundreds or thousands of tables. ",(0,n.yg)("a",{parentName:"td",href:"/administration/metadata-connections"},"Learn more"),".")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Credentials & Secrets"),(0,n.yg)("td",{parentName:"tr",align:null},"Securely stores credentials in Databricks using Personal Access Tokens (PAT) or ",(0,n.yg)("a",{parentName:"td",href:"/administration/authentication/databricks_oauth"},"Databricks OAuth"),". Secrets are stored as key-value pairs, accessible only to running workflows.")))),(0,n.yg)("h2",{id:"fabric-creation"},"Fabric creation"),(0,n.yg)("p",null,"A team admin typically sets up fabrics. Detailed steps for fabric creation can be found in the ",(0,n.yg)("a",{parentName:"p",href:"/administration/Spark-fabrics/Fabrics"},"Set up Spark fabrics")," and ",(0,n.yg)("a",{parentName:"p",href:"/administration/sql-fabrics/Fabrics"},"Set up SQL fabrics")," sections of the documentation."),(0,n.yg)("p",null,"Even though teams share fabrics, ",(0,n.yg)("strong",{parentName:"p"},"each user must add their individual credentials")," to be able to use the fabric in their projects."),(0,n.yg)("admonition",{type:"info"},(0,n.yg)("p",{parentName:"admonition"},"Prophecy provides a trial Prophecy-managed fabric that can get you started with building your pipelines. However, you will need to connect to external execution environments for your production workflows.")),(0,n.yg)("h2",{id:"fabric-usage"},"Fabric usage"),(0,n.yg)("p",null,"When you create a fabric, you define the team that owns the fabric. If you are a member of that team, you will be able to use the fabric. To attach a fabric to a project:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},"Open a project from the Prophecy metadata page."),(0,n.yg)("li",{parentName:"ol"},"Open a pipeline or model that you want to work on."),(0,n.yg)("li",{parentName:"ol"},"Expand the ",(0,n.yg)("strong",{parentName:"li"},"Attach Cluster")," menu. This menu will differ slightly between Spark and SQL projects."),(0,n.yg)("li",{parentName:"ol"},"Select a fabric. You will be shown fabrics that have the same data provider as your project (e.g., Databricks)."),(0,n.yg)("li",{parentName:"ol"},"Attach to a cluster or create a new cluster."),(0,n.yg)("li",{parentName:"ol"},"Run your pipeline or model. This executes the data transformation on the environment defined in the fabric!")),(0,n.yg)("p",null,(0,n.yg)("img",{alt:"AttachCluster",src:a(19952).A,width:"2880",height:"1726"})),(0,n.yg)("h2",{id:"fabric-metadata"},"Fabric metadata"),(0,n.yg)("p",null,"A list of all fabrics available to you can be found in the ",(0,n.yg)("strong",{parentName:"p"},"Fabrics")," tab of the ",(0,n.yg)("strong",{parentName:"p"},"Metadata")," page."),(0,n.yg)("p",null,(0,n.yg)("img",{alt:"Fabric Metadata",src:a(41724).A,width:"2880",height:"686"})),(0,n.yg)("p",null,"You can click into each fabric to access the fabric settings. These will resemble the settings that appear during fabric creation."),(0,n.yg)("h2",{id:"hands-on"},"Hands-on"),(0,n.yg)("p",null,"Get started with hands-on guides. Learn step by step how to connect to your execution engine by creating a fabric:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},"Create a SQL fabric with a JDBC or Unity Catalog connection following ",(0,n.yg)("a",{parentName:"li",href:"/getting-started/tutorials/sql-with-databricks"},"this guide"),"."),(0,n.yg)("li",{parentName:"ol"},"Create a Databricks fabric following ",(0,n.yg)("a",{parentName:"li",href:"/administration/Spark-fabrics/databricks/"},"these steps"),"."),(0,n.yg)("li",{parentName:"ol"},"Create an EMR fabric with Livy step by step ",(0,n.yg)("a",{parentName:"li",href:"/administration/Spark-fabrics/emr"},"here"),".")))}u.isMDXComponent=!0},19952:(e,t,a)=>{a.d(t,{A:()=>r});const r=a.p+"assets/images/DatabricksAttachCluster-887b2f0d9f6e957f93304ae5a3ec60c8.png"},41724:(e,t,a)=>{a.d(t,{A:()=>r});const r=a.p+"assets/images/fabric_metadata_1-3ee2c76c404d725d4206ea6a41a62026.png"}}]);