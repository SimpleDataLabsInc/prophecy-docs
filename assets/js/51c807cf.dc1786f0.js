"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[18316],{28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>l});var a=n(96540);const o={},i=a.createContext(o);function r(e){const t=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),a.createElement(i.Provider,{value:t},e.children)}},84631:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/location-overwrite-778eeb364ca66520df7c69f1c39a1bd9.png"},98627:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"analysts/development/models/sources-target/dynamic-target-location","title":"Dynamic target location","description":"Use a dynamic location for your target model","source":"@site/docs/analysts/development/models/sources-target/location.md","sourceDirName":"analysts/development/models/sources-target","slug":"/engineers/dynamic-target-location","permalink":"/engineers/dynamic-target-location","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"model","permalink":"/tags/model"},{"inline":true,"label":"location","permalink":"/tags/location"},{"inline":true,"label":"SQL","permalink":"/tags/sql"}],"version":"current","frontMatter":{"title":"Dynamic target location","id":"dynamic-target-location","slug":"/engineers/dynamic-target-location","description":"Use a dynamic location for your target model","tags":["model","location","SQL"]},"sidebar":"mySidebar","previous":{"title":"Snowflake targets","permalink":"/engineers/snowflake-target"},"next":{"title":"Merge approach examples","permalink":"/engineers/merge-approaches"}}');var o=n(74848),i=n(28453);const r={title:"Dynamic target location",id:"dynamic-target-location",slug:"/engineers/dynamic-target-location",description:"Use a dynamic location for your target model",tags:["model","location","SQL"]},l=void 0,s={},c=[{value:"Use case",id:"use-case",level:2},{value:"Create the variable",id:"create-the-variable",level:3},{value:"Overwrite the default model location",id:"overwrite-the-default-model-location",level:3},{value:"Assign the variable a value",id:"assign-the-variable-a-value",level:3}];function d(e){const t={h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:["By default, Prophecy writes your target model to the database and schema defined in the attached fabric. You can update the location of the target model in the ",(0,o.jsx)(t.strong,{children:"Location"})," tab of the gem dialog. This page includes an example of how you can make the write location of the table dynamic."]}),"\n",(0,o.jsx)(t.h2,{id:"use-case",children:"Use case"}),"\n",(0,o.jsx)(t.p,{children:"Assume you want to use one database location during development and interactive execution, but you want to write to a different database for schedules running in production. You can use a configuration variable to do so."}),"\n",(0,o.jsx)(t.h3,{id:"create-the-variable",children:"Create the variable"}),"\n",(0,o.jsx)(t.p,{children:"First, you will have to create the variable:"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["Click ",(0,o.jsx)(t.strong,{children:"..."})," in the project header and select ",(0,o.jsx)(t.strong,{children:"Configuration"}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["Make sure you are in ",(0,o.jsx)(t.strong,{children:"Project Configuration"}),"."]}),"\n",(0,o.jsx)(t.li,{children:"Create a variable and make the default value the name of the development database you want to use during interactive execution. The value should be a string."}),"\n"]}),"\n",(0,o.jsx)(t.h3,{id:"overwrite-the-default-model-location",children:"Overwrite the default model location"}),"\n",(0,o.jsx)(t.p,{children:"Next, you need to add the variable to your target model location."}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"Open a target model gem."}),"\n",(0,o.jsxs)(t.li,{children:["Click on the ",(0,o.jsx)(t.strong,{children:"Location"})," tab."]}),"\n",(0,o.jsxs)(t.li,{children:["Enable the ",(0,o.jsx)(t.strong,{children:"Overwrite"})," toggle for the database."]}),"\n",(0,o.jsxs)(t.li,{children:["Click on ",(0,o.jsx)(t.strong,{children:"Advanced Mode"})," on the right side of the database field."]}),"\n",(0,o.jsxs)(t.li,{children:["From the dropdown that appears, select ",(0,o.jsx)(t.strong,{children:"Configuration Variable"}),"."]}),"\n",(0,o.jsx)(t.li,{children:"Choose the configuration variable you created in the previous section."}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Save"})," your changes."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Location",src:n(84631).A+"",width:"2620",height:"1508"})}),"\n",(0,o.jsx)(t.h3,{id:"assign-the-variable-a-value",children:"Assign the variable a value"}),"\n",(0,o.jsxs)(t.p,{children:["Then, let's change the variable to save to a ",(0,o.jsx)(t.strong,{children:"production"})," database."]}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"Create a job that includes your model."}),"\n",(0,o.jsxs)(t.li,{children:["Open the model configuration and add the ",(0,o.jsx)(t.strong,{children:"Supply variables to project"})," dbt property."]}),"\n",(0,o.jsx)(t.li,{children:"Add your project variable and assign it the name of the production database. This will override the default value provided when you configured the variable."}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"Now, when the job runs, your model should be stored in the production database."})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);