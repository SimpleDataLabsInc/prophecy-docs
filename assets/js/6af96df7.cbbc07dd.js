"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[13760],{28453:(e,s,t)=>{t.d(s,{R:()=>i,x:()=>l});var n=t(96540);const r={},a=n.createContext(r);function i(e){const s=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(a.Provider,{value:s},e.children)}},28635:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"analysts/development/gems/custom/rest-api","title":"RestAPI gem","description":"Call APIs from your pipeline","source":"@site/docs/analysts/development/gems/custom/rest-api.md","sourceDirName":"analysts/development/gems/custom","slug":"/analysts/rest-api","permalink":"/analysts/rest-api","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"gems","permalink":"/tags/gems"},{"inline":true,"label":"analyst","permalink":"/tags/analyst"},{"inline":true,"label":"custom","permalink":"/tags/custom"}],"version":"current","frontMatter":{"title":"RestAPI gem","sidebar_label":"RestAPI","id":"rest-api","slug":"/analysts/rest-api","description":"Call APIs from your pipeline","tags":["gems","analyst","custom"]},"sidebar":"mySidebar","previous":{"title":"SQLStatement","permalink":"/analysts/sql-statement"},"next":{"title":"Macro","permalink":"/analysts/macro"}}');var r=t(74848),a=t(28453),i=t(82824);const l={title:"RestAPI gem",sidebar_label:"RestAPI",id:"rest-api",slug:"/analysts/rest-api",description:"Call APIs from your pipeline",tags:["gems","analyst","custom"]},c=void 0,o={},d=[{value:"Use cases",id:"use-cases",level:2},{value:"Parameters",id:"parameters",level:2}];function h(e){const s={admonition:"admonition",code:"code",h2:"h2",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.A,{execution_engine:"Prophecy Automate",sql_package_name:"",sql_package_version:""}),"\n",(0,r.jsx)(s.p,{children:"Use the RestAPI gem to make API calls from your pipeline."}),"\n",(0,r.jsx)(s.h2,{id:"use-cases",children:"Use cases"}),"\n",(0,r.jsx)(s.p,{children:"While RestAPIs vary greatly in functionality, we can highlight a few use cases that may be particularly helpful for your pipelines."}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Use case"}),(0,r.jsx)(s.th,{children:"Example"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Bringing in more data from external systems"}),(0,r.jsx)(s.td,{children:"Retrieve active users from an internal user database."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Enriching data with specific APIs"}),(0,r.jsx)(s.td,{children:"Send data to LLMs to analyze text and return the sentiments of a column."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Sending notifications or alerts"}),(0,r.jsx)(s.td,{children:"Send real-time messages to a Slack channel when an event occurs in your pipeline."})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(s.p,{children:"Configure the RestAPI gem using the following parameters."}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Parameter"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"URL"}),(0,r.jsx)(s.td,{children:"The endpoint of the API that you are making a request to."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Method"}),(0,r.jsxs)(s.td,{children:["The HTTP method used for the request to determine the action performed on the resource. ",(0,r.jsx)("br",{}),"Example: ",(0,r.jsx)(s.code,{children:"GET"}),", ",(0,r.jsx)(s.code,{children:"POST"}),", ",(0,r.jsx)(s.code,{children:"PUT"}),", ",(0,r.jsx)(s.code,{children:"DELETE"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Params"}),(0,r.jsxs)(s.td,{children:["Key-value pairs that represent query parameters included in the request URL. ",(0,r.jsx)("br",{}),"Usually used for filtering, sorting, or pagination. ",(0,r.jsx)("br",{}),"Example: ",(0,r.jsx)(s.code,{children:"page:2"})," and ",(0,r.jsx)(s.code,{children:"limit:10"}),"."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Body"}),(0,r.jsxs)(s.td,{children:["The payload sent with ",(0,r.jsx)(s.code,{children:"POST"}),", ",(0,r.jsx)(s.code,{children:"PUT"}),", or ",(0,r.jsx)(s.code,{children:"PATCH"})," requests containing the data to be processed by the API. ",(0,r.jsx)("br",{}),"Typically in JSON format."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Headers"}),(0,r.jsxs)(s.td,{children:["Key-value pairs that carry additional information about the request, such as credentials or content type. ",(0,r.jsx)("br",{}),"You can use hard-coded values, configurations (pipeline parameters), or secrets."]})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["You can populate these parameters with hard-coded values, or you can reference columns. If you use a column to dynamically populate the RestAPI, Prophecy will ",(0,r.jsx)(s.strong,{children:"generate one API call per row"})," in that column. For example, if you reference a column with ",(0,r.jsx)(s.code,{children:"100"})," rows, this gem will make ",(0,r.jsx)(s.code,{children:"100"})," API calls."]}),"\n",(0,r.jsx)(s.admonition,{type:"tip",children:(0,r.jsxs)(s.p,{children:["To reference a column, use curly brackets.",(0,r.jsx)("br",{}),"\nFor example, if your dataset has a column named ",(0,r.jsx)(s.code,{children:"AccountID"}),", you can call an API like this:",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(s.code,{children:"https://api.company.com/users/{{AccountID}}"})]})})]})}function p(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},82824:(e,s,t)=>{t.d(s,{A:()=>r});t(96540);var n=t(74848);function r(e){return(0,n.jsxs)("div",{children:[e.execution_engine&&(0,n.jsx)("a",{href:"https://docs.prophecy.io/administration/fabrics/prophecy-fabrics/",children:(0,n.jsx)("span",{className:"badge badge-runtime",children:e.execution_engine})}),e.sql_package_name&&e.sql_package_version&&(0,n.jsx)("a",{href:"https://docs.prophecy.io/engineers/package-hub/",children:(0,n.jsxs)("span",{className:"badge badge-dependency",children:[e.sql_package_name," ",e.sql_package_version]})}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{})]})}}}]);