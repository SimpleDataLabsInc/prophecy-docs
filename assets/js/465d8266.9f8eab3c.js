"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[69572],{28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>d});var i=n(96540);const r={},t=i.createContext(r);function a(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(t.Provider,{value:s},e.children)}},83974:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"administration/fabrics/prophecy-fabrics/connections/snowflake","title":"Snowflake connection","description":"Learn how to connect with Snowflake","source":"@site/docs/administration/fabrics/prophecy-fabrics/connections/snowflake.md","sourceDirName":"administration/fabrics/prophecy-fabrics/connections","slug":"/administration/fabrics/prophecy-fabrics/connections/snowflake","permalink":"/administration/fabrics/prophecy-fabrics/connections/snowflake","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"connections","permalink":"/tags/connections"},{"inline":true,"label":"sql","permalink":"/tags/sql"},{"inline":true,"label":"snowflake","permalink":"/tags/snowflake"}],"version":"current","frontMatter":{"title":"Snowflake connection","sidebar_label":"Snowflake","id":"snowflake","description":"Learn how to connect with Snowflake","tags":["connections","sql","snowflake"]},"sidebar":"adminSidebar","previous":{"title":"SMTP","permalink":"/administration/fabrics/prophecy-fabrics/connections/smtp"},"next":{"title":"Tableau","permalink":"/administration/fabrics/prophecy-fabrics/connections/tableau"}}');var r=n(74848),t=n(28453);const a={title:"Snowflake connection",sidebar_label:"Snowflake",id:"snowflake",description:"Learn how to connect with Snowflake",tags:["connections","sql","snowflake"]},d=void 0,l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Feature support",id:"feature-support",level:2},{value:"Connection parameters",id:"connection-parameters",level:2},{value:"Data type mapping",id:"data-type-mapping",level:2},{value:"Limitations",id:"limitations",level:2},{value:"Sharing connections within teams",id:"sharing-connections-within-teams",level:2},{value:"Fetching data",id:"fetching-data",level:2}];function o(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.p,{children:"Learn how to set up and use a Snowflake connection in Prophecy. With a Snowflake connection, you can read from and write to your Snowflake data warehouse using Source and Target gems, browse data in the Environment browser, and run pipelines that process Snowflake data."}),"\n",(0,r.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(s.p,{children:"When you create a Snowflake connection in Prophecy, all data operations\u2014such as reading or writing\u2014are executed using the Snowflake credentials you provide. Ensure that your Snowflake user has the following permissions:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"SELECT"}),", ",(0,r.jsx)(s.code,{children:"INSERT"}),", ",(0,r.jsx)(s.code,{children:"UPDATE"}),", and ",(0,r.jsx)(s.code,{children:"DELETE"})," on the tables used in your Prophecy pipelines."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"OWNERSHIP"})," on the table, if Prophecy needs to alter or replace it."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Additionally, Prophecy writes data to Snowflake by uploading Parquet files to a stage. This requires:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"CREATE FILE FORMAT"})," in the target schema."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"USAGE"})," on any file formats used for reading/writing Parquet files."]}),"\n",(0,r.jsx)(s.li,{children:"Write access to your user stage"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"feature-support",children:"Feature support"}),"\n",(0,r.jsx)(s.p,{children:"The table below outlines whether the connection supports certain Prophecy features."}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Feature"}),(0,r.jsx)(s.th,{children:"Supported"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["Read data with a ",(0,r.jsx)(s.a,{href:"/analysts/snowflake",children:"Source gem"})]}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["Write data with a ",(0,r.jsx)(s.a,{href:"/analysts/snowflake",children:"Target gem"})]}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["Browse data in the ",(0,r.jsx)(s.a,{href:"/analysts/project-editor#sidebar",children:"Environment browser"})]}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["Index tables in the ",(0,r.jsx)(s.a,{href:"/knowledge-graph",children:"Knowledge Graph"})]}),(0,r.jsx)(s.td,{children:"No"})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"connection-parameters",children:"Connection parameters"}),"\n",(0,r.jsx)(s.p,{children:"To create a connection with Snowflake, enter the following parameters:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Parameter"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Connection Name"}),(0,r.jsx)(s.td,{children:"Name to identify your connection"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Account"}),(0,r.jsxs)(s.td,{children:["URL of your Snowflake account",(0,r.jsx)("br",{}),"Example: ",(0,r.jsx)(s.code,{children:"https://<orgname>-<account_name>.snowflakecomputing.com"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Database"}),(0,r.jsx)(s.td,{children:"Default database for reading and writing data"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Schema"}),(0,r.jsx)(s.td,{children:"Default schema for reading and writing data"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Warehouse"}),(0,r.jsx)(s.td,{children:"Name of the SQL warehouse to use for the connection"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Role"}),(0,r.jsxs)(s.td,{children:["Snowflake ",(0,r.jsx)(s.a,{href:"https://docs.snowflake.com/en/user-guide/security-access-control-overview",children:"role"})," of the user to connect",(0,r.jsx)("br",{}),"Example: ",(0,r.jsx)(s.code,{children:"ACCOUNTADMIN"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Authentication method"}),(0,r.jsxs)(s.td,{children:["Enter your Snowflake username and use a ",(0,r.jsx)(s.a,{href:"/administration/secrets/",children:"secret"})," to enter your password."]})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"data-type-mapping",children:"Data type mapping"}),"\n",(0,r.jsxs)(s.p,{children:["When Prophecy processes data from Snowflake using SQL warehouses, it converts Snowflake-specific data types to formats compatible with your target warehouse. This table shows how ",(0,r.jsx)(s.a,{href:"https://docs.snowflake.com/en/sql-reference/intro-summary-data-types",children:"Snowflake data types"})," are transformed for Databricks and BigQuery."]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Snowflake"}),(0,r.jsx)(s.th,{children:"Databricks"}),(0,r.jsx)(s.th,{children:"BigQuery"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"NUMBER"}),(0,r.jsxs)(s.td,{children:["BIGINT",(0,r.jsx)("br",{}),"Alias: Bigint"]}),(0,r.jsxs)(s.td,{children:["INT64",(0,r.jsx)("br",{}),"Alias: Integer"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"INTEGER"}),(0,r.jsxs)(s.td,{children:["BIGINT",(0,r.jsx)("br",{}),"Alias: Bigint"]}),(0,r.jsxs)(s.td,{children:["INT64",(0,r.jsx)("br",{}),"Alias: Integer"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"BIGINT"}),(0,r.jsxs)(s.td,{children:["BIGINT",(0,r.jsx)("br",{}),"Alias: Bigint"]}),(0,r.jsxs)(s.td,{children:["INT64",(0,r.jsx)("br",{}),"Alias: Integer"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"SMALLINT"}),(0,r.jsxs)(s.td,{children:["BIGINT",(0,r.jsx)("br",{}),"Alias: Bigint"]}),(0,r.jsxs)(s.td,{children:["INT64",(0,r.jsx)("br",{}),"Alias: Integer"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"TINYINT"}),(0,r.jsxs)(s.td,{children:["BIGINT",(0,r.jsx)("br",{}),"Alias: Bigint"]}),(0,r.jsxs)(s.td,{children:["INT64",(0,r.jsx)("br",{}),"Alias: Integer"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"FLOAT"}),(0,r.jsxs)(s.td,{children:["DOUBLE",(0,r.jsx)("br",{}),"Alias: Double"]}),(0,r.jsxs)(s.td,{children:["FLOAT64",(0,r.jsx)("br",{}),"Alias: Float"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"DOUBLE"}),(0,r.jsxs)(s.td,{children:["DOUBLE",(0,r.jsx)("br",{}),"Alias: Double"]}),(0,r.jsxs)(s.td,{children:["FLOAT64",(0,r.jsx)("br",{}),"Alias: Float"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"REAL"}),(0,r.jsxs)(s.td,{children:["DOUBLE",(0,r.jsx)("br",{}),"Alias: Double"]}),(0,r.jsxs)(s.td,{children:["FLOAT64",(0,r.jsx)("br",{}),"Alias: Float"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"DECIMAL"}),(0,r.jsxs)(s.td,{children:["DOUBLE",(0,r.jsx)("br",{}),"Alias: Double"]}),(0,r.jsxs)(s.td,{children:["FLOAT64",(0,r.jsx)("br",{}),"Alias: Float"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"NUMERIC"}),(0,r.jsxs)(s.td,{children:["DOUBLE",(0,r.jsx)("br",{}),"Alias: Double"]}),(0,r.jsxs)(s.td,{children:["FLOAT64",(0,r.jsx)("br",{}),"Alias: Float"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"BOOLEAN"}),(0,r.jsxs)(s.td,{children:["BOOLEAN",(0,r.jsx)("br",{}),"Alias: Boolean"]}),(0,r.jsxs)(s.td,{children:["BOOL",(0,r.jsx)("br",{}),"Alias: Boolean"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"VARCHAR"}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"CHAR"}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"STRING"}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"TEXT"}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"DATE"}),(0,r.jsxs)(s.td,{children:["DATE",(0,r.jsx)("br",{}),"Alias: Date"]}),(0,r.jsxs)(s.td,{children:["DATE",(0,r.jsx)("br",{}),"Alias: Date"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"TIME"}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]}),(0,r.jsxs)(s.td,{children:["TIME",(0,r.jsx)("br",{}),"Alias: Time"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"DATETIME"}),(0,r.jsxs)(s.td,{children:["TIMESTAMP",(0,r.jsx)("br",{}),"Alias: Timestamp"]}),(0,r.jsxs)(s.td,{children:["TIMESTAMP",(0,r.jsx)("br",{}),"Alias: Timestamp"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"TIMESTAMP_NTZ"}),(0,r.jsxs)(s.td,{children:["TIMESTAMP",(0,r.jsx)("br",{}),"Alias: Timestamp"]}),(0,r.jsxs)(s.td,{children:["TIMESTAMP",(0,r.jsx)("br",{}),"Alias: Timestamp"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"TIMESTAMP_LTZ"}),(0,r.jsxs)(s.td,{children:["TIMESTAMP",(0,r.jsx)("br",{}),"Alias: Timestamp"]}),(0,r.jsxs)(s.td,{children:["TIMESTAMP",(0,r.jsx)("br",{}),"Alias: Timestamp"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"TIMESTAMP_TZ"}),(0,r.jsxs)(s.td,{children:["TIMESTAMP",(0,r.jsx)("br",{}),"Alias: Timestamp"]}),(0,r.jsxs)(s.td,{children:["TIMESTAMP",(0,r.jsx)("br",{}),"Alias: Timestamp"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"BINARY"}),(0,r.jsxs)(s.td,{children:["BINARY",(0,r.jsx)("br",{}),"Alias: Binary"]}),(0,r.jsxs)(s.td,{children:["BYTES",(0,r.jsx)("br",{}),"Alias: Bytes"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"VARBINARY"}),(0,r.jsxs)(s.td,{children:["BINARY",(0,r.jsx)("br",{}),"Alias: Binary"]}),(0,r.jsxs)(s.td,{children:["BYTES",(0,r.jsx)("br",{}),"Alias: Bytes"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"VARIANT"}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"OBJECT"}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"ARRAY"}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"NULL"}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]}),(0,r.jsxs)(s.td,{children:["STRING",(0,r.jsx)("br",{}),"Alias: String"]})]})]})]}),"\n",(0,r.jsx)(s.admonition,{type:"info",children:(0,r.jsxs)(s.p,{children:["Learn more in ",(0,r.jsx)(s.a,{href:"/analysts/data-types",children:"Supported data types"}),"."]})}),"\n",(0,r.jsx)(s.h2,{id:"limitations",children:"Limitations"}),"\n",(0,r.jsx)(s.p,{children:"There are a few limitations on the data types you can read from Snowflake:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Prophecy reads ",(0,r.jsx)(s.code,{children:"Object"}),", ",(0,r.jsx)(s.code,{children:"Array"}),", and ",(0,r.jsx)(s.code,{children:"Variant"})," types as ",(0,r.jsx)(s.code,{children:"String"})," type."]}),"\n",(0,r.jsxs)(s.li,{children:["Prophecy does not support writing ",(0,r.jsx)(s.code,{children:"Binary"})," type columns."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"sharing-connections-within-teams",children:"Sharing connections within teams"}),"\n",(0,r.jsxs)(s.p,{children:["Connections in Prophecy are stored within ",(0,r.jsx)(s.a,{href:"/administration/fabrics/prophecy-fabrics/",children:"fabrics"}),", which are assigned to specific teams. Once a Snowflake connection is added to a fabric, all team members who have access to the fabric can use the connection in their projects. No additional authentication is required\u2014team members automatically inherit the access and permissions of the stored connection credentials."]}),"\n",(0,r.jsxs)(s.admonition,{type:"caution",children:[(0,r.jsx)(s.p,{children:"Be mindful of the access level granted by the stored credentials. Anyone on the team will have the same permissions\u2014including access to sensitive data if allowed."}),(0,r.jsx)(s.p,{children:"To manage this securely, consider creating a dedicated fabric and team for high-sensitivity connections. This way, only approved users have access to those credentials."})]}),"\n",(0,r.jsx)(s.h2,{id:"fetching-data",children:"Fetching data"}),"\n",(0,r.jsx)(s.p,{children:"Prophecy fetches data from Snowflake connections in the following ways:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["When you browse a Snowflake connection in the ",(0,r.jsx)(s.a,{href:"/analysts/pipelines",children:"Environment browser"}),", Prophecy fetches data on demand as you expand folders. You can manually refresh the Environment browser to see updated files."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"When a pipeline runs, Source gems will read the latest available version of the data. If the schema of your data in Snowflake changes, Prophecy will automatically use the new schema."}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);