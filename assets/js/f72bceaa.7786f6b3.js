"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[41460],{23963:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/agent-sql-logs-8ae4eb905ea1ca7510c297e281c09e0d.png"},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>o});var s=n(96540);const r={},a=s.createContext(r);function i(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(a.Provider,{value:t},e.children)}},43073:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"analysts/development/ai-agent/ai-transform","title":"Transform data","description":"Transform data sources using Prophecy\'s AI agent","source":"@site/docs/analysts/development/ai-agent/ai-transform.md","sourceDirName":"analysts/development/ai-agent","slug":"/analysts/ai-transform","permalink":"/analysts/ai-transform","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"analyst","permalink":"/tags/analyst"},{"inline":true,"label":"ai","permalink":"/tags/ai"},{"inline":true,"label":"agent","permalink":"/tags/agent"}],"version":"current","frontMatter":{"title":"Transform data","id":"ai-transform","slug":"/analysts/ai-transform","description":"Transform data sources using Prophecy\'s AI agent","tags":["analyst","ai","agent"]},"sidebar":"mySidebar","previous":{"title":"Explore data","permalink":"/analysts/ai-explore"},"next":{"title":"Generate expressions","permalink":"/analysts/expression-generation"}}');var r=n(74848),a=n(28453);const i={title:"Transform data",id:"ai-transform",slug:"/analysts/ai-transform",description:"Transform data sources using Prophecy's AI agent",tags:["analyst","ai","agent"]},o=void 0,l={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Provide a transformation",id:"provide-a-transformation",level:2},{value:"Inspect pipeline changes",id:"inspect-pipeline-changes",level:2},{value:"Restore a previous state of the pipeline",id:"restore-a-previous-state-of-the-pipeline",level:2},{value:"Create output tables",id:"create-output-tables",level:2},{value:"Project history",id:"project-history",level:2},{value:"Sample prompts",id:"sample-prompts",level:2}];function c(e){const t={a:"a",admonition:"admonition",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"You can use Prophecy's AI agent to generate transformations based on natural language prompts. When you describe a data operation, the agent adds the corresponding gems to the pipeline and provides a summary of the changes in the chat interface."}),"\n",(0,r.jsx)(t.p,{children:"The following sections describe how to add transformations, review modifications, and restore previous versions of the pipeline."}),"\n",(0,r.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(t.p,{children:["You need at least one ",(0,r.jsx)(t.a,{href:"/analysts/source-target",children:"Source gem"})," in your pipeline to add transformation gems with AI chat."]}),"\n",(0,r.jsx)(t.h2,{id:"provide-a-transformation",children:"Provide a transformation"}),"\n",(0,r.jsx)(t.p,{children:"To generate a transformation, enter a prompt that describes the desired data operation."}),"\n",(0,r.jsx)(t.p,{children:"The agent returns:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"One or more gems on the pipeline canvas."}),"\n",(0,r.jsx)(t.li,{children:"A description of the applied changes."}),"\n",(0,r.jsx)(t.li,{children:"Options to restore, inspect, or preview changes."}),"\n",(0,r.jsx)(t.li,{children:"A group of SQL execution logs."}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Agent SQL logs",src:n(23963).A+"",width:"2866",height:"1580"})}),"\n",(0,r.jsx)(t.h2,{id:"inspect-pipeline-changes",children:"Inspect pipeline changes"}),"\n",(0,r.jsx)(t.p,{children:"To understand the agent changes:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Select ",(0,r.jsx)(t.strong,{children:"Inspect"})," on the chat that generates a transformation."]}),"\n",(0,r.jsx)(t.li,{children:"Review the configuration panel beginning with the first modified gem. Modified gems appear in yellow."}),"\n",(0,r.jsxs)(t.li,{children:["Hover over the ",(0,r.jsx)(t.strong,{children:"Previous"})," and ",(0,r.jsx)(t.strong,{children:"Next"})," button to display a minimap of the pipeline. This shows you the specific gem you are viewing in the context of the pipeline."]}),"\n",(0,r.jsxs)(t.li,{children:["Use the ",(0,r.jsx)(t.strong,{children:"Previous"})," and ",(0,r.jsx)(t.strong,{children:"Next"})," controls to move through other modified gems in sequence."]}),"\n",(0,r.jsx)(t.li,{children:"Examine both the input and output of each gem to confirm that the transformation produces the expected result."}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Agent inspect",src:n(72244).A+"",width:"2874",height:"1606"})}),"\n",(0,r.jsx)(t.h2,{id:"restore-a-previous-state-of-the-pipeline",children:"Restore a previous state of the pipeline"}),"\n",(0,r.jsxs)(t.p,{children:["To revert changes or try another transformation from a previous state, select ",(0,r.jsx)(t.strong,{children:"Restore"})," from the reply you want to revert to in the chat history. The pipeline will match the earlier version. You can also manage versions from the main project ",(0,r.jsx)(t.a,{href:"/analysts/versioning",children:"version history"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"create-output-tables",children:"Create output tables"}),"\n",(0,r.jsx)(t.p,{children:"After adding various data transformations in your pipeline, ask the agent to save the result as a table. The agent writes the data to the default database and schema in your connected fabric. This allows you to persist results and reuse them in downstream workflows."}),"\n",(0,r.jsx)(t.h2,{id:"project-history",children:"Project history"}),"\n",(0,r.jsxs)(t.p,{children:["All changes made by the agent are saved in the project ",(0,r.jsx)(t.a,{href:"/analysts/versioning",children:"version history"}),". Commits will be clearly marked as authored by the agent."]}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsx)(t.p,{children:"If you did not save your project before interacting with the AI agent, Prophecy will automatically save your changes before the agent proceeds."})}),"\n",(0,r.jsx)(t.h2,{id:"sample-prompts",children:"Sample prompts"}),"\n",(0,r.jsx)(t.p,{children:"Here are some sample prompts that can produce transformations in your pipeline."}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Scenario"}),(0,r.jsx)(t.th,{children:"Prompt"}),(0,r.jsx)(t.th,{children:"Expected output"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Filter records"}),(0,r.jsx)(t.td,{children:'"Filter to only include customers from California"'}),(0,r.jsx)(t.td,{children:"Filter gem"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Add transformation"}),(0,r.jsx)(t.td,{children:'"Calculate the total order value as quantity * price"'}),(0,r.jsx)(t.td,{children:"Reformat gem"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Clean data"}),(0,r.jsx)(t.td,{children:'"Remove rows where email is null"'}),(0,r.jsx)(t.td,{children:"DataCleansing gem"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Aggregate data"}),(0,r.jsx)(t.td,{children:'"Group by region and calculate average sales"'}),(0,r.jsx)(t.td,{children:"Aggregate gem"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Rename columns"}),(0,r.jsx)(t.td,{children:'"Rename cust_id to customer_id and amt to amount"'}),(0,r.jsx)(t.td,{children:"Reformat gem"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Save output tables"}),(0,r.jsx)(t.td,{children:'"Show me and save the final output of the pipeline"'}),(0,r.jsx)(t.td,{children:"Table gem"})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},72244:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/agent-inspect-0099b39c76e8870c0d481bceabc50bdd.gif"}}]);