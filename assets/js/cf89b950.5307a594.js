"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[7282],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var r=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,i=function(e,t){if(null==e)return{};var a,r,i={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var a=e.components,i=e.mdxType,n=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(a),h=i,m=u["".concat(s,".").concat(h)]||u[h]||d[h]||n;return a?r.createElement(m,o(o({ref:t},c),{},{components:a})):r.createElement(m,o({ref:t},c))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var n=a.length,o=new Array(n);o[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:i,o[1]=l;for(var p=2;p<n;p++)o[p]=a[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}h.displayName="MDXCreateElement"},68080:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>n,metadata:()=>l,toc:()=>p});var r=a(87462),i=(a(67294),a(3905));const n={title:"Schedule a Pipeline",id:"schedule-Pipeline",description:"How to schedule a versioned Prophecy Pipeline on Databricks Workflows.",sidebar_position:2,tags:["Pipelines","tutorial","schedule","Job","databricksworkflow","Git","commit","pullrequest","merge","release","version"]},o=void 0,l={unversionedId:"tutorials/videos/schedule-Pipeline",id:"tutorials/videos/schedule-Pipeline",title:"Schedule a Pipeline",description:"How to schedule a versioned Prophecy Pipeline on Databricks Workflows.",source:"@site/docs/tutorials/videos/schedule-pipeline.md",sourceDirName:"tutorials/videos",slug:"/tutorials/videos/schedule-Pipeline",permalink:"/tutorials/videos/schedule-Pipeline",draft:!1,tags:[{label:"Pipelines",permalink:"/tags/pipelines"},{label:"tutorial",permalink:"/tags/tutorial"},{label:"schedule",permalink:"/tags/schedule"},{label:"Job",permalink:"/tags/job"},{label:"databricksworkflow",permalink:"/tags/databricksworkflow"},{label:"Git",permalink:"/tags/git"},{label:"commit",permalink:"/tags/commit"},{label:"pullrequest",permalink:"/tags/pullrequest"},{label:"merge",permalink:"/tags/merge"},{label:"release",permalink:"/tags/release"},{label:"version",permalink:"/tags/version"}],version:"current",sidebarPosition:2,frontMatter:{title:"Schedule a Pipeline",id:"schedule-Pipeline",description:"How to schedule a versioned Prophecy Pipeline on Databricks Workflows.",sidebar_position:2,tags:["Pipelines","tutorial","schedule","Job","databricksworkflow","Git","commit","pullrequest","merge","release","version"]},sidebar:"defaultSidebar",previous:{title:"Design a Pipeline",permalink:"/tutorials/videos/design-Pipeline"},next:{title:"Test a Pipeline",permalink:"/tutorials/videos/test-Pipeline"}},s={},p=[{value:"Summary",id:"summary",level:3},{value:"Description",id:"description",level:3},{value:"Transcript",id:"transcript",level:3},{value:"Follow along checklist",id:"follow-along-checklist",level:3}],c={toc:p},u="wrapper";function d(e){let{components:t,...a}=e;return(0,i.kt)(u,(0,r.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("div",{class:"wistia_responsive_padding",style:{padding:"56.25% 0 0 0",position:"relative"}},(0,i.kt)("div",{class:"wistia_responsive_wrapper",style:{height:"100%",left:0,position:"absolute",top:0,width:"100%"}},(0,i.kt)("iframe",{src:"https://fast.wistia.net/embed/iframe/dvayf1k9us?wtime=0s?seo=false?videoFoam=true",title:"Schedule Pipeline Video",allow:"autoplay; fullscreen",allowtransparency:"true",frameborder:"0",scrolling:"no",class:"wistia_embed",name:"wistia_embed",msallowfullscreen:!0,width:"100%",height:"100%"}))),(0,i.kt)("script",{src:"https://fast.wistia.net/assets/external/E-v1.js",async:!0}),(0,i.kt)("h3",{id:"summary"},"Summary"),(0,i.kt)("p",null,"Schedule a data Pipeline on Databricks using best software development practices."),(0,i.kt)("h3",{id:"description"},"Description"),(0,i.kt)("p",null,"Schedule a data Pipeline using best software development practices: commit to Git, pull request, merge, release a version of the Pipeline, see the scheduled Job in Databricks Workflows."),(0,i.kt)("h3",{id:"transcript"},"Transcript"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://fast.wistia.net/embed/iframe/dvayf1k9us?wtime=7s?seo=false?videoFoam=true"},"Overview"),(0,i.kt)("br",{parentName:"p"}),"\n","Welcome back! Today we\u2019ll schedule our Pipeline which is integrated with Databricks Jobs. You\u2019ll see everything is encoded on Git."),(0,i.kt)("p",null,"In the last training, we designed a Pipeline and we committed our code to Git. We started with a repository and a main branch. Prophecy created a feature branch and we committed our code to the feature branch. So the feature branch, dev/Anya, contains our Pipeline which reads a Dataset from snowflake, transforms the data, and writes a report to a Delta Catalog table."),(0,i.kt)("p",null,"Today, we\u2019ll schedule our Pipeline and commit our schedule details to our feature branch."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://fast.wistia.net/embed/iframe/dvayf1k9us?wtime=1m3s?seo=false?videoFoam=true"},"Create Schedule"),(0,i.kt)("br",{parentName:"p"}),"\n","It\u2019s very easy to design and commit to Git using best software development practices in Prophecy\u2019s low-code canvas. From our Pipeline, create a schedule to run the Pipeline at regular intervals and setup alerts."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://fast.wistia.net/embed/iframe/dvayf1k9us?wtime=1m30s?seo=false?videoFoam=true"},"Git Branches"),(0,i.kt)("br",{parentName:"p"}),"\n","Enable the Job, and prepare to release. Prophecy makes it easy for everyone to work with Git. On the left is our feature branch; on the right is our main branch. The main branch is where your final code should exist. We have done some new work, designing a new Pipeline and new schedule for the Pipeline. Let\u2019s commit our work to our feature branch."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://fast.wistia.net/embed/iframe/dvayf1k9us?wtime=1m57s?seo=false?videoFoam=true"},"Commit, pull request, merge"),(0,i.kt)("br",{parentName:"p"}),"\n","With this commit, the feature branch contains both the Pipeline and the schedule. We like our Pipeline, we want our Pipeline and schedule to be a part of the main codebase."),(0,i.kt)("p",null,"We could merge straightaway, but the best practice is to create a pull request so that our team can review our changes. Create the pull request according to your team\u2019s standards. We\u2019ve defined our pull request template in Prophecy here. If there are no further changes needed, let\u2019s merge the feature branch to the main branch."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://Prophecy-1.wistia.com/medias/dvayf1k9us?wtime=3m9s"},"Release scheduled Job and version tag"),(0,i.kt)("br",{parentName:"p"}),"\n","Now the main branch contains the Pipeline and the scheduled Job. Let\u2019s release the Job to run in Databricks and make sure everything is included in a specific version tag. That way we know exactly what Pipeline is running in our production environment."),(0,i.kt)("p",null,"We have released the Job to run in Databricks workflows. At the same time, We have created a versioned release of our codebase. So, our Pipeline and schedule are now on the main branch, and a versioned tag has been created."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://fast.wistia.net/embed/iframe/dvayf1k9us?wtime=4m9s?seo=false?videoFoam=true"},"CI/CD"),(0,i.kt)("br",{parentName:"p"}),"\n","You\u2019re probably curious if Prophecy\u2019s deployments integrate with your jenkins, Github actions, or existing deployment toolset. YES! Use Prophecy Build tool to integrate with these in-house CI/CD tools."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://fast.wistia.net/embed/iframe/dvayf1k9us?wtime=4m9s?seo=false?videoFoam=true"},"Prophecy Build Tool")," (available ",(0,i.kt)("a",{parentName:"p",href:"https://Github.com/SimpleDataLabsInc/Prophecy-build-tool"},"here"),")"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Triggers on every change that is pushed to the main branch")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Sets the variables and dependencies")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Builds the Pipelines and generates a jar or wheel file")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Runs all unit tests")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"If the tests pass, Prophecy build tool will deploy a jar or wheel file to the configured Databricks location"))),(0,i.kt)("p",null,"That concludes this training! We learned how to schedule our Pipeline, ommit to our feature branch, merge the feature branch with the main branch, release a version of our project. Now we know exactly what code will be deployed and we can see the Job running on Databricks."),(0,i.kt)("p",null,"In the next training, we\u2019ll see how to test our Pipeline.\nSee you next time!"),(0,i.kt)("h3",{id:"follow-along-checklist"},"Follow along checklist"),(0,i.kt)("p",null,"Databricks and Prophecy credentials are needed. Set Prophecy credentials while signing up for a free trial here: ",(0,i.kt)("a",{parentName:"p",href:"https://App.Prophecy.io/"},"App.Prophecy.io"),'. If you don\'t have Databricks credentials, the Prophecy app will guide you to use our "managed" Databricks cluster during your 14 day free trial.'),(0,i.kt)("p",null,"My repository is located ",(0,i.kt)("a",{parentName:"p",href:"https://Github.com/SimpleDataLabsInc/ShippingReports"},"here"),"; I just created an empty repository, designed Pipeline, scheduled, and committed the generated code from the Prophecy UI."),(0,i.kt)("p",null,"Go for it! Follow the steps outlined in the video above; ask questions on Prophecy's ",(0,i.kt)("a",{parentName:"p",href:"https://join.slack.com/t/Prophecy-io-support/shared_invite/zt-moq3xzoj-~5MSJ6WPnZfz7bwsqWi8tQ"},"Slack")))}d.isMDXComponent=!0}}]);