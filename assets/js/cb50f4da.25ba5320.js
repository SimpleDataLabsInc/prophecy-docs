"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[67808],{15680:(e,n,t)=>{t.d(n,{xA:()=>u,yg:()=>m});var o=t(96540);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,i=function(e,n){if(null==e)return{};var t,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=o.createContext({}),s=function(e){var n=o.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},u=function(e){var n=s(e.components);return o.createElement(c.Provider,{value:n},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},g=o.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=s(t),g=i,m=p["".concat(c,".").concat(g)]||p[g]||d[g]||a;return t?o.createElement(m,r(r({ref:n},u),{},{components:t})):o.createElement(m,r({ref:n},u))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,r=new Array(a);r[0]=g;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l[p]="string"==typeof e?e:i,r[1]=l;for(var s=2;s<a;s++)r[s]=t[s];return o.createElement.apply(null,r)}return o.createElement.apply(null,t)}g.displayName="MDXCreateElement"},13646:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var o=t(58168),i=(t(96540),t(15680));const a={title:"Conditional Execution in Spark",id:"conditional-execution",description:"Guide on conditional execution of a gem",tags:["Conditional","Execution"]},r=void 0,l={unversionedId:"Spark/execution/conditional-execution",id:"Spark/execution/conditional-execution",title:"Conditional Execution in Spark",description:"Guide on conditional execution of a gem",source:"@site/docs/Spark/execution/conditional-execution.md",sourceDirName:"Spark/execution",slug:"/Spark/execution/conditional-execution",permalink:"/Spark/execution/conditional-execution",draft:!1,tags:[{label:"Conditional",permalink:"/tags/conditional"},{label:"Execution",permalink:"/tags/execution"}],version:"current",frontMatter:{title:"Conditional Execution in Spark",id:"conditional-execution",description:"Guide on conditional execution of a gem",tags:["Conditional","Execution"]},sidebar:"mySidebar",previous:{title:"Data Explorer",permalink:"/Spark/execution/data-explorer"},next:{title:"Business rules",permalink:"/Spark/functions/business-rules-engine/"}},c={},s=[{value:"Configure conditions",id:"configure-conditions",level:2},{value:"Pass-through condition",id:"pass-through-condition",level:2},{value:"Removal condition",id:"removal-condition",level:2},{value:"Example: Run if input record count &gt; 0",id:"example-run-if-input-record-count--0",level:3}],u={toc:s},p="wrapper";function d(e){let{components:n,...a}=e;return(0,i.yg)(p,(0,o.A)({},u,a,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("p",null,"For granular data processing control, you can conditionally run or skip transformations within gems in your pipeline."),(0,i.yg)("p",null,"This means you can configure ",(0,i.yg)("strong",{parentName:"p"},"pass-through conditions")," on gems to dynamically control whether a transformation is executed. You also have the option to configure a ",(0,i.yg)("strong",{parentName:"p"},"removal condition")," on a gem, which not only skips the transformation but also removes the gem and all associated downstream transformations from pipeline execution."),(0,i.yg)("h2",{id:"configure-conditions"},"Configure conditions"),(0,i.yg)("p",null,"To configure a condition on a gem:"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},"Click the ",(0,i.yg)("strong",{parentName:"li"},"...")," (ellipsis) on a gem."),(0,i.yg)("li",{parentName:"ol"},"Select the ",(0,i.yg)("strong",{parentName:"li"},"Add Condition")," option."),(0,i.yg)("li",{parentName:"ol"},"Choose the ",(0,i.yg)("strong",{parentName:"li"},"Pass through condition")," or ",(0,i.yg)("strong",{parentName:"li"},"Remove condition")," option."),(0,i.yg)("li",{parentName:"ol"},"Write your condition in Scala or Python, depending on your project language.")),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"Add a condition",src:t(40094).A,width:"2620",height:"1508"})),(0,i.yg)("p",null,"When a condition is set on a gem, a (C) symbol will appear before the gem name. When a gem meets a pass-through or removed condition, the interims will not be displayed on the edges associated with that gem."),(0,i.yg)("h2",{id:"pass-through-condition"},"Pass-through condition"),(0,i.yg)("p",null,"Pass-through conditions let you skip the transformation of a gem or subgraph and maintain the input data as the output data. This ensures that the data passes through the gem or subgraph without any modification."),(0,i.yg)("p",null,"When using pass-through conditions, be aware that:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"The gem or subgraph must be connected in the pipeline, meaning it should have both an input port and an output port. This allows the data to flow through the gem."),(0,i.yg)("li",{parentName:"ul"},"Pass-through conditions are not applicable to source and target elements within the pipeline. These elements represent the data source and destination and do not involve any transformation logic.")),(0,i.yg)("h2",{id:"removal-condition"},"Removal condition"),(0,i.yg)("p",null,"When a removal condition is met, the associated gem and all of its downstream gems are excluded from the pipeline execution. Unlike pass-through conditions, you can use removal conditions on Source and Target gems."),(0,i.yg)("h3",{id:"example-run-if-input-record-count--0"},"Example: Run if input record count > 0"),(0,i.yg)("p",null,"Assume you only want to write to a target table if the input record count is greater than zero."),(0,i.yg)("p",null,"You can use a removal condition to do so:"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},"Click the ",(0,i.yg)("strong",{parentName:"li"},"...")," (ellipsis) on the Target gem."),(0,i.yg)("li",{parentName:"ol"},"Select the ",(0,i.yg)("strong",{parentName:"li"},"Add Condition")," option."),(0,i.yg)("li",{parentName:"ol"},"Note that you can only define a removal condition."),(0,i.yg)("li",{parentName:"ol"},"Use the condition ",(0,i.yg)("inlineCode",{parentName:"li"},"df_<input_gem_name>.count() > 0"),". This example is Python code."),(0,i.yg)("li",{parentName:"ol"},"Click ",(0,i.yg)("strong",{parentName:"li"},"OK")," to save.")),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"Remove condition on Target gem",src:t(12051).A,width:"2620",height:"1508"})))}d.isMDXComponent=!0},40094:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/add-condition-fc593983953825e4addfa252167c5bd7.png"},12051:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/remove-condition-2f0d921c5867ca62d56a7aef96672430.png"}}]);