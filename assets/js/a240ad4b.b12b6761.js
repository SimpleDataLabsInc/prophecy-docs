"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[11655],{28453:(e,r,t)=>{t.d(r,{R:()=>i,x:()=>c});var s=t(96540);const n={},a=s.createContext(n);function i(e){const r=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(a.Provider,{value:r},e.children)}},38059:(e,r,t)=>{t.d(r,{A:()=>s});const s=t.p+"assets/images/Secret_provider_Screen-68981c2a8e53f879ff02549a9c930f5c.png"},46529:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"administration/secret-management/secret-management-spark","title":"Secret Management For Spark Fabrics","description":"Secret Management for Spark Fabrics","source":"@site/docs/administration/secret-management/secret-management.md","sourceDirName":"administration/secret-management","slug":"/administration/secret-management/","permalink":"/administration/secret-management/","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"spark","permalink":"/tags/spark"},{"inline":true,"label":"secrets","permalink":"/tags/secrets"},{"inline":true,"label":"vault","permalink":"/tags/vault"},{"inline":true,"label":"environment","permalink":"/tags/environment"},{"inline":true,"label":"variable","permalink":"/tags/variable"},{"inline":true,"label":"databricks","permalink":"/tags/databricks"},{"inline":true,"label":"secret-provider","permalink":"/tags/secret-provider"}],"version":"current","frontMatter":{"title":"Secret Management For Spark Fabrics","id":"secret-management-spark","description":"Secret Management for Spark Fabrics","sidebar_class_name":"hidden","tags":["spark","secrets","vault","environment","variable","databricks","secret-provider"]},"sidebar":"adminSidebar","previous":{"title":"Set up SQL fabrics","permalink":"/administration/sql-fabrics/Fabrics"},"next":{"title":"Databricks Secrets","permalink":"/administration/secret-management/databricks-secrets"}}');var n=t(74848),a=t(28453),i=t(99563),c=t(89791);const o={title:"Secret Management For Spark Fabrics",id:"secret-management-spark",description:"Secret Management for Spark Fabrics",sidebar_class_name:"hidden",tags:["spark","secrets","vault","environment","variable","databricks","secret-provider"]},l=void 0,d={},h=[{value:"Secret Provider",id:"secret-provider",level:2},{value:"Using Secrets in Prophecy Managed Spark Fabrics",id:"using-secrets-in-prophecy-managed-spark-fabrics",level:2},{value:"What&#39;s next",id:"whats-next",level:2}];function p(e){const r={a:"a",admonition:"admonition",h2:"h2",img:"img",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.p,{children:"Prophecy seamlessly integrates with various data tools like data ingestion from sources like Salesforce, data enrichment through Rest APIs for data masking, and data egress to platforms like Snowflake."}),"\n",(0,n.jsx)(r.p,{children:"To ensure robust security for enterprise customers, Prophecy provides secure authentication for all data tool connections. Users can securely store credentials using centralized secret providers like Databricks Secrets or HashiCorp Vault, following best practices such as encryption."}),"\n",(0,n.jsx)(r.p,{children:"Users can connect these centralized secret providers to their Spark fabrics and access the secrets via Prophecy."}),"\n",(0,n.jsx)(r.admonition,{type:"info",children:(0,n.jsx)(r.p,{children:"Prophecy never accesses the value for any secrets, only scopes and keys to generate and execute correct code, keeping your secrets safe and out of your pipeline code committed to Git."})}),"\n",(0,n.jsx)(r.h2,{id:"secret-provider",children:"Secret Provider"}),"\n",(0,n.jsxs)(r.p,{children:["Users can create a ",(0,n.jsx)(r.strong,{children:"Secret Provider"})," in their Spark fabrics. The secrets are accessed when a pipeline is run on the cluster.\nUsers must ensure that their Spark clusters have proper access to the Secret Providers they are using."]}),"\n",(0,n.jsxs)(r.p,{children:["You can access the Secret Providers and Secrets connected to the fabric from the ",(0,n.jsx)(r.strong,{children:"(1)Secrets"})," tab in your fabric.\nThis page shows the list of all Secret Providers and the Secrets for each provider. You can directly ",(0,n.jsx)(r.strong,{children:"(2)Refresh Secrets"})," to fetch all accessible secrets or ",(0,n.jsx)(r.strong,{children:"(3)Add"})," any secret from here. There are three types of Secret Providers supported:"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"secret_screen",src:t(38059).A+"",width:"2880",height:"1084"})}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Secret Provider"}),(0,n.jsx)(r.th,{children:"Details"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.a,{href:"./databricks-secrets",children:"Databricks Secrets"})}),(0,n.jsx)(r.td,{children:"Available for Databricks fabrics Only"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.a,{href:"./hashicorp-vault",children:"HashiCorp Vault"})}),(0,n.jsx)(r.td,{children:"Available for all Spark fabrics"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.a,{href:"./env-variable",children:"Environment Variables"})}),(0,n.jsx)(r.td,{children:"Available for all Spark fabrics"})]})]})]}),"\n",(0,n.jsxs)(r.p,{children:["Once you have secrets created in fabrics, you can ",(0,n.jsx)(r.a,{href:"/administration/secret-management/using-secrets",children:"Use a secret"})," in your Source and Target gems in your pipelines directly."]}),"\n",(0,n.jsx)(r.h2,{id:"using-secrets-in-prophecy-managed-spark-fabrics",children:"Using Secrets in Prophecy Managed Spark Fabrics"}),"\n",(0,n.jsxs)(r.p,{children:["For POC and trial users exploring the product with Prophecy Managed fabrics, ",(0,n.jsx)(r.a,{href:"/administration/secret-management/databricks-secrets#managing-secrets-for-prophecy-managed-databricks",children:"Databricks Secrets"})," are supported. Users can create secrets in Prophecy Managed Databricks fabrics and use them for POC and trial purposes."]}),"\n",(0,n.jsx)(r.p,{children:"Any secrets created in Prophecy Managed Databricks Workspace will be automatically cleaned up after the POC expires."}),"\n",(0,n.jsx)(r.admonition,{type:"caution",children:(0,n.jsx)(r.p,{children:"Prophecy ensures a separate scope for each Prophecy Managed fabric, preventing access to your secrets by others during POC. However, it is not recommended to use your Production data tools for trials/POC and connect them to Prophecy Managed fabric."})}),"\n",(0,n.jsxs)(r.p,{children:["Read ",(0,n.jsx)(r.a,{href:"/administration/secret-management/databricks-secrets#managing-secrets-for-prophecy-managed-databricks",children:"here"})," for managing secrets in Prophecy Managed Databricks fabric."]}),"\n",(0,n.jsx)(r.h2,{id:"whats-next",children:"What's next"}),"\n",(0,n.jsx)(r.p,{children:"To learn more about secret management for Spark fabrics, see the following pages:"}),"\n","\n",(0,n.jsx)(i.A,{items:(0,c.$S)().items})]})}function u(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},81430:(e,r,t)=>{t.d(r,{W:()=>l});var s=t(96540),n=t(40797);const a=["zero","one","two","few","many","other"];function i(e){return a.filter((r=>e.includes(r)))}const c={locale:"en",pluralForms:i(["one","other"]),select:e=>1===e?"one":"other"};function o(){const{i18n:{currentLocale:e}}=(0,n.A)();return(0,s.useMemo)((()=>{try{return function(e){const r=new Intl.PluralRules(e);return{locale:e,pluralForms:i(r.resolvedOptions().pluralCategories),select:e=>r.select(e)}}(e)}catch(r){return console.error(`Failed to use Intl.PluralRules for locale "${e}".\nDocusaurus will fallback to the default (English) implementation.\nError: ${r.message}\n`),c}}),[e])}function l(){const e=o();return{selectMessage:(r,t)=>function(e,r,t){const s=e.split("|");if(1===s.length)return s[0];s.length>t.pluralForms.length&&console.error(`For locale=${t.locale}, a maximum of ${t.pluralForms.length} plural forms are expected (${t.pluralForms.join(",")}), but the message contains ${s.length}: ${e}`);const n=t.select(r),a=t.pluralForms.indexOf(n);return s[Math.min(a,s.length-1)]}(t,r,e)}}},89791:(e,r,t)=>{t.d(r,{$S:()=>s});t(40797);function s(){return t(56942).$S(...arguments)}},99563:(e,r,t)=>{t.d(r,{A:()=>x});t(96540);var s=t(18215),n=t(93751),a=t(56289),i=t(81430),c=t(22887),o=t(50539),l=t(9303);const d={cardContainer:"cardContainer_fWXF",cardTitle:"cardTitle_rnsV",cardDescription:"cardDescription_PWke"};var h=t(74848);function p(e){let{href:r,children:t}=e;return(0,h.jsx)(a.A,{href:r,className:(0,s.A)("card padding--lg",d.cardContainer),children:t})}function u(e){let{href:r,icon:t,title:n,description:a}=e;return(0,h.jsxs)(p,{href:r,children:[(0,h.jsxs)(l.A,{as:"h2",className:(0,s.A)("text--truncate",d.cardTitle),title:n,children:[t," ",n]}),a&&(0,h.jsx)("p",{className:(0,s.A)("text--truncate",d.cardDescription),title:a,children:a})]})}function m(e){let{item:r}=e;const t=(0,n.Nr)(r),s=function(){const{selectMessage:e}=(0,i.W)();return r=>e(r,(0,o.T)({message:"1 item|{count} items",id:"theme.docs.DocCard.categoryDescription.plurals",description:"The default description for a category card in the generated index about how many items this category includes"},{count:r}))}();return t?(0,h.jsx)(u,{href:t,icon:"\ud83d\uddc3\ufe0f",title:r.label,description:r.description??s(r.items.length)}):null}function f(e){let{item:r}=e;const t=(0,c.A)(r.href)?"\ud83d\udcc4\ufe0f":"\ud83d\udd17",s=(0,n.cC)(r.docId??void 0);return(0,h.jsx)(u,{href:r.href,icon:t,title:r.label,description:r.description??s?.description})}function g(e){let{item:r}=e;switch(r.type){case"link":return(0,h.jsx)(f,{item:r});case"category":return(0,h.jsx)(m,{item:r});default:throw new Error(`unknown item type ${JSON.stringify(r)}`)}}function b(e){let{className:r}=e;const t=(0,n.$S)();return(0,h.jsx)(x,{items:t.items,className:r})}function x(e){const{items:r,className:t}=e;if(!r)return(0,h.jsx)(b,{...e});const a=(0,n.d1)(r);return(0,h.jsx)("section",{className:(0,s.A)("row",t),children:a.map(((e,r)=>(0,h.jsx)("article",{className:"col col--6 margin-bottom--lg",children:(0,h.jsx)(g,{item:e})},r)))})}}}]);