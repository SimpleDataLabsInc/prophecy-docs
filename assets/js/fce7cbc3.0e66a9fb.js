"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[93067],{5807:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>n,toc:()=>p});const n=JSON.parse('{"id":"administration/Spark-fabrics/dataproc/gcp-dataproc-fabric-tips","title":"Connectivity Tips","description":"If your cluster doesn\'t connect, try these tips","source":"@site/docs/administration/Spark-fabrics/dataproc/dataproc-tips.md","sourceDirName":"administration/Spark-fabrics/dataproc","slug":"/administration/Spark-fabrics/dataproc/gcp-dataproc-fabric-tips","permalink":"/administration/Spark-fabrics/dataproc/gcp-dataproc-fabric-tips","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"deployment","permalink":"/tags/deployment"},{"inline":true,"label":"configuration","permalink":"/tags/configuration"},{"inline":true,"label":"google","permalink":"/tags/google"},{"inline":true,"label":"gcp","permalink":"/tags/gcp"},{"inline":true,"label":"dataproc","permalink":"/tags/dataproc"},{"inline":true,"label":"livy","permalink":"/tags/livy"}],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Connectivity Tips","id":"gcp-dataproc-fabric-tips","description":"If your cluster doesn\'t connect, try these tips","sidebar_position":1,"tags":["deployment","configuration","google","gcp","dataproc","livy"]},"sidebar":"adminSidebar","previous":{"title":"Google Cloud Dataproc","permalink":"/administration/Spark-fabrics/dataproc/"},"next":{"title":"Diagnostics","permalink":"/administration/Spark-fabrics/fabric-diagnostics"}}');var i=t(74848),o=t(28453);const a={title:"Connectivity Tips",id:"gcp-dataproc-fabric-tips",description:"If your cluster doesn't connect, try these tips",sidebar_position:1,tags:["deployment","configuration","google","gcp","dataproc","livy"]},s=void 0,c={},p=[{value:"Error",id:"error",level:3},{value:"Corrective Actions",id:"corrective-actions",level:3}];function l(e){const r={a:"a",admonition:"admonition",br:"br",code:"code",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.admonition,{type:"tip",children:(0,i.jsx)(r.p,{children:"Sometimes the Livy Cluster cannot access the Scala or Python libraries."})}),"\n",(0,i.jsx)(r.h3,{id:"error",children:"Error"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:'Creating new Livy Session...\nUsing prophecy libs path...repo1.maven.org...\nUsing python libraries...files.pythonhosted.org...\n...\norg.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\\n\\nYARN Diagnostics: ","level":"error"\n'})}),"\n",(0,i.jsx)(r.h3,{id:"corrective-actions",children:"Corrective Actions"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Option 1:"}),(0,i.jsx)(r.br,{}),"\n","Adjust network settings on the Livy Cluster to allow traffic from the Scala Prophecy Library url\n",(0,i.jsx)(r.code,{children:"repo1.maven.org"})," and the Python Prophecy Library url\n",(0,i.jsx)(r.code,{children:"files.pythonhosted.org"}),"."]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Option 2:"}),(0,i.jsx)(r.br,{}),"\n","Configure the Scala and Python Library Paths as mentioned ",(0,i.jsx)(r.a,{href:"/administration/Spark-fabrics/dataproc/",children:"here"}),".",(0,i.jsx)(r.br,{}),"\n","Configure Scala Library Path.\n",(0,i.jsx)(r.code,{children:"gs://prophecy-public-gcp/prophecy-scala-libs/"}),".",(0,i.jsx)(r.br,{}),"\n","Configure Python Library Path.\n",(0,i.jsx)(r.code,{children:"gs://prophecy-public-gcp/prophecy-python-libs/"}),"."]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Option 3:"}),(0,i.jsx)(r.br,{}),"\n","Setup an GCS bucket internally. Create two folders as in the previous option, and add ",(0,i.jsx)(r.code,{children:"prophecy-scala-libs"})," and ",(0,i.jsx)(r.code,{children:"prophecy-python-libs"})," in those folders."]})]})}function d(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,r,t)=>{t.d(r,{R:()=>a,x:()=>s});var n=t(96540);const i={},o=n.createContext(i);function a(e){const r=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(o.Provider,{value:r},e.children)}}}]);