"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[46815],{9684:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/config-subgraph-66b629a002167541c9fd2b382b1a61b1.png"},12312:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/configuration-interactive-run-cb13245d8c276389669142b85f0fb18a.png"},14354:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/config-scala-code-0e5454c19dcf034f3a2c18b7fadbbeeb.png"},28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var t=i(96540);const r={},s=t.createContext(r);function a(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(s.Provider,{value:n},e.children)}},37244:(e,n,i)=>{i.d(n,{A:()=>w});var t=i(96540),r=i(18215),s=i(44319),a=i(56347),o=i(94280),l=i(73024),c=i(58417),d=i(44031);function h(e){return t.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function u(e){const{values:n,children:i}=e;return(0,t.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:i,default:t}})=>({value:e,label:n,attributes:i,default:t}))}(i);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,i])}function f({value:e,tabValues:n}){return n.some(n=>n.value===e)}function p({queryString:e=!1,groupId:n}){const i=(0,a.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(r),(0,t.useCallback)(e=>{if(!r)return;const n=new URLSearchParams(i.location.search);n.set(r,e),i.replace({...i.location,search:n.toString()})},[r,i])]}function g(e){const{defaultValue:n,queryString:i=!1,groupId:r}=e,s=u(e),[a,l]=(0,t.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!f({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const i=n.find(e=>e.default)??n[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:s})),[c,h]=p({queryString:i,groupId:r}),[g,x]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[i,r]=(0,d.Dv)(n);return[i,(0,t.useCallback)(e=>{n&&r.set(e)},[n,r])]}({groupId:r}),j=(()=>{const e=c??g;return f({value:e,tabValues:s})?e:null})();(0,o.A)(()=>{j&&l(j)},[j]);return{selectedValue:a,selectValue:(0,t.useCallback)(e=>{if(!f({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),x(e)},[h,x,s]),tabValues:s}}var x=i(46916);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=i(74848);function v({className:e,block:n,selectedValue:i,selectValue:t,tabValues:a}){const o=[],{blockElementScrollPositionUntilNextRender:l}=(0,s.a_)(),c=e=>{const n=e.currentTarget,r=o.indexOf(n),s=a[r].value;s!==i&&(l(n),t(s))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const i=o.indexOf(e.currentTarget)+1;n=o[i]??o[0];break}case"ArrowLeft":{const i=o.indexOf(e.currentTarget)-1;n=o[i]??o[o.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:t})=>(0,b.jsx)("li",{role:"tab",tabIndex:i===e?0:-1,"aria-selected":i===e,ref:e=>{o.push(e)},onKeyDown:d,onClick:c,...t,className:(0,r.A)("tabs__item",j.tabItem,t?.className,{"tabs__item--active":i===e}),children:n??e},e))})}function m({lazy:e,children:n,selectedValue:i}){const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===i);return e?(0,t.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==i}))})}function y(e){const n=g(e);return(0,b.jsxs)("div",{className:(0,r.A)("tabs-container",j.tabList),children:[(0,b.jsx)(v,{...n,...e}),(0,b.jsx)(m,{...n,...e})]})}function w(e){const n=(0,x.A)();return(0,b.jsx)(y,{...e,children:h(e.children)},String(n))}},55624:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/project-pipeline-config-4ab228bec9bc5dc9347033011ee84939.png"},56140:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/config-python-code-6afc0cd2451bb2f1d1dc8cb45de9380a.png"},56778:(e,n,i)=>{i.d(n,{A:()=>a});i(96540);var t=i(18215);const r={tabItem:"tabItem_Ymn6"};var s=i(74848);function a({children:e,hidden:n,className:i}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,t.A)(r.tabItem,i),hidden:n,children:e})}},76817:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>f,frontMatter:()=>l,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"Spark/pipelines/configuration","title":"Configurations","description":"Control how a pipeline behaves during execution","source":"@site/docs/Spark/pipelines/configuration.md","sourceDirName":"Spark/pipelines","slug":"/engineers/configurations","permalink":"/engineers/configurations","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"spark","permalink":"/tags/spark"},{"inline":true,"label":"development","permalink":"/tags/development"},{"inline":true,"label":"config","permalink":"/tags/config"},{"inline":true,"label":"variable","permalink":"/tags/variable"}],"version":"current","frontMatter":{"title":"Configurations","id":"configuration","slug":"/engineers/configurations","description":"Control how a pipeline behaves during execution","tags":["spark","development","config","variable"]},"sidebar":"mySidebar","previous":{"title":"Pipelines","permalink":"/engineers/pipelines"},"next":{"title":"Secrets in configurations","permalink":"/engineers/pipeline-configuration-secrets"}}');var r=i(74848),s=i(28453),a=i(37244),o=i(56778);const l={title:"Configurations",id:"configuration",slug:"/engineers/configurations",description:"Control how a pipeline behaves during execution",tags:["spark","development","config","variable"]},c=void 0,d={},h=[{value:"Configuration hierarchy",id:"configuration-hierarchy",level:2},{value:"Project and pipeline configurations",id:"project-and-pipeline-configurations",level:2},{value:"Schema tab",id:"schema-tab",level:3},{value:"Config tab",id:"config-tab",level:3},{value:"Configuration instances",id:"configuration-instances",level:4},{value:"Set configuration values",id:"set-configuration-values",level:4},{value:"Override project-level configs",id:"override-project-level-configs",level:4},{value:"Use configuration variables",id:"use-configuration-variables",level:2},{value:"Syntax for Source and Target gems",id:"syntax-for-source-and-target-gems",level:3},{value:"Syntax for different languages",id:"syntax-for-different-languages",level:3},{value:"Runtime configuration",id:"runtime-configuration",level:2},{value:"Interactive execution",id:"interactive-execution",level:3},{value:"Job execution",id:"job-execution",level:3},{value:"Subgraph configurations",id:"subgraph-configurations",level:2},{value:"Code",id:"code",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"A configuration is a set of predefined variables and values that control how a data pipeline behaves during execution. By using configurations, you can dynamically adapt a pipeline to different environments or scenarios without modifying the pipeline itself."}),"\n",(0,r.jsx)(n.h2,{id:"configuration-hierarchy",children:"Configuration hierarchy"}),"\n",(0,r.jsx)(n.p,{children:"Configurations are hierarchical and can be defined at the following levels:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Project"}),": Shared across all pipelines in a project."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pipeline"}),": Overrides or extends project-level variables for a specific pipeline."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Subgraph"}),": Local to a subgraph, with options to inherit from parent pipelines."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Job"}),": Specifies the configuration to use when running pipelines in production."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"project-and-pipeline-configurations",children:"Project and pipeline configurations"}),"\n",(0,r.jsx)(n.p,{children:"Each pipeline has access to two types of configurations:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Project configuration"}),": Defines global variables that are shared across all pipelines in the project."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pipeline configuration"}),": Defines variables specific to the current pipeline and can override project-level values."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["To view or edit these configurations, click the ",(0,r.jsx)(n.strong,{children:"Config"})," button in the pipeline header. Each configuration includes two tabs:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#schema-tab",children:"Schema"}),": Define the structure and data types for your configuration variables."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#config-tab",children:"Config"}),": Set the values for each variable and create configuration instances for different environments."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"You can access the project configuration from any pipeline."})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Pipeline schema",src:i(55624).A+"",width:"2870",height:"1608"})}),"\n",(0,r.jsx)(n.h3,{id:"schema-tab",children:"Schema tab"}),"\n",(0,r.jsx)(n.p,{children:"In the Schema tab, you define the variables you want to use. The following table lists the information to define each variable."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Name"}),(0,r.jsx)(n.td,{children:"The unique identifier for the variable."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Type"}),(0,r.jsx)(n.td,{children:"The data type assigned to the variable. Supported types are listed below."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Optional"}),(0,r.jsx)(n.td,{children:"Indicates whether the variable is optional. If unchecked, you must provide a default value for the config."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Description"}),(0,r.jsx)(n.td,{children:"An optional text field to provide additional context or details about the variable."})]})]})]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Expand to see the list of supported data types"}),(0,r.jsx)(n.p,{children:"Prophecy supports the following data types for configs."}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Data type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"A plain text value, entered via a single-line text input."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})}),(0,r.jsx)(n.td,{children:"A true or false value, selected from a dropdown."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date"})}),(0,r.jsxs)(n.td,{children:["A calendar date in ",(0,r.jsx)(n.code,{children:"dd-mm-yyyy"})," format, chosen using a date picker."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"timestamp"})}),(0,r.jsxs)(n.td,{children:["A specific date and time in ",(0,r.jsx)(n.code,{children:"dd-mm-yyyyTHH:MM:SSZ+z"})," format (with time zone), selected using a datetime picker."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"double"})}),(0,r.jsx)(n.td,{children:"A 64-bit floating-point number entered in a numeric field."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"float"})}),(0,r.jsx)(n.td,{children:"A 32-bit floating-point number entered in a numeric field."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsx)(n.td,{children:"A 32-bit integer entered in a numeric field."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"long"})}),(0,r.jsx)(n.td,{children:"A 64-bit integer entered in a numeric field."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"short"})}),(0,r.jsx)(n.td,{children:"A 16-bit integer entered in a numeric field."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"array"})}),(0,r.jsx)(n.td,{children:"A list of values of the same type, added one by one in a multi-value input field."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"record"})}),(0,r.jsx)(n.td,{children:"A structured object with multiple named fields, configured through a nested group of inputs."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"secret"})}),(0,r.jsx)(n.td,{children:"A sensitive string (like a password or token), selected from your fabric's list of pre-configured secrets."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"spark_expression"})}),(0,r.jsx)(n.td,{children:"A Spark SQL expression, written in a code editor with syntax highlighting."})]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"config-tab",children:"Config tab"}),"\n",(0,r.jsx)(n.p,{children:"The Config tab allows you to set values for the variables defined in your schema and create multiple configuration instances for different environments or use cases. Each configuration instance maintains its own set of values while inheriting the same schema structure."}),"\n",(0,r.jsx)(n.h4,{id:"configuration-instances",children:"Configuration instances"}),"\n",(0,r.jsxs)(n.p,{children:["At the top of the Config tab, use the dropdown menu to switch between configuration instances. Every project and pipeline includes a ",(0,r.jsx)(n.code,{children:"default"})," configuration that provides default values for all defined variables. You can create additional instances (such as ",(0,r.jsx)(n.code,{children:"prod"})," for production) with alternate values, while reusing the same schema."]}),"\n",(0,r.jsx)(n.p,{children:"To create a new configuration instance:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Open the config dropdown."}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"New Configuration"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["In the ",(0,r.jsx)(n.strong,{children:"Instance Name"})," field, name your instance."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Create"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Add new values or maintain the default values from the ",(0,r.jsx)(n.code,{children:"default"})," config."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Save"})," to save the new values in the config."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"set-configuration-values",children:"Set configuration values"}),"\n",(0,r.jsx)(n.p,{children:"In the Config tab, you'll also see a form with all the variables you defined in the Schema tab. Each variable appears as an input field that matches its data type, for example:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Text fields for string variables"}),"\n",(0,r.jsx)(n.li,{children:"Numeric inputs for integer, float, and other numeric types"}),"\n",(0,r.jsx)(n.li,{children:"Dropdowns for boolean values"}),"\n",(0,r.jsx)(n.li,{children:"Date/time pickers for temporal data types"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"If a variable in the schema is not optional, you must add a default value in the Config tab."}),"\n",(0,r.jsx)(n.h4,{id:"override-project-level-configs",children:"Override project-level configs"}),"\n",(0,r.jsxs)(n.p,{children:["Pipelines inherit configuration values from the project-level ",(0,r.jsx)(n.code,{children:"default"})," configuration. To change these values for a specific pipeline, create a new configuration instance for that pipeline. Within this instance, you can override any inherited values as needed. The ",(0,r.jsx)(n.code,{children:"default"})," pipeline configuration always reflects the project-level default values."]}),"\n",(0,r.jsx)(n.h2,{id:"use-configuration-variables",children:"Use configuration variables"}),"\n",(0,r.jsx)(n.p,{children:"When you want to call configuration variables in your pipeline, reference them using Jinja syntax."}),"\n",(0,r.jsx)(n.p,{children:"You can use the following syntax examples for accessing elements of array and record fields:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["For a string: ",(0,r.jsx)(n.code,{children:"{{ config_name }}"})]}),"\n",(0,r.jsxs)(n.li,{children:["For an array: ",(0,r.jsx)(n.code,{children:"{{ config1.array_config[23] }}"})]}),"\n",(0,r.jsxs)(n.li,{children:["For a record: ",(0,r.jsx)(n.code,{children:"{{ record1.record2.field1 }}"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Jinja is enabled by default in new pipelines. You can disable Jinja support in ",(0,r.jsx)(n.strong,{children:"Pipeline Settings > Enable Jinja-based configuration"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"syntax-for-source-and-target-gems",children:"Syntax for Source and Target gems"}),"\n",(0,r.jsxs)(n.p,{children:["To use configuration variables for specifying file locations for Source and Target gems, use the following syntax: ",(0,r.jsx)(n.code,{children:"${config_variable_name}"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Jinja syntax is not supported for Source and Target gems."}),"\n",(0,r.jsx)(n.h3,{id:"syntax-for-different-languages",children:"Syntax for different languages"}),"\n",(0,r.jsxs)(n.p,{children:["Depending on the Visual Language configured in your ",(0,r.jsx)(n.a,{href:"/engineers/pipeline-settings",children:"Pipeline Settings"}),", you can also use that language's syntax to call variables."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Visual Language"}),(0,r.jsx)(n.th,{children:"Syntax"}),(0,r.jsx)(n.th,{children:"Expression usage"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"SQL"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'$config_name'"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expr('$config_name')"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Scala"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Config.config_name"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expr(Config.config_name)"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Python"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Config.config_name"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expr(Config.config_name)"})})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"runtime-configuration",children:"Runtime configuration"}),"\n",(0,r.jsx)(n.p,{children:"After defining your configuration schema and setting up configuration instances, you need to specify which configuration to use when your pipeline actually runs. This process differs depending on the type of pipeline execution."}),"\n",(0,r.jsx)(n.h3,{id:"interactive-execution",children:"Interactive execution"}),"\n",(0,r.jsx)(n.p,{children:"For development and testing purposes, you can run pipelines interactively within the Prophecy interface. To control which configuration is used during these interactive runs:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Open the ",(0,r.jsx)(n.strong,{children:"Pipeline Settings"})," from the project editor."]}),"\n",(0,r.jsxs)(n.li,{children:["Navigate to the ",(0,r.jsx)(n.strong,{children:"Run Settings"})," section."]}),"\n",(0,r.jsx)(n.li,{children:"Select the appropriate configuration from the list of existing configs."}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Save"})," your changes."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Interactive runs use the ",(0,r.jsx)(n.code,{children:"default"})," config by default."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Choose config for interactive run",src:i(12312).A+"",width:"2620",height:"1162"})}),"\n",(0,r.jsx)(n.h3,{id:"job-execution",children:"Job execution"}),"\n",(0,r.jsx)(n.p,{children:"When deploying pipelines to production environments, you typically run them as scheduled jobs rather than interactive executions. To specify your configuration values for jobs:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Add a Pipeline gem to the job canvas."}),"\n",(0,r.jsx)(n.li,{children:"Open the Pipeline gem."}),"\n",(0,r.jsxs)(n.li,{children:["For the ",(0,r.jsx)(n.strong,{children:"Pipeline to schedule"})," field, choose the appropriate pipeline."]}),"\n",(0,r.jsxs)(n.li,{children:["In the ",(0,r.jsx)(n.strong,{children:"Schema"})," tab, review the schema that has been inherited from the project and pipeline configs."]}),"\n",(0,r.jsx)(n.li,{children:"Change the selected project and pipeline configs, or keep the default."}),"\n",(0,r.jsxs)(n.li,{children:["If required, switch to the ",(0,r.jsx)(n.strong,{children:"Config"})," tab to override inherited values."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Choose config for job execution",src:i(80897).A+"",width:"2812",height:"900"})}),"\n",(0,r.jsx)(n.h2,{id:"subgraph-configurations",children:"Subgraph configurations"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/engineers/subgraph",children:"Subgraphs"})," can have their own dedicated configurations that control behavior within the subgraph's scope. This allows you to create reusable pipeline components with their own configurable parameters. To add configs to a subgraph:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Open the subgraph."}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"+ Config"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["In the ",(0,r.jsx)(n.strong,{children:"Schema"})," tab, review the config schema. This might already included inherited project configuration variables."]}),"\n",(0,r.jsxs)(n.li,{children:["To overwrite pipeline configuration variable definitions, click ",(0,r.jsx)(n.strong,{children:"Copy Pipeline Configs"})," in this tab."]}),"\n",(0,r.jsxs)(n.li,{children:["Open the ",(0,r.jsx)(n.strong,{children:"Config"})," tab."]}),"\n",(0,r.jsx)(n.li,{children:"Define and save a set of values as a config."}),"\n",(0,r.jsx)(n.li,{children:"Change the selected project and pipeline configs, or keep the default."}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Save"})," your changes."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Subgraph configuration",src:i(9684).A+"",width:"2812",height:"900"})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Upon creation, subgraph configurations will also be included in the pipeline configurations. Both the schema and config values for subgraphs can be edited from the pipeline configuration dialog."})}),"\n",(0,r.jsx)(n.h2,{id:"code",children:"Code"}),"\n",(0,r.jsx)(n.p,{children:"All configuration instances and values are automatically converted to code."}),"\n","\n",(0,r.jsxs)(a.A,{children:[(0,r.jsxs)(o.A,{value:"scala",label:"Scala configuration code",children:[(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Open ",(0,r.jsx)(n.code,{children:"Config.scala"})," in the ",(0,r.jsx)(n.code,{children:"<pipeline-path>/config"})," folder."]}),"\n",(0,r.jsx)(n.li,{children:"View the default configuration code."}),"\n",(0,r.jsxs)(n.li,{children:["Find additional configurations that are packaged as JSON files in the ",(0,r.jsx)(n.code,{children:"resources/config"})," folder."]}),"\n"]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Config scala code",src:i(14354).A+"",width:"2620",height:"1508"})})]}),(0,r.jsxs)(o.A,{value:"py",label:"Python configuration code",children:[(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Open ",(0,r.jsx)(n.code,{children:"Config.py"})," in the ",(0,r.jsx)(n.code,{children:"<pipeline>/config"})," folder."]}),"\n",(0,r.jsx)(n.li,{children:"View the default configuration code."}),"\n",(0,r.jsxs)(n.li,{children:["Find additional configurations that are packaged as JSON files in the ",(0,r.jsx)(n.code,{children:"configs/resources/config"})," folder."]}),"\n"]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Config python code",src:i(56140).A+"",width:"2620",height:"1508"})})]})]})]})}function f(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},80897:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/configuration-job-f899f2af1bbbeb3699b03e7178a46d5e.png"}}]);