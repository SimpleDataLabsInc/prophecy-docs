"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[15725],{10538:(e,n,i)=>{i.d(n,{W:()=>a});var s=i(96540),t=i(22777);const r=["zero","one","two","few","many","other"];function l(e){return r.filter(n=>e.includes(n))}const o={locale:"en",pluralForms:l(["one","other"]),select:e=>1===e?"one":"other"};function c(){const{i18n:{currentLocale:e}}=(0,t.A)();return(0,s.useMemo)(()=>{try{return function(e){const n=new Intl.PluralRules(e);return{locale:e,pluralForms:l(n.resolvedOptions().pluralCategories),select:e=>n.select(e)}}(e)}catch(n){return console.error(`Failed to use Intl.PluralRules for locale "${e}".\nDocusaurus will fallback to the default (English) implementation.\nError: ${n.message}\n`),o}},[e])}function a(){const e=c();return{selectMessage:(n,i)=>function(e,n,i){const s=e.split("|");if(1===s.length)return s[0];s.length>i.pluralForms.length&&console.error(`For locale=${i.locale}, a maximum of ${i.pluralForms.length} plural forms are expected (${i.pluralForms.join(",")}), but the message contains ${s.length}: ${e}`);const t=i.select(n),r=i.pluralForms.indexOf(t);return s[Math.min(r,s.length-1)]}(i,n,e)}}},23678:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>c,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"analysts/scheduling/scheduling","title":"Scheduling","description":"Automate your pipeline runs using schedules","source":"@site/docs/analysts/scheduling/scheduling.md","sourceDirName":"analysts/scheduling","slug":"/analysts/scheduling","permalink":"/analysts/scheduling","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"schedule","permalink":"/tags/schedule"},{"inline":true,"label":"automate","permalink":"/tags/automate"}],"version":"current","frontMatter":{"title":"Scheduling","id":"scheduling","slug":"/analysts/scheduling","description":"Automate your pipeline runs using schedules","tags":["schedule","automate"]},"sidebar":"platformSidebar","previous":{"title":"Import projects","permalink":"/analysts/import-projects"},"next":{"title":"Set up schedule","permalink":"/analysts/schedule-setup"}}');var t=i(74848),r=i(28453),l=i(25382),o=i(53051);const c={title:"Scheduling",id:"scheduling",slug:"/analysts/scheduling",description:"Automate your pipeline runs using schedules",tags:["schedule","automate"]},a=void 0,d={},u=[{value:"Overview",id:"overview",level:2},{value:"Schedule activation",id:"schedule-activation",level:2},{value:"Monitor scheduled pipelines",id:"monitor-scheduled-pipelines",level:2},{value:"Authentication lifespan",id:"authentication-lifespan",level:2},{value:"What&#39;s next",id:"whats-next",level:2}];function h(e){const n={a:"a",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Prophecy supports the following ways to automate pipeline execution."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Built-in scheduler"}),": Use ",(0,t.jsx)(n.a,{href:"/administration/architecture/",children:"Prophecy Automate"})," to orchestrate pipelines directly in the UI."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Pipeline gem"}),": Configure the ",(0,t.jsx)(n.a,{href:"/analysts/pipeline-trigger-gem",children:"Pipeline gem"})," to start pipeline runs from a gem in the canvas."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"API-based automation"}),": Call the ",(0,t.jsx)(n.a,{href:"/api/trigger-pipeline/trigger-pipeline-api",children:"Trigger Pipeline API"})," to start pipelines from external systems."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["This page describes how to use the ",(0,t.jsx)(n.strong,{children:"built-in scheduler"})," in SQL projects."]}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:["In Prophecy, a schedule automates the execution of a single pipeline in a project. Scheduled pipelines run in ",(0,t.jsx)(n.a,{href:"/administration/fabrics/prophecy-fabrics/",children:"fabrics"})," (execution environments) that are defined during project publication. Each schedule defines:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["When the pipeline should run. Prophecy supports time-based or file-based ",(0,t.jsx)(n.a,{href:"/analysts/triggers",children:"triggers"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Optional ",(0,t.jsx)(n.a,{href:"/analysts/schedule-email-alerts",children:"email alerts"})," to report the outcome of the pipeline run."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"To schedule multiple pipelines, create a separate schedule for each one. You can enable or disable schedules individually, but enabling a schedule doesn\u2019t activate it. An enabled schedule becomes active only when the parent project is published. Similarly, disabling a schedule also requires republishing the project, since schedule status is part of the deployment configuration."}),"\n",(0,t.jsx)(n.h2,{id:"schedule-activation",children:"Schedule activation"}),"\n",(0,t.jsxs)(n.p,{children:["Enabling a schedule in your project doesn't immediately activate it. For a schedule to take effect, you must first ",(0,t.jsx)(n.a,{href:"/analysts/project-publication",children:"publish the project"}),". This is because publishing defines how and where scheduled pipelines are deployed and executed."]}),"\n",(0,t.jsx)(n.p,{children:"When you publish a project, you do two key things:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Select one or more fabrics. These are the environments where scheduled pipelines will run. A separate deployment is created for each fabric \u2014 publishing to one fabric does not affect other deployments."}),"\n",(0,t.jsxs)(n.p,{children:["If you do not select any fabrics during project publication, ",(0,t.jsx)(n.strong,{children:"no deployments will be created"}),". As a result, no scheduled executions will occur, even if a schedule has been configured."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Specify the project version. This version will be deployed to the fabric. You can either create a new version or deploy a previously published version."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Scheduling flow",src:i(65463).A+"",width:"2964",height:"750"})}),"\n",(0,t.jsx)(n.h2,{id:"monitor-scheduled-pipelines",children:"Monitor scheduled pipelines"}),"\n",(0,t.jsxs)(n.p,{children:["You and your team members might have many scheduled pipelines in your Prophecy environment. The ",(0,t.jsx)(n.a,{href:"/analysts/monitoring",children:"Observability"})," interface in Prophecy includes the following information:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"List of deployed projects"}),"\n",(0,t.jsx)(n.li,{children:"List of pipeline schedules per fabric"}),"\n",(0,t.jsx)(n.li,{children:"History of pipeline runs and run status"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"You'll only see information about projects owned by your teams."}),"\n",(0,t.jsx)(n.h2,{id:"authentication-lifespan",children:"Authentication lifespan"}),"\n",(0,t.jsx)(n.p,{children:"Scheduled pipelines run without human intervention, which makes them vulnerable to failures caused by expired or invalid credentials. If Prophecy cannot authenticate a connection used by the pipeline due to an error such as an expired token or deleted user, the pipeline run will fail."}),"\n",(0,t.jsx)(n.p,{children:"This risk increases in complex environments where:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Pipelines depend on multiple external data sources."}),"\n",(0,t.jsx)(n.li,{children:"The same schedule is deployed across multiple fabrics."}),"\n",(0,t.jsx)(n.li,{children:"Fabrics store different credentials for the same connection."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["To ensure reliable scheduled runs, only deploy to fabrics that use connection credentials that won\u2019t expire unexpectedly. For Databricks connections, ",(0,t.jsx)(n.a,{href:"/administration/fabrics/prophecy-fabrics/connections/databricks#authentication-methods",children:"consider using a service principal"})," for authentication. Service principals are designed for authorizing access to Databricks resources when running unattended processes."]}),"\n",(0,t.jsx)(n.h2,{id:"whats-next",children:"What's next"}),"\n",(0,t.jsx)(n.p,{children:"To learn more about using the Prophecy-native scheduler, explore the following pages."}),"\n","\n",(0,t.jsx)(l.A,{items:(0,o.$S)().items})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},25382:(e,n,i)=>{i.d(n,{A:()=>k});i(96540);var s=i(18215),t=i(56971);function r(e){var n,i,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(i=r(e[n]))&&(s&&(s+=" "),s+=i);else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}const l=function(){for(var e,n,i=0,s="";i<arguments.length;)(e=arguments[i++])&&(n=r(e))&&(s&&(s+=" "),s+=n);return s};var o=i(68957),c=i(10538),a=i(33091),d=i(45122),u=i(72128);const h={cardContainer:"cardContainer_S8oU",cardTitle:"cardTitle_HoSo",cardDescription:"cardDescription_c27F",icon:"icon_hr_D"};var p=i(74848);const m=()=>(0,p.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M14 2.26953V6.40007C14 6.96012 14 7.24015 14.109 7.45406C14.2049 7.64222 14.3578 7.7952 14.546 7.89108C14.7599 8.00007 15.0399 8.00007 15.6 8.00007H19.7305M14 17H8M16 13H8M20 9.98822V17.2C20 18.8802 20 19.7202 19.673 20.362C19.3854 20.9265 18.9265 21.3854 18.362 21.673C17.7202 22 16.8802 22 15.2 22H8.8C7.11984 22 6.27976 22 5.63803 21.673C5.07354 21.3854 4.6146 20.9265 4.32698 20.362C4 19.7202 4 18.8802 4 17.2V6.8C4 5.11984 4 4.27976 4.32698 3.63803C4.6146 3.07354 5.07354 2.6146 5.63803 2.32698C6.27976 2 7.11984 2 8.8 2H12.0118C12.7455 2 13.1124 2 13.4577 2.08289C13.7638 2.15638 14.0564 2.27759 14.3249 2.44208C14.6276 2.6276 14.887 2.88703 15.4059 3.40589L18.5941 6.59411C19.113 7.11297 19.3724 7.3724 19.5579 7.67515C19.7224 7.94356 19.8436 8.2362 19.9171 8.5423C20 8.88757 20 9.25445 20 9.98822Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),f=()=>(0,p.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M13 7L11.8845 4.76892C11.5634 4.1268 11.4029 3.80573 11.1634 3.57116C10.9516 3.36373 10.6963 3.20597 10.4161 3.10931C10.0992 3 9.74021 3 9.02229 3H5.2C4.0799 3 3.51984 3 3.09202 3.21799C2.71569 3.40973 2.40973 3.71569 2.21799 4.09202C2 4.51984 2 5.0799 2 6.2V7M2 7H17.2C18.8802 7 19.7202 7 20.362 7.32698C20.9265 7.6146 21.3854 8.07354 21.673 8.63803C22 9.27976 22 10.1198 22 11.8V16.2C22 17.8802 22 18.7202 21.673 19.362C21.3854 19.9265 20.9265 20.3854 20.362 20.673C19.7202 21 18.8802 21 17.2 21H6.8C5.11984 21 4.27976 21 3.63803 20.673C3.07354 20.3854 2.6146 19.9265 2.32698 19.362C2 18.7202 2 17.8802 2 16.2V7Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});function g({className:e,href:n,children:i}){return(0,p.jsx)(o.A,{href:n,className:l("card padding--lg",h.cardContainer,e),children:i})}function x({className:e,href:n,icon:i,title:s,description:t}){return(0,p.jsxs)(g,{href:n,className:e,children:[(0,p.jsxs)(u.A,{as:"h2",className:h.cardTitle,title:s,children:[(0,p.jsx)("span",{className:h.icon,children:i})," ",s]}),t&&(0,p.jsx)("p",{className:h.cardDescription,title:t,children:t})]})}function j({item:e}){const n=(0,t.Nr)(e),i=function(){const{selectMessage:e}=(0,c.W)();return n=>e(n,(0,d.T)({message:"1 item|{count} items",id:"theme.docs.DocCard.categoryDescription.plurals",description:"The default description for a category card in the generated index about how many items this category includes"},{count:n}))}();return n?(0,p.jsx)(x,{className:e.className,href:n,icon:(0,p.jsx)(f,{}),title:e.label,description:e.description??i(e.items.length)}):null}function y({item:e}){const n=(0,a.A)(e.href)?(0,p.jsx)(m,{}):"\ud83d\udd17",i=(0,t.cC)(e.docId??void 0);return(0,p.jsx)(x,{className:e.className,href:e.href,icon:n,title:e.label,description:e.description??i?.description})}function b({item:e}){switch(e.type){case"link":return(0,p.jsx)(y,{item:e});case"category":return(0,p.jsx)(j,{item:e});default:throw new Error(`unknown item type ${JSON.stringify(e)}`)}}const v={docCardListItem:"docCardListItem_W1sv"};function w({className:e}){const n=(0,t.a4)();return(0,p.jsx)(k,{items:n,className:e})}function C({item:e}){return(0,p.jsx)("article",{className:(0,s.A)(v.docCardListItem,"col col--6"),children:(0,p.jsx)(b,{item:e})})}function k(e){const{items:n,className:i}=e;if(!n)return(0,p.jsx)(w,{...e});const r=(0,t.d1)(n);return(0,p.jsx)("section",{className:(0,s.A)("row",i),children:r.map((e,n)=>(0,p.jsx)(C,{item:e},n))})}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var s=i(96540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}},53051:(e,n,i)=>{i.d(n,{$S:()=>s});i(22777);function s(...e){return i(99752).$S(...e)}},65463:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/schedule-flow-244ed8e0e93738b227ac45cd1a257232.png"}}]);