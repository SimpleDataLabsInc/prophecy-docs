"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[68646],{15680:(e,t,n)=>{n.d(t,{xA:()=>c,yg:()=>y});var a=n(96540);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},g="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),g=s(n),m=i,y=g["".concat(p,".").concat(m)]||g[m]||u[m]||r;return n?a.createElement(y,l(l({ref:t},c),{},{components:n})):a.createElement(y,l({ref:t},c))}));function y(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[g]="string"==typeof e?e:i,l[1]=o;for(var s=2;s<r;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},22906:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>s});var a=n(58168),i=(n(96540),n(15680));const r={title:"Interactive execution",id:"interactive-execution",description:"Run a pipeline interactively in the pipeline canvas",tags:["spark","interactive","development"]},l=void 0,o={unversionedId:"Spark/execution/interactive-execution",id:"Spark/execution/interactive-execution",title:"Interactive execution",description:"Run a pipeline interactively in the pipeline canvas",source:"@site/docs/Spark/execution/interactive-execution.md",sourceDirName:"Spark/execution",slug:"/Spark/execution/interactive-execution",permalink:"/Spark/execution/interactive-execution",draft:!1,tags:[{label:"spark",permalink:"/tags/spark"},{label:"interactive",permalink:"/tags/interactive"},{label:"development",permalink:"/tags/development"}],version:"current",frontMatter:{title:"Interactive execution",id:"interactive-execution",description:"Run a pipeline interactively in the pipeline canvas",tags:["spark","interactive","development"]},sidebar:"mySidebar",previous:{title:"Directory",permalink:"/Spark/gems/custom/directory"},next:{title:"Data Explorer",permalink:"/Spark/execution/data-explorer"}},p={},s=[{value:"Interim data samples",id:"interims",level:2},{value:"Data sampling settings",id:"data-sampling-settings",level:2},{value:"Pipeline settings",id:"pipeline-settings",level:3},{value:"Fabric settings",id:"fabric-settings",level:3},{value:"Execution information",id:"execution-information",level:2},{value:"Shell",id:"shell",level:2}],c={toc:s},g="wrapper";function u(e){let{components:t,...r}=e;return(0,i.yg)(g,(0,a.A)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("p",null,"When developing pipelines in Prophecy, you can run the pipeline interactively in the pipeline canvas. In other words, you can preview the output of your data transformations at every step in your pipeline."),(0,i.yg)("h2",{id:"interims"},"Interim data samples"),(0,i.yg)("p",null,"When you run a pipeline in the pipeline canvas, Prophecy generates ",(0,i.yg)("strong",{parentName:"p"},"interim")," data samples that let you preview the output of your data transformations. There are two ways to run a pipeline interactively:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Run the entire pipeline using the ",(0,i.yg)("strong",{parentName:"li"},"play")," button on the pipeline canvas."),(0,i.yg)("li",{parentName:"ul"},"Execute the pipeline up to and including a particular gem using the ",(0,i.yg)("strong",{parentName:"li"},"play")," button on that gem.")),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"Interactive run options",src:n(13998).A,width:"2620",height:"1508"})),(0,i.yg)("p",null,"After you run your pipeline, you will see the interims appear between gems. These previews are temporarily cached. Learn more about how to navigate the interim data samples in ",(0,i.yg)("a",{parentName:"p",href:"/Spark/execution/data-explorer"},"Data Explorer"),"."),(0,i.yg)("h2",{id:"data-sampling-settings"},"Data sampling settings"),(0,i.yg)("p",null,"Data sampling is enabled by default for interactive execution. However, you can change how data sampling works at the pipeline or fabric level."),(0,i.yg)("h3",{id:"pipeline-settings"},"Pipeline settings"),(0,i.yg)("p",null,"For each pipeline, you can enable, disable, or change interactive data sampling and job data sampling modes. For more information, visit our ",(0,i.yg)("a",{parentName:"p",href:"/Spark/pipeline-settings"},"pipeline settings")," documentation."),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"Data and Job Sampling",src:n(43241).A,width:"2880",height:"1084"})),(0,i.yg)("h3",{id:"fabric-settings"},"Fabric settings"),(0,i.yg)("p",null,"In a fabric, you can enable or disable data sampling and override pipeline-level settings when a pipeline runs on that fabric. This option is available in the ",(0,i.yg)("strong",{parentName:"p"},"Advanced")," tab of a fabric. A common use case is preventing interim data generation in production pipelines."),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"Create a new model test",src:n(54830).A,width:"2620",height:"1508"})),(0,i.yg)("p",null,"By default, only team admins can access the Advanced tab in a fabric. However, there are two flags you can set in your deployment to change this behavior:"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"ALLOW_FABRIC_ACCESS_CLUSTER_ADMIN"),": Grants cluster admins full access to fabrics, even if they are not team admins."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"DISALLOW_FABRIC_CODEDEPS_UPDATE_TEAM_ADMIN"),": Prevents team admins from modifying the data sampling settings within a fabric.")),(0,i.yg)("h2",{id:"execution-information"},"Execution information"),(0,i.yg)("p",null,"Once you run a pipeline, there are several ways for you to better understand the execution."),(0,i.yg)("table",null,(0,i.yg)("thead",{parentName:"table"},(0,i.yg)("tr",{parentName:"thead"},(0,i.yg)("th",{parentName:"tr",align:null},"Callout"),(0,i.yg)("th",{parentName:"tr",align:null},"Information"),(0,i.yg)("th",{parentName:"tr",align:null},"Description"))),(0,i.yg)("tbody",{parentName:"table"},(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"1")),(0,i.yg)("td",{parentName:"tr",align:null},"Problems"),(0,i.yg)("td",{parentName:"tr",align:null},"Errors from your pipeline execution that will be shown in a dialog window, as well as in the canvas footer.")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"2")),(0,i.yg)("td",{parentName:"tr",align:null},"Runtime logs"),(0,i.yg)("td",{parentName:"tr",align:null},"The progress with timestamps of your pipeline runs and any errors.")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"3")),(0,i.yg)("td",{parentName:"tr",align:null},"Execution code"),(0,i.yg)("td",{parentName:"tr",align:null},"The code Prophecy runs to execute your pipeline. You can copy and paste this code elsewhere for debugging.")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"4")),(0,i.yg)("td",{parentName:"tr",align:null},"Runtime metrics"),(0,i.yg)("td",{parentName:"tr",align:null},"Various Spark metrics collected during runtime.")),(0,i.yg)("tr",{parentName:"tbody"},(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("strong",{parentName:"td"},"5")),(0,i.yg)("td",{parentName:"tr",align:null},(0,i.yg)("a",{parentName:"td",href:"/Spark/execution/execution-metrics"},"Execution metrics")),(0,i.yg)("td",{parentName:"tr",align:null},"Metrics that can be found in the ",(0,i.yg)("strong",{parentName:"td"},"Metadata")," of a pipeline, or from the ",(0,i.yg)("strong",{parentName:"td"},"Run History")," button under the ",(0,i.yg)("strong",{parentName:"td"},"...")," menu.")))),(0,i.yg)("p",null,"Use the image below to help you find the relevant information."),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"Execution information",src:n(66815).A,width:"2620",height:"1508"})),(0,i.yg)("h2",{id:"shell"},"Shell"),(0,i.yg)("p",null,"Prophecy comes with an built-in interactive Spark shell that supports both Python and Scala. The shell is an easy way to quickly analyze data or test Spark commands."),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"Interactive execution",src:n(68843).A,width:"3226",height:"1070"})),(0,i.yg)("admonition",{type:"info"},(0,i.yg)("p",{parentName:"admonition"},(0,i.yg)("inlineCode",{parentName:"p"},"Spark context")," and ",(0,i.yg)("inlineCode",{parentName:"p"},"session")," are available within the shell as variables ",(0,i.yg)("inlineCode",{parentName:"p"},"sc")," and ",(0,i.yg)("inlineCode",{parentName:"p"},"spark")," respectively.")))}u.isMDXComponent=!0},68843:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/int_exc_1-06819b9fb816e6634e0c7c55e0225ffe.png"},43241:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/interactive-execution-job-data-sampling-abc32d1b0db57e812c8d35e95dacfc0e.png"},13998:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/interactive-execution-play-options-7843a9990d02ca987ac910a754629874.png"},54830:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/limit-data-preview-interims-b37ec1a06104508551195a267acd7190.png"},66815:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/run-info-c999d194c1477171837e6b5a157df927.png"}}]);