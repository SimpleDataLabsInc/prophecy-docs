"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[24696],{16992:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/schedule-flow-244ed8e0e93738b227ac45cd1a257232.png"},27313:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/weekly-schedule-9142fb8c78d250b00b8356fcc927a3dc.png"},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>c});var s=i(96540);const l={},t=s.createContext(l);function r(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(t.Provider,{value:n},e.children)}},47598:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>a,frontMatter:()=>r,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"analysts/scheduling","title":"Scheduling","description":"Schedule pipeline runs","source":"@site/docs/analysts/scheduling.md","sourceDirName":"analysts","slug":"/analysts/scheduling","permalink":"/analysts/scheduling","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Scheduling","id":"scheduling","slug":"/analysts/scheduling","description":"Schedule pipeline runs","tags":[]},"sidebar":"mySidebar","previous":{"title":"Publication","permalink":"/analysts/project-publication"},"next":{"title":"Monitoring","permalink":"/analysts/monitoring"}}');var l=i(74848),t=i(28453);const r={title:"Scheduling",id:"scheduling",slug:"/analysts/scheduling",description:"Schedule pipeline runs",tags:[]},c=void 0,d={},h=[{value:"Parameters",id:"parameters",level:2},{value:"Schedule a pipeline",id:"schedule-a-pipeline",level:2},{value:"Configure the schedule",id:"configure-the-schedule",level:3},{value:"Activate the schedule",id:"activate-the-schedule",level:3},{value:"Why publish?",id:"why-publish",level:4},{value:"Disabling a schedule",id:"disabling-a-schedule",level:3},{value:"Monitor scheduled pipelines",id:"monitor-scheduled-pipelines",level:2},{value:"External schedulers",id:"external-schedulers",level:2}];function o(e){const n={a:"a",admonition:"admonition",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:"Prophecy lets you schedule and automate your data pipeline runs. Once you have developed a pipeline, you can run it at specific frequencies using Prophecy's native scheduler."}),"\n",(0,l.jsx)(n.p,{children:"Schedules define when the pipeline will run and whether to send alerts about the pipeline run. For a summary of the pipeline scheduling workflow, review the diagram below."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"Scheduling flow",src:i(16992).A+"",width:"2964",height:"750"})}),"\n",(0,l.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,l.jsx)(n.p,{children:"The following table describes schedule parameters for a pipeline. You will create independent schedules per pipeline."}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Parameter"}),(0,l.jsx)(n.th,{children:"Description"}),(0,l.jsx)(n.th,{children:"Default"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Frequency"}),(0,l.jsx)(n.td,{children:"How often the pipeline will run."}),(0,l.jsx)(n.td,{children:"Daily"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Repeat at"}),(0,l.jsxs)(n.td,{children:["When the pipeline run will repeat.",(0,l.jsx)("br",{}),"Example: Repeat every Monday and Friday at 2:00AM."]}),(0,l.jsx)(n.td,{children:"Varies depending on your chosen frequency"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Timezone"}),(0,l.jsxs)(n.td,{children:["The timezone of ",(0,l.jsx)(n.strong,{children:"Repeat at"})," time."]}),(0,l.jsx)(n.td,{children:"The timezone where you are located"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Alerts on the full job"}),(0,l.jsx)(n.td,{children:"Toggle that enables sending an email on the start, success, and/or failure of the pipeline run."}),(0,l.jsx)(n.td,{children:"Off"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Enabled"}),(0,l.jsx)(n.td,{children:"Toggle that enables or disables the schedule"}),(0,l.jsx)(n.td,{children:"Off"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"schedule-a-pipeline",children:"Schedule a pipeline"}),"\n",(0,l.jsx)(n.p,{children:"To run a pipeline on a recurring basis, you need to configure a schedule and publish your project. Let\u2019s walk through both."}),"\n",(0,l.jsx)(n.h3,{id:"configure-the-schedule",children:"Configure the schedule"}),"\n",(0,l.jsx)(n.p,{children:"To create a new schedule:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Open a pipeline in the project editor."}),"\n",(0,l.jsxs)(n.li,{children:["Expand the ",(0,l.jsx)(n.strong,{children:"Options"})," (ellipses) menu in the project header."]}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.strong,{children:"Schedule"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Fill in the schedule frequency."}),"\n",(0,l.jsx)(n.li,{children:"Enable the schedule using the toggle in the top right."}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.strong,{children:"Schedule"})," to save the schedule."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"Weekly schedule",src:i(27313).A+"",width:"2870",height:"1610"})}),"\n",(0,l.jsx)(n.h3,{id:"activate-the-schedule",children:"Activate the schedule"}),"\n",(0,l.jsx)(n.p,{children:"After configuring the schedule, complete the following steps to ensure the schedule runs:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Save your project as a draft."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/analysts/project-publication",children:"Publish your project"})," to one or more fabrics."]}),"\n"]}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsxs)(n.p,{children:["If using Databricks connections in your fabric, ",(0,l.jsx)(n.a,{href:"/administration/fabrics/prophecy-fabrics/connections/databricks#authentication-methods",children:"consider using a service principal"})," for authentication. This helps scheduled pipelines run reliably."]})}),"\n",(0,l.jsx)(n.h4,{id:"why-publish",children:"Why publish?"}),"\n",(0,l.jsx)(n.p,{children:"Publishing is required for scheduled pipelines to run. This is because during project publication, you:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Define the execution environment (fabric)"}),"\n",(0,l.jsx)(n.li,{children:"Determine the pipeline version for execution"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"When you publish a project, you select one or more fabrics that serve as the execution environments for deployed projects. A separate deployment is created for each fabric. Pipeline schedules only run on deployed projects."}),"\n",(0,l.jsx)(n.admonition,{type:"caution",children:(0,l.jsx)(n.p,{children:"If you do not select any fabrics during project publication, no deployments will be created. As a result, no scheduled executions will occur, even if a schedule has been configured. Project deployments are isolated per fabric\u2014publishing to one fabric does not affect others."})}),"\n",(0,l.jsx)(n.p,{children:"Publishing also determines which version of the pipeline will run during scheduled executions. Each time you publish a new version, scheduled runs automatically use the updated version on the selected fabric(s)."}),"\n",(0,l.jsx)(n.h3,{id:"disabling-a-schedule",children:"Disabling a schedule"}),"\n",(0,l.jsx)(n.p,{children:"To stop scheduled pipeline runs:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Open the pipeline schedule."}),"\n",(0,l.jsx)(n.li,{children:"Use the toggle to disable the schedule."}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.strong,{children:"Schedule"})," to save."]}),"\n",(0,l.jsx)(n.li,{children:"Save your project as a draft."}),"\n",(0,l.jsx)(n.li,{children:"Publish the project."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Disabling a schedule also requires publishing your project. Since schedule status is part of the deployment configuration, changes won't take effect until the next project version is published."}),"\n",(0,l.jsx)(n.h2,{id:"monitor-scheduled-pipelines",children:"Monitor scheduled pipelines"}),"\n",(0,l.jsxs)(n.p,{children:["You and your team members might have many scheduled pipelines in your Prophecy environment. To see a list of deployed projects, scheduled pipelines, and pipeline run history, open the ",(0,l.jsx)(n.a,{href:"/analysts/monitoring",children:"Monitoring"})," page in Prophecy."]}),"\n",(0,l.jsx)(n.h2,{id:"external-schedulers",children:"External schedulers"}),"\n",(0,l.jsxs)(n.p,{children:["By default, SQL projects utilize a Prophecy-native scheduler to automate pipeline runs. While we recommend using the Prophecy scheduler, you can also use external schedulers like Databricks Jobs or Apache Airflow if preferred. Additionally, you can use the ",(0,l.jsx)(n.a,{href:"/api/trigger-pipeline/trigger-pipeline-api",children:"Trigger Pipeline API"})," to leverage other orchestration tools."]}),"\n",(0,l.jsxs)(n.p,{children:["To learn more about external schedulers, visit ",(0,l.jsx)(n.a,{href:"/engineers/orchestration",children:"Orchestration"}),"."]})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}}}]);