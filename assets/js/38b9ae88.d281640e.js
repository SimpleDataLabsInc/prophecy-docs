"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[91671],{28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>s});var o=t(96540);const r={},i=o.createContext(r);function a(e){const n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(i.Provider,{value:n},e.children)}},44309:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/copilot_knowledge_graph-18e8a0c69b21f5b71875a485369ee716.png"},71902:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"copilot/knowledge-graph","title":"Knowledge graph","description":"Learn how Prophecy uses knowledge graphs to enhance prompts","source":"@site/docs/copilot/knowledge-graph.md","sourceDirName":"copilot","slug":"/knowledge-graph","permalink":"/knowledge-graph","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"copilot","permalink":"/tags/copilot"},{"inline":true,"label":"knowledge graph","permalink":"/tags/knowledge-graph"}],"version":"current","frontMatter":{"title":"Knowledge graph","id":"knowledge-graph","slug":"/knowledge-graph","description":"Learn how Prophecy uses knowledge graphs to enhance prompts","tags":["copilot","knowledge graph"]},"sidebar":"gettingStartedSidebar","previous":{"title":"Prophecy AI","permalink":"/prophecy-ai"},"next":{"title":"Quick starts","permalink":"/quick-start"}}');var r=t(74848),i=t(28453);const a={title:"Knowledge graph",id:"knowledge-graph",slug:"/knowledge-graph",description:"Learn how Prophecy uses knowledge graphs to enhance prompts",tags:["copilot","knowledge graph"]},s=void 0,d={},c=[{value:"Overview",id:"overview",level:2},{value:"Process",id:"process",level:2},{value:"Indexing",id:"indexing",level:2}];function l(e){const n={a:"a",admonition:"admonition",h2:"h2",img:"img",p:"p",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Copilot works by enhancing prompts using a knowledge graph, or an internal map of your data environment. This gives Copilot the context it needs to generate accurate, relevant answers."}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Prophecy generates knowledge graphs for SQL projects only. Knowledge graphs are not used for Spark projects."})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:["Knowledge graphs are generated per ",(0,r.jsx)(n.a,{href:"/fabrics",children:"fabric"})," in Prophecy. Each knowledge graph contains information from fabrics and other entities, including the statistical usages of these entities. It also contains computed fields that further refine Copilot's capabilities."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Knowledge Graph",src:t(44309).A+"",width:"2880",height:"1868"})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Your data is never stored in the knowledge graph. For more details, see ",(0,r.jsx)(n.a,{href:"/prophecy-ai#security",children:"Security"}),"."]})}),"\n",(0,r.jsx)(n.h2,{id:"process",children:"Process"}),"\n",(0,r.jsx)(n.p,{children:"When you interact with Copilot, Prophecy follows a multi-step process to generate what you need. First, Copilot enriches your prompt using the knowledge graph. This step adds detailed context about your project\u2019s datasets, schemas, and other entities, which helps the agent understand what you're referring to. The enhanced prompt is then sent to OpenAI\u2019s large language model (LLM), which returns SQL code based on the provided context."}),"\n",(0,r.jsx)(n.p,{children:"Once the code is generated, Prophecy validates it and automatically corrects any errors when possible. After validation, Prophecy converts the code into a visual pipeline, which is displayed on the canvas for you to review and customize."}),"\n",(0,r.jsx)(n.h2,{id:"indexing",children:"Indexing"}),"\n",(0,r.jsx)(n.p,{children:"Prophecy indexes your data environment to build the knowledge graph. In other words, the knowledge graph indexer scans your warehouse and indexes table names, schemas, column names, data types, and other metadata. Prophecy then uses this indexed data to enhance AI prompts."}),"\n",(0,r.jsxs)(n.p,{children:["You can trigger the knowledge graph indexer manually or configure it to run automatically on a schedule. For detailed information about configuring knowledge graph crawling, including authentication setup and scheduling options, see ",(0,r.jsx)(n.a,{href:"/administration/fabrics/prophecy-fabrics/knowledge-graph-config",children:"Knowledge graph indexing"}),"."]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);