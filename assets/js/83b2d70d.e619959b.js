"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[79511],{28453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>a});var t=n(96540);const r={},l=t.createContext(r);function i(e){const s=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(l.Provider,{value:s},e.children)}},51541:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>d,default:()=>x,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"analysts/development/gems/transform/transpose","title":"Transpose","description":"Convert your table from wide to long format","source":"@site/docs/analysts/development/gems/transform/transpose.md","sourceDirName":"analysts/development/gems/transform","slug":"/analysts/transpose","permalink":"/analysts/transpose","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"gems","permalink":"/tags/gems"},{"inline":true,"label":"analyst","permalink":"/tags/analyst"},{"inline":true,"label":"transform","permalink":"/tags/transform"}],"version":"current","frontMatter":{"title":"Transpose","id":"transpose","slug":"/analysts/transpose","description":"Convert your table from wide to long format","tags":["gems","analyst","transform"]}}');var r=n(74848),l=n(28453),i=n(82824);const a={title:"Transpose",id:"transpose",slug:"/analysts/transpose",description:"Convert your table from wide to long format",tags:["gems","analyst","transform"]},d=void 0,o={},c=[{value:"Parameters",id:"parameters",level:2},{value:"Example",id:"example",level:2},{value:"Result",id:"result",level:3}];function h(e){const s={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.A,{execution_engine:"SQL Warehouse",sql_package_name:"ProphecyDatabricksSqlBasics",sql_package_version:"0.0.4+"}),"\n",(0,r.jsx)(s.p,{children:"Use the Transpose gem to reshape your dataset by unpivoting columns\u2014perfect for preparing time series data, feeding models, or simplifying analysis. This transformation:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Takes data in wide format (multiple columns for similar data)"}),"\n",(0,r.jsx)(s.li,{children:"Converts it to long format (stacked rows with a single column for names and one for values)"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Parameter"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Key Columns"}),(0,r.jsx)(s.td,{children:"Columns that act as identifiers for each row."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Data Columns"}),(0,r.jsx)(s.td,{children:"Columns (wide format) that you want to transform into a single column (long format)."})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(s.p,{children:"Imagine you have sales data for different products, with each quarter's sales stored in its own column\u2014this is known as wide format. Before modeling seasonal trends or doing time series analysis, it's often helpful to convert this into long format, where each row represents a single observation."}),"\n",(0,r.jsx)("div",{class:"table-example",children:(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Product"}),(0,r.jsx)(s.th,{children:"Q1"}),(0,r.jsx)(s.th,{children:"Q2"}),(0,r.jsx)(s.th,{children:"Q3"}),(0,r.jsx)(s.th,{children:"Q4"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"A"}),(0,r.jsx)(s.td,{children:"100"}),(0,r.jsx)(s.td,{children:"150"}),(0,r.jsx)(s.td,{children:"130"}),(0,r.jsx)(s.td,{children:"170"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"B"}),(0,r.jsx)(s.td,{children:"90"}),(0,r.jsx)(s.td,{children:"120"}),(0,r.jsx)(s.td,{children:"110"}),(0,r.jsx)(s.td,{children:"160"})]})]})]})}),"\n",(0,r.jsx)(s.p,{children:"To configure a Transpose gem for this table:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Identify and enter the key columns. In the example above, the ",(0,r.jsx)(s.code,{children:"Product"})," column is the key column."]}),"\n",(0,r.jsxs)(s.li,{children:["Select the data columns to unpivot. In the example above, all of the quarter columns (",(0,r.jsx)(s.code,{children:"Q1"}),", ",(0,r.jsx)(s.code,{children:"Q2"}),", etc.) are your data columns."]}),"\n",(0,r.jsx)(s.li,{children:"Save and run the gem."}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"result",children:"Result"}),"\n",(0,r.jsx)(s.p,{children:"After the transformation:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["The quarter names (",(0,r.jsx)(s.code,{children:"Q1"}),", ",(0,r.jsx)(s.code,{children:"Q2"}),", etc.) will move into a new ",(0,r.jsx)(s.code,{children:"Name"})," column."]}),"\n",(0,r.jsxs)(s.li,{children:["The corresponding sales values will be stored in a ",(0,r.jsx)(s.code,{children:"Value"})," column."]}),"\n"]}),"\n",(0,r.jsx)("div",{class:"table-example",children:(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Product"}),(0,r.jsx)(s.th,{children:"Name"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"A"}),(0,r.jsx)(s.td,{children:"Q1"}),(0,r.jsx)(s.td,{children:"100"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"A"}),(0,r.jsx)(s.td,{children:"Q2"}),(0,r.jsx)(s.td,{children:"150"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"A"}),(0,r.jsx)(s.td,{children:"Q3"}),(0,r.jsx)(s.td,{children:"130"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"A"}),(0,r.jsx)(s.td,{children:"Q4"}),(0,r.jsx)(s.td,{children:"170"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"B"}),(0,r.jsx)(s.td,{children:"Q1"}),(0,r.jsx)(s.td,{children:"90"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"B"}),(0,r.jsx)(s.td,{children:"Q2"}),(0,r.jsx)(s.td,{children:"120"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"B"}),(0,r.jsx)(s.td,{children:"Q3"}),(0,r.jsx)(s.td,{children:"110"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"B"}),(0,r.jsx)(s.td,{children:"Q4"}),(0,r.jsx)(s.td,{children:"160"})]})]})]})}),"\n",(0,r.jsx)(s.p,{children:"This makes your data easier to analyze over time, since each row now represents one product's sales for a specific quarter."})]})}function x(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},82824:(e,s,n)=>{n.d(s,{A:()=>r});n(96540);var t=n(74848);function r(e){return(0,t.jsxs)("div",{children:[e.execution_engine&&(0,t.jsx)("a",{href:"https://docs.prophecy.io/administration/fabrics/prophecy-fabrics/",children:(0,t.jsx)("span",{className:"badge badge-runtime",children:e.execution_engine})}),e.sql_package_name&&e.sql_package_version&&(0,t.jsx)("a",{href:"https://docs.prophecy.io/engineers/package-hub/",children:(0,t.jsxs)("span",{className:"badge badge-dependency",children:[e.sql_package_name," ",e.sql_package_version]})}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{})]})}}}]);