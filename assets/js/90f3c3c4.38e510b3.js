"use strict";(self.webpackChunkdocs_4=self.webpackChunkdocs_4||[]).push([[78286],{2674:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>x,frontMatter:()=>c,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"analysts/development/gems/source-target/external-table/databricks","title":"Databricks","description":"Read and write catalog tables in Databricks","source":"@site/docs/analysts/development/gems/source-target/external-table/databricks.md","sourceDirName":"analysts/development/gems/source-target/external-table","slug":"/analysts/databricks","permalink":"/analysts/databricks","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Databricks","id":"databricks","slug":"/analysts/databricks","description":"Read and write catalog tables in Databricks","tags":[]},"sidebar":"mySidebar","previous":{"title":"Upload files","permalink":"/analysts/upload-file"},"next":{"title":"Google BigQuery","permalink":"/analysts/bigquery"}}');var s=a(74848),n=a(28453),i=a(82824);const c={title:"Databricks",id:"databricks",slug:"/analysts/databricks",description:"Read and write catalog tables in Databricks",tags:[]},o=void 0,d={},l=[{value:"Source configuration",id:"source-configuration",level:2},{value:"Source location",id:"source-location",level:3},{value:"Target configuration",id:"target-configuration",level:2},{value:"Target location",id:"target-location",level:3},{value:"Target properties",id:"target-properties",level:3},{value:"Cross-workspace access",id:"cross-workspace-access",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.A,{execution_engine:"Prophecy Automate",sql_package_name:"",sql_package_version:""}),"\n",(0,s.jsxs)(t.p,{children:["This page describes how to use Databricks external Source and Target gems to read from or write to tables. Only use an external Source and Target gem when Databricks is not the configured ",(0,s.jsx)(t.a,{href:"/administration/fabrics/prophecy-fabrics/#connections",children:"SQL warehouse connection"}),". Otherwise, use the ",(0,s.jsx)(t.a,{href:"/analysts/bigquery-table",children:"Table gem"}),"."]}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["If you\u2019re working with file types like CSV or Parquet from Databricks, see ",(0,s.jsx)(t.a,{href:"/analysts/file-types",children:"File types"})," for guidance. This page focuses only on catalog tables."]})}),"\n",(0,s.jsx)(t.h2,{id:"source-configuration",children:"Source configuration"}),"\n",(0,s.jsx)(t.p,{children:"Use these settings to configure a Databricks Source gem for reading data."}),"\n",(0,s.jsx)(t.h3,{id:"source-location",children:"Source location"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Format type"}),(0,s.jsxs)(t.td,{children:["Table format for the source. For Databricks tables, set to ",(0,s.jsx)(t.code,{children:"databricks"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Select or create connection"}),(0,s.jsxs)(t.td,{children:["Select or create a new ",(0,s.jsx)(t.a,{href:"/administration/fabrics/prophecy-fabrics/connections/databricks",children:"Databricks connection"})," in the Prophecy fabric you will use."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Database"}),(0,s.jsx)(t.td,{children:"Database including the schema where the table is located."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Schema"}),(0,s.jsx)(t.td,{children:"Schema containing the table you want to read from."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Name"}),(0,s.jsx)(t.td,{children:"Exact name of the Databricks table to read data from."})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"target-configuration",children:"Target configuration"}),"\n",(0,s.jsx)(t.p,{children:"Use these settings to configure a BigQuery Target gem for writing data."}),"\n",(0,s.jsx)(t.h3,{id:"target-location",children:"Target location"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Format type"}),(0,s.jsxs)(t.td,{children:["Table format for the target. For Databricks tables, set to ",(0,s.jsx)(t.code,{children:"databricks"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Select or create connection"}),(0,s.jsxs)(t.td,{children:["Select or create a new ",(0,s.jsx)(t.a,{href:"/administration/fabrics/prophecy-fabrics/connections/databricks",children:"Databricks connection"})," in the Prophecy fabric you will use."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Database"}),(0,s.jsx)(t.td,{children:"Database including the schema where the table is/will be located."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Schema"}),(0,s.jsx)(t.td,{children:"Schema where the target table will be created or updated."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Name"}),(0,s.jsx)(t.td,{children:"Name of the Databricks table to write data to. If the table doesn\u2019t exist, it will be created automatically."})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"target-properties",children:"Target properties"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Property"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Default"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Description"}),(0,s.jsx)(t.td,{children:"Description of the table."}),(0,s.jsx)(t.td,{children:"None"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Write Mode"}),(0,s.jsx)(t.td,{children:"Whether to overwrite the table completely, append new data to the table, or throw an error if the table exists."}),(0,s.jsx)(t.td,{children:"None"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"cross-workspace-access",children:"Cross-workspace access"}),"\n",(0,s.jsx)(t.p,{children:"If your fabric uses Databricks as the SQL warehouse, you can\u2019t select Databricks in an external Source or Target gem. Instead, you must use Table gems, which are limited to the Databricks warehouse defined in the SQL warehouse connection."}),"\n",(0,s.jsxs)(t.p,{children:["To work with tables from a different Databricks workspace, use ",(0,s.jsx)(t.a,{href:"https://docs.databricks.com/aws/en/delta-sharing/",children:"Delta Sharing"}),". Delta Sharing lets you access data across workspaces without creating additional Databricks connections."]}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"Prophecy implements this guardrail to avoid using external connections when the data can be made available in your warehouse. External connections introduce an extra data transfer step, which slows down pipeline execution and adds unnecessary complexity. For best performance, Prophecy always prefers reading and writing directly within the warehouse."})})]})}function x(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,t,a)=>{a.d(t,{R:()=>i,x:()=>c});var r=a(96540);const s={},n=r.createContext(s);function i(e){const t=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(n.Provider,{value:t},e.children)}},82824:(e,t,a)=>{a.d(t,{A:()=>s});a(96540);var r=a(74848);function s(e){return(0,r.jsxs)("div",{children:[e.execution_engine&&(0,r.jsx)("a",{href:"https://docs.prophecy.io/administration/fabrics/prophecy-fabrics/",children:(0,r.jsx)("span",{className:"badge badge-runtime",children:e.execution_engine})}),e.sql_package_name&&e.sql_package_version&&(0,r.jsx)("a",{href:"https://docs.prophecy.io/engineers/package-hub/",children:(0,r.jsxs)("span",{className:"badge badge-dependency",children:[e.sql_package_name," ",e.sql_package_version]})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]})}}}]);