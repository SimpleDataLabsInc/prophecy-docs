<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-administration/self-hosted/installation-helm/installation-helm" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Installation via Helm | Prophecy</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.prophecy.io/self-hosted-helm-installation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Installation via Helm | Prophecy"><meta data-rh="true" name="description" content="Installation via Helm"><meta data-rh="true" property="og:description" content="Installation via Helm"><link data-rh="true" rel="icon" href="/img/favicon2.png"><link data-rh="true" rel="canonical" href="https://docs.prophecy.io/self-hosted-helm-installation"><link data-rh="true" rel="alternate" href="https://docs.prophecy.io/self-hosted-helm-installation" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.prophecy.io/self-hosted-helm-installation" hreflang="x-default"><link rel="search" type="application/opensearchdescription+xml" title="Prophecy" href="/opensearch.xml">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="/assets/css/styles.16451571.css">
<script src="/assets/js/runtime~main.1f4a7428.js" defer="defer"></script>
<script src="/assets/js/main.29d909ef.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Prophecy Logo.png" alt="Prophecy Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/Prophecy Logo White.png" alt="Prophecy Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/">Docs</a><a class="navbar__item navbar__link" href="/administration">Administration</a><a href="https://transpiler.docs.prophecy.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Transpiler</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/getting-help">Help</a><a href="mailto:docs@prophecy.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Feedback</a><a href="http://app.prophecy.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Login</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div id="inkeep-shadowradix-:R1spa5:" style="display:contents"></div><span></span></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/administration/">Administration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item sidebar-title">Team Admins</li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/administration/teams-users/teams-users">Teams and users</a><button aria-label="Expand sidebar category &#x27;Teams and users&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/administration/fabrics">Fabric setup</a><button aria-label="Expand sidebar category &#x27;Fabric setup&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/administration/secrets/">Secrets</a><button aria-label="Expand sidebar category &#x27;Secrets&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><span class="sidebar-divider"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item sidebar-title">Prophecy Cluster Admins</li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/administration/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/administration/prophecy-deployment">Prophecy deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/administration/security">Security</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/administration/authentication/">Authentication</a><button aria-label="Expand sidebar category &#x27;Authentication&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/administration/saas/audit-logging">SaaS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/administration/self-hosted/">Self-hosted</a><button aria-label="Collapse sidebar category &#x27;Self-hosted&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" tabindex="0" href="/self-hosted-helm-installation">Installation via Helm</a><button aria-label="Collapse sidebar category &#x27;Installation via Helm&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/administration/self-hosted/installation-helm/install-on-aws">AWS installation guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/administration/self-hosted/installation-marketplaces/">Installation via Marketplaces</a><button aria-label="Expand sidebar category &#x27;Installation via Marketplaces&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/administration/self-hosted/configurations/">Configurations</a><button aria-label="Expand sidebar category &#x27;Configurations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/administration/self-hosted/upgrade-backup-restore">Upgrades and backups</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/administration/self-hosted/configure-sparkedge">Custom artifact repository</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/administration/self-hosted/resource-monitoring">Resource monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/administration/self-hosted/download-logs">Download logs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/administration/self-hosted/generate-api-key">Generate API key</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/administration/self-hosted/enable-data-copilot">Enable Data Copilot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/administration/self-hosted/">Self-hosted</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/getting-help">Getting help</a><button aria-label="Expand sidebar category &#x27;Getting help&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/administration/self-hosted/"><span itemprop="name">Self-hosted</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Installation via Helm</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Installation via Helm</h1></header><p>One way to install Prophecy is to use <a href="https://helm.sh/docs/intro/quickstart/" target="_blank" rel="noopener noreferrer">Helm</a>.
Installation requirements and Helm chart values are outlined in this page.</p>
<p>For an example step-by-step installation, visit <a href="/administration/self-hosted/installation-helm/install-on-aws">AWS installation guide</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-cluster-requirements">Kubernetes cluster requirements<a href="#kubernetes-cluster-requirements" class="hash-link" aria-label="Direct link to Kubernetes cluster requirements" title="Direct link to Kubernetes cluster requirements">​</a></h3>
<ul>
<li><strong>Kubernetes Version</strong>: 1.21 or later.</li>
<li><strong>Namespace</strong>: Dedicated namespace for Prophecy installation.</li>
<li><strong>Permissions</strong>: Ability to install custom resources (CRDs) or deploy an additional provided Helm chart.</li>
<li><strong>Cluster Configuration</strong>: Supports multi-AZ or single-AZ mode.</li>
<li><strong>Block Storage</strong>: Required; in multi-AZ mode, set volume binding mode to <code>waitforfirstconsumer</code>.</li>
<li><strong>Persistent Storage</strong>: Dynamic provisioning (e.g., gp2) required.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="helm-requirements">Helm requirements<a href="#helm-requirements" class="hash-link" aria-label="Direct link to Helm requirements" title="Direct link to Helm requirements">​</a></h3>
<ul>
<li><strong><a href="https://helm.sh/docs/intro/quickstart/" target="_blank" rel="noopener noreferrer">Helm</a></strong>: Must be installed to deploy Prophecy.</li>
<li><strong><a href="#custom-domain-names">Custom Domain Hosting</a></strong>: Requires SSL certificates and DNS configuration; include during Helm installation.</li>
<li><strong><a href="#private-container-registry">Private Container Registry</a></strong>: Pull images from <code>gcr.io/prophecy-share</code> and push to your private registry. Set <code>global.repository</code> during Helm installation.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="minimum-resource-requirements">Minimum resource requirements<a href="#minimum-resource-requirements" class="hash-link" aria-label="Direct link to Minimum resource requirements" title="Direct link to Minimum resource requirements">​</a></h3>
<table><thead><tr><th>Components</th><th>Description</th><th># Cores</th><th># RAM</th><th># Block Storage</th></tr></thead><tbody><tr><td>Prophecy core services</td><td>Main services (front-end, code editor, metadata, lineage, etc.)</td><td>40 Cores</td><td>78GB</td><td>160GB</td></tr><tr><td>Platform</td><td>Backups, monitoring, logging services (optional)</td><td>4 Cores</td><td>8GB</td><td>200GB</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-prophecy">Install Prophecy<a href="#install-prophecy" class="hash-link" aria-label="Direct link to Install Prophecy" title="Direct link to Install Prophecy">​</a></h2>
<p>The <code>helm install</code> command installs Prophecy via the provided Helm chart.</p>
<ol>
<li>
<p>To retrieve the Prophecy Helm chart, run the command:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo add prophecy https://prophecy-chart.s3.us-west-2.amazonaws.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>If you want to install Prophecy using all of the provided values, the simplest command to run is:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm -n &lt;namespace&gt; install prophecy prophecy/prophecy-installer --version &lt;prophecy-chart-version&gt; --set global.customer.name=&lt;customer-name&gt; --set global.prophecy.rootUrl=&lt;IDE-URL&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<p>Read through the rest of this page to understand how to customize the installation command.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="helm-chart-values">Helm chart values<a href="#helm-chart-values" class="hash-link" aria-label="Direct link to Helm chart values" title="Direct link to Helm chart values">​</a></h2>
<p>Prophecy is installed via Helm chart called the Prophecy-installer. The following are the commonly used values which can be configured for this helm chart. The Helm chart values can be broadly classified into 5 different sections:</p>
<ul>
<li><strong>Athena:</strong> Configurations related to the management plane.</li>
<li><strong>Global:</strong> Configurations for all common values between components like Athena, Postgres, and Platform.</li>
<li><strong>Postgres:</strong> Configurations related to Postgres or at the database level.</li>
<li><strong>Platform:</strong> Configurations regarding various platform components like elastic search, Prometheus, Grafana, etc.</li>
<li><strong>Version:</strong> The Prophecy version you want to deploy.</li>
</ul>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Complete table of Helm values</summary><div><div class="collapsibleContent_i85q"><p><em>Parameters marked with an asterisk(*) are mandatory.</em></p>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Default value</th></tr></thead><tbody><tr><td><strong>ATHENA</strong></td><td></td><td></td><td></td></tr><tr><td><code>athena.config</code></td><td>-</td><td></td><td></td></tr><tr><td><code>athena.config.fromFile</code></td><td>bool</td><td>Set this to <code>false</code> if you want to pass different environment and Prophecy application level configurations values inline here. If you keep it to <code>true</code>, the values are taken from the <code>../configs</code> directory of the helm chart</td><td><code>true</code></td></tr><tr><td><code>athena.config.athenaEnvs</code></td><td>map[string]string</td><td>Provide the values you wish to override in athena ENV variables. Passed in the format of <code>KEY: &quot;value&quot;</code>. Value is type sensitive. This field is only respected when fromFile is set to <code>false</code>.</td><td><code>./configs/athena-env-cluster.yaml</code></td></tr><tr><td><code>athena.config.envs</code></td><td>map[string]string</td><td>Provide the values you wish to override in Prophecy application ENV variables. Passed in the format of <code>KEY: &quot;value&quot;</code>. Value is type sensitive. This field is only respected when fromFile is set to <code>false</code>.</td><td><code>./configs/env-cluster.yaml</code></td></tr><tr><td><code>athena.config.prophecyCluster</code></td><td>prophecyCluster (custom)</td><td>Provide the values you wish to override in Prophecy cluster spec. This field is only respected when fromFile is set to <code>false</code>.</td><td><code>./configs/prophecy-cluster.yaml</code></td></tr><tr><td><code>athena.enableSandboxing</code></td><td>bool</td><td>Set this to true to enable sandboxing feature.</td><td><code>false</code></td></tr><tr><td><code>athena.enableSignup</code></td><td>bool</td><td>Set this to true if you want to allow signups using a verified email-id.</td><td><code>false</code></td></tr><tr><td><code>athena.enableSlimImages</code></td><td>bool</td><td>Set this to true to deploy Prophecy slim images (images without Spark).</td><td><code>false</code></td></tr><tr><td><code>athena.isDarkCluster</code></td><td>bool</td><td>Set this to true if the cluster doesn&#x27;t have internet access.</td><td><code>false</code></td></tr><tr><td><code>athena.resources</code></td><td>-</td><td></td><td></td></tr><tr><td><code>athena.resources.requests</code></td><td>-</td><td></td><td></td></tr><tr><td><code>athena.resources.requests.cpu</code></td><td>string</td><td>Guaranteed value of CPU required to deploy Athena</td><td><code>200m</code></td></tr><tr><td><code>athena.resources.requests.memory</code></td><td>string</td><td>Guaranteed value of memory required to deploy Athena</td><td><code>512Mi</code></td></tr><tr><td><code>athena.resources.limits</code></td><td>-</td><td></td><td></td></tr><tr><td><code>athena.resources.limits.cpu</code></td><td>string</td><td>Maximum usage of CPU for Athena</td><td><code>200m</code></td></tr><tr><td><code>athena.resources.limits.memory</code></td><td>string</td><td>Maximum usage of memory for Athena</td><td><code>512Mi</code></td></tr><tr><td><code>athena.trustCA</code></td><td>bool</td><td>set this variable if you want metagraph and execution to trust local self signed certificates.</td><td><code>true</code></td></tr><tr><td><strong>GLOBAL</strong></td><td></td><td></td><td></td></tr><tr><td><code>global.blockStorage</code></td><td>-</td><td>Kubernetes PVC block storage options for for Athena, Postgres and Platform components. Prophecy services takes storage values from Prophecy cluster in configs dir.</td><td></td></tr><tr><td><code>global.blockStorage.storageClassName</code></td><td>string</td><td>Kubernetes storage class (SC) name to be used by PVCs</td><td><code>default</code></td></tr><tr><td><code>global.blockStorage.pvcAnnotations</code></td><td>map[string]string</td><td>Any additional kubernetes annotations to be set on the PVCs</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>global.customer</code></td><td>-</td><td></td><td></td></tr><tr><td><code>global.customer.name</code>*</td><td>string</td><td>Name of the customer to uniquely identify</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>global.customer.cluster</code>*</td><td>string</td><td>Name of the cluster to uniquely identify the cluster for a customer</td><td><code>prophecy</code></td></tr><tr><td><code>global.disableIngressCreation</code></td><td>bool</td><td>Set this to true, if the customer wishes to manually manage their ingress entries</td><td><code>false</code></td></tr><tr><td><code>global.imagePullPolicy</code></td><td>string</td><td>Image pull policy for all the containers deployed</td><td><code>Always</code></td></tr><tr><td><code>global.ingressController</code></td><td>-</td><td></td><td></td></tr><tr><td><code>global.ingressController.type</code></td><td>string</td><td>Type of ingress controller being used. Currently we support <code>nginx</code> and <code>istio</code></td><td><code>nginx</code></td></tr><tr><td><code>global.ingressController.class</code></td><td>string</td><td>Name of the controller class which is to be used for ingress resources</td><td><code>prophecy-nginx</code></td></tr><tr><td><code>global.istio</code></td><td>-</td><td></td><td></td></tr><tr><td><code>global.istio.enabled</code></td><td>bool</td><td>Set this to true to allow usage of istio as an ingress controller/gateway. We don&#x27;t support sidecars yet. Istio isn&#x27;t installed or managed by Prophecy.</td><td><code>false</code></td></tr><tr><td><code>global.istio.gateway</code></td><td>-</td><td></td><td></td></tr><tr><td><code>global.istio.gateway.name</code></td><td>string</td><td>Name of the Istio gateway</td><td><code>istio-gateways/istio-gateway</code></td></tr><tr><td><code>global.istio.gateway.create</code></td><td>bool</td><td>Set this to true, when you wish to create the Istio gateway</td><td><code>false</code></td></tr><tr><td><code>global.prophecy</code></td><td>-</td><td></td><td></td></tr><tr><td><code>global.prophecy.domainValue</code></td><td>string</td><td>domain value used for cookies. Used to configure multiple URLs.</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>global.prophecy.envSecret</code></td><td>-</td><td>Is configured when Prophecy credentials are fetched as a kubernetes secret</td><td></td></tr><tr><td><code>global.prophecy.envSecret.create</code></td><td>bool</td><td>Set to true if the secret is to be created. With <code>false</code> the secret is expected to be created by the customer.</td><td><code>false</code></td></tr><tr><td><code>global.prophecy.envSecret.data</code></td><td>map[string]string</td><td>Provide the values you wish to override in Prophecy secret ENV variables. Passed in the format of <code>METADATA_DB_PASSWORD: dummyPassword123</code>.</td><td></td></tr><tr><td><code>global.prophecy.envSecret.name</code></td><td>string</td><td>Name of the Kubernetes secret to be used.</td><td><code>env-secrets</code></td></tr><tr><td><code>global.prophecy.imagePullSecret</code></td><td>string</td><td>Name of the Kubernetes secret which contains the image pull credentials to the container registry.</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>global.prophecy.rootUrl</code>*</td><td>string</td><td>Root URL where the Prophecy deployment will be hosted. You may provider a list of comma separated urls if you wish to work with multiple urls. Note that the first url in the provided list will be considered as the primary url.</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>global.prophecy.wildcardCert</code></td><td>-</td><td></td><td></td></tr><tr><td><code>global.prophecy.wildcardCert.name</code></td><td>string</td><td>The number of secrets passed should either be one or equal to the number of rootUrls provided which should be generated for each of these URLs in respective order.</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>global.prophecy.wildcardCert.useExternal</code></td><td>bool</td><td>Setting this to true will require the customer to provide a secret name here.</td><td><code>false</code></td></tr><tr><td><code>global.repository</code></td><td>string</td><td>Container registry prefix to be used.</td><td><code>gcr.io/prophecy-share</code></td></tr><tr><td><code>global.tls</code></td><td>-</td><td></td><td></td></tr><tr><td><code>global.tls.enabled</code></td><td>bool</td><td>Specifies if TLS is to be enabled</td><td><code>true</code></td></tr><tr><td><code>global.tls.certOnLB</code></td><td>bool</td><td>Specifies whether TLS termination is to be done at the loadbalancer</td><td><code>false</code></td></tr><tr><td><strong>POSTGRES</strong></td><td></td><td></td><td></td></tr><tr><td><code>postgres.isExternalPostgres</code></td><td>bool</td><td>Setting this to true, will allow Prophecy services to use a externally managed Postgres instance and will not use a Prophecy managed instance.</td><td><code>false</code></td></tr><tr><td><code>postgres.host</code></td><td>string</td><td>Specifies the host name for the postgres service. If isExternalPostgres, pass the DNS host name (Not IP) for the external postgres here.</td><td><code>postgres</code></td></tr><tr><td><code>postgres.port</code></td><td>int</td><td>Specifies the port used to communicate with postgres.</td><td><code>5432</code></td></tr><tr><td><code>postgres.resources</code></td><td>-</td><td></td><td></td></tr><tr><td><code>postgres.resources.requests</code></td><td>-</td><td></td><td></td></tr><tr><td><code>postgres.resources.requests.cpu</code></td><td>string</td><td>Guaranteed value of CPU required to deploy Postgres</td><td><code>1</code></td></tr><tr><td><code>postgres.resources.requests.memory</code></td><td>string</td><td>Guaranteed value of memory required to deploy Postgres</td><td><code>2000Mi</code></td></tr><tr><td><code>postgres.resources.limits</code></td><td>-</td><td></td><td></td></tr><tr><td><code>postgres.resources.limits.cpu</code></td><td>string</td><td>Maximum usage of CPU for Postgres</td><td><code>2</code></td></tr><tr><td><code>postgres.resources.limits.memory</code></td><td>string</td><td>Maximum usage of memory for Postgres</td><td><code>4000Mi</code></td></tr><tr><td><code>postgres.secretName</code></td><td>string</td><td>Specifies the postgres AWS secret manager name from where postgres credentials are to be fetched from.</td><td></td></tr><tr><td><code>postgres.secretLocation</code></td><td>string</td><td>Specifies the postgres AWS secret manager region from where postgres credentials are to be fetched from.</td><td></td></tr><tr><td><code>postgres.volume</code></td><td>-</td><td></td><td></td></tr><tr><td><code>postgres.volume.requests</code></td><td>string</td><td>Specifies the volume size of the PVC used by postgres</td><td><code>25Gi</code></td></tr><tr><td><strong>PLATFORM</strong></td><td></td><td></td><td></td></tr><tr><td><code>platform.enabled</code></td><td>bool</td><td>Specifies if one/more of the platform components are to be enabled</td><td><code>true</code></td></tr><tr><td><code>platform.elasticsearch.enabled</code></td><td>bool</td><td>Specifies if elasticsearch is to be enabled and deployed for supporting Prophecy search feature</td><td><code>true</code></td></tr><tr><td><code>platform.ingressNginx.enabled</code></td><td>bool</td><td>Specifies if nginx controller is to be deployed for ingress routing</td><td><code>true</code></td></tr><tr><td><code>platform.namespace</code></td><td>string</td><td>Specifies the namespace used to deploy the platform components</td><td><code>prophecy</code></td></tr><tr><td><code>platform.tracing.enabled</code></td><td>bool</td><td>Specifies if Jaeger based tracing is to be enabled and deployed</td><td><code>true</code></td></tr><tr><td><strong>VERSION</strong></td><td></td><td></td><td></td></tr><tr><td><code>version</code></td><td>string</td><td>Specifies the Prophecy version to be deployed</td><td><code>&quot;&quot;</code></td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-configurations">Common configurations<a href="#common-configurations" class="hash-link" aria-label="Direct link to Common configurations" title="Direct link to Common configurations">​</a></h3>
<p>Here are some configurations that are commonly changed from the default.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="nginx-ingress-controller">Nginx ingress controller<a href="#nginx-ingress-controller" class="hash-link" aria-label="Direct link to Nginx ingress controller" title="Direct link to Nginx ingress controller">​</a></h4>
<p>By default, Prophecy will install its own managed Nginx ingress controller during the Helm installation. If you want to use your own Nginx ingress controller already installed on your Kubernetes cluster, you can do so if it supports external service exposure via a LoadBalancer. You&#x27;ll have to set <code>global.disableIngressCreation</code> to true, and set <code>global.ingressController.class</code> to the appropriate name.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="private-container-registry">Private container registry<a href="#private-container-registry" class="hash-link" aria-label="Direct link to Private container registry" title="Direct link to Private container registry">​</a></h4>
<p>During the Helm installation, docker images are pulled from Prophecy&#x27;s public Google Container Registry <code>gcr.io/prophecy-share</code>. If you want to use your own private container registry, you can specify it by setting the <code>global.repository</code> value during installation. Make sure to push all the images to your private registry first.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="custom-domain-names">Custom domain names<a href="#custom-domain-names" class="hash-link" aria-label="Direct link to Custom domain names" title="Direct link to Custom domain names">​</a></h4>
<p>If you are using Prophecy&#x27;s domain, you don&#x27;t have to worry about hostname resolution. However, if you want to use your own domain, you need to create SSL certificates, set up the correct DNS configurations, and include that information during the Helm installation.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-example-helm-install-commands">Additional example Helm install commands<a href="#additional-example-helm-install-commands" class="hash-link" aria-label="Direct link to Additional example Helm install commands" title="Direct link to Additional example Helm install commands">​</a></h2>
<ul>
<li>
<p>Using your own SSL certificates without internet connectivity:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm -n &lt;namespace&gt; install prophecy prophecy/prophecy-installer --version &lt;prophecy-chart-version&gt; --set global.customer.name=&lt;customer name&gt; --set global.prophecy.rootUrl=&lt;Base URL&gt; --set global.prophecy.wildcardCert.useExternal=true --set global.prophecy.wildcardCert.name=&lt;wildcard cert secret name&gt; --set athena.controlcenter.disabled=true --set global.repository=&lt;Image repository&gt; --set global.prophecy.imagePullSecret=&lt;Image pull secret name&gt; --set athena.isDarkCluster=true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Using an external SQL database:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm -n &lt;namespace&gt; upgrade -i prophecy-installer prophecy/prophecy-installer --version 3.3.1-1 --set version=3.3.1.1 --set global.customer.cluster={cluster-name} --set global.prophecy.rootUrl={cluster-name}-{customer-name}.dev.cloud.prophecy.io --set global.customer.name={customer-name} --set postgres.isExternalPostgres=true --set postgres.host={googlesql-dns-name} --set postgres.user={google-sql-user-name} --set postgres.password={google-sql-user-password} --debug</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/deployment">deployment</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/installation">installation</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/helm">helm</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/administration/self-hosted/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Self-hosted</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/administration/self-hosted/installation-helm/install-on-aws"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">AWS installation guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#kubernetes-cluster-requirements" class="table-of-contents__link toc-highlight">Kubernetes cluster requirements</a></li><li><a href="#helm-requirements" class="table-of-contents__link toc-highlight">Helm requirements</a></li><li><a href="#minimum-resource-requirements" class="table-of-contents__link toc-highlight">Minimum resource requirements</a></li><li><a href="#install-prophecy" class="table-of-contents__link toc-highlight">Install Prophecy</a></li><li><a href="#helm-chart-values" class="table-of-contents__link toc-highlight">Helm chart values</a><ul><li><a href="#common-configurations" class="table-of-contents__link toc-highlight">Common configurations</a></li></ul></li><li><a href="#additional-example-helm-install-commands" class="table-of-contents__link toc-highlight">Additional example Helm install commands</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Prophecy</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.prophecy.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.prophecy.io/blogs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/prophecy-io-support/shared_invite/zt-1dwuvkakg-JcavnQuoukyZ3q5jkSkKCg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:docs@prophecy.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation feedback<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://app.prophecy.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Login<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 Prophecy Inc All Rights Reserved <a href="https://legal.prophecy.io/privacy" target="_blank">Privacy Policy</a></div></div></div></footer></div>
</body>
</html>